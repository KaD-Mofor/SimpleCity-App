{"version":3,"file":"ScopeCheckBox.js","sources":["../../../../../../src/v2/view-builder/components/ScopeCheckBox.js"],"sourcesContent":["import { _, internal, loc } from '@okta/courage';\nimport { doesI18NKeyExist } from 'v2/ion/i18nTransformer';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nconst CheckBox = internal.views.forms.inputs.CheckBox;\n\nexport default CheckBox.extend({\n  template: hbs`\n    <input type=\"checkbox\" name=\"{{name}}\" id=\"{{inputId}}\"/>\n    <label for=\"{{inputId}}\" data-se-for-name=\"{{name}}\"><b>{{placeholder}}</b><p>{{desc}}</p></label>\n  `,\n\n  getLocalizedLabel: function() {\n    const key = `consent.scopes.${this.options.options.scopeName}.label`;\n    return doesI18NKeyExist(key) ? loc(key, 'login') : (this.options.placeholder || this.options.options.scopeName);\n  },\n\n  getLocalizedDesc: function() {\n    const key = `consent.scopes.${this.options.options.scopeName}.desc`;\n    return doesI18NKeyExist(key) ? loc(key, 'login') : this.options.options.desc;\n  },\n\n  isCustomizedScope: function() {\n    return !doesI18NKeyExist(`consent.scopes.${this.options.options.scopeName}.label`);\n  },\n\n  /**\n   * @Override\n   */\n  enable: function() {\n    if (this.options.options.mutable) {\n      this.$(':input').prop('disabled', false);\n    }\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function() {\n\n    this.$el.html(this.template(_.extend(_.omit(this.options, 'placeholder'), {\n      placeholder: this.getLocalizedLabel(),\n      desc: this.getLocalizedDesc()\n    })));\n\n    this.$(':checkbox').prop('checked', this.getModelValue() || false);\n\n    this.$('input').customInput();\n    this.model.trigger('form:resize');\n\n\n    if (!this.options.options.mutable) {\n      const input = this.$('input').get(0);\n      this.$(input.parentElement).addClass('o-form-read-mode');\n      this.$(':checkbox').prop('disabled', true);\n    }\n\n    if (this.options.options.scopeName === 'openid' || this.isCustomizedScope()) {\n      this.$('label > b').addClass('no-translate');\n      if (this.isCustomizedScope()) {\n        this.$('label > p').addClass('no-translate');\n      }\n    }\n\n    return this;\n  },\n\n});"],"names":["CheckBox","internal","views","forms","inputs","extend","template","getLocalizedLabel","key","options","scopeName","doesI18NKeyExist","loc","placeholder","getLocalizedDesc","desc","isCustomizedScope","enable","mutable","$","prop","editMode","$el","html","_","omit","getModelValue","customInput","model","trigger","input","get","parentElement","addClass"],"mappings":"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"}