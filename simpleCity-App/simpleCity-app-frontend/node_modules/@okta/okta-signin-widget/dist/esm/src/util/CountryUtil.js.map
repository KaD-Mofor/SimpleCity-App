{"version":3,"file":"CountryUtil.js","sources":["../../../../src/util/CountryUtil.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport _ from 'underscore';\nimport { loc } from './loc';\nimport bundles from './Bundles';\nimport countryCallingCodes from './countryCallingCodes';\nconst fn = {};\n\n// () => [{ countryCode: countryName }], sorted by countryName\nfn.getCountries = function() {\n  const countries = _.omit(bundles.country, 'HM', 'BV', 'TF');\n  // HM, BV, and TF do not have phone prefixes, so don't give the\n  // user the option to choose these countries. FYI it appears that these\n  // countries do not have calling codes because they are ~~uninhabited~~\n\n  let collection = _.map(countries, function(name, code) {\n    return { name: name, code: code };\n  });\n\n  // Sort it; figure out if there is a better way to do this (best would\n  // be to sort it in the properties file!!)\n\n  collection = _.sortBy(collection, 'name');\n  const sorted = {};\n\n  _.each(collection, function(country) {\n    sorted[country.code] = country.name;\n  });\n\n  return sorted;\n};\n\nfn.getCountryCode = function(){\n\n  const countries = _.omit(bundles.country, 'HM', 'BV', 'TF');\n  // HM, BV, and TF do not have phone prefixes, so don't give the\n  // user the option to choose these countries. FYI it appears that these\n  // countries do not have calling codes because they are ~~uninhabited~~\n\n  let collection = _.map(countries, function(name, code) {\n    return { name: name, code: code };\n  });\n\n  collection = _.sortBy(collection, 'name');\n  const sorted = {};\n\n  _.each(collection, function(country) {\n    sorted[country.code] = loc('country.option.label', 'login', [country.name, country.code]);\n  });\n\n  return sorted;\n};\n\nfn.getCallingCodeForCountry = function(countryCode) {\n  return countryCallingCodes[countryCode];\n};\n\nexport default fn;\n"],"names":["fn","getCountries","countries","_","omit","bundles","country","collection","map","name","code","sortBy","sorted","each","getCountryCode","loc","getCallingCodeForCountry","countryCode","countryCallingCodes"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMMA,MAAAA,EAAE,GAAG,GAAE;;AAEb;AACAA,EAAE,CAACC,YAAY,GAAG,YAAW;AAC3B,EAAA,MAAMC,SAAS,GAAGC,CAAC,CAACC,IAAI,CAACC,OAAO,CAACC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;AAC3D;AACA;AACA;;AAEA,EAAA,IAAIC,UAAU,GAAGJ,CAAC,CAACK,GAAG,CAACN,SAAS,EAAE,UAASO,IAAI,EAAEC,IAAI,EAAE;IACrD,OAAO;AAAED,MAAAA,IAAI,EAAEA,IAAI;AAAEC,MAAAA,IAAI,EAAEA,IAAAA;KAAM,CAAA;AACnC,GAAC,CAAC,CAAA;;AAEF;AACA;;EAEAH,UAAU,GAAGJ,CAAC,CAACQ,MAAM,CAACJ,UAAU,EAAE,MAAM,CAAC,CAAA;EACzC,MAAMK,MAAM,GAAG,EAAE,CAAA;AAEjBT,EAAAA,CAAC,CAACU,IAAI,CAACN,UAAU,EAAE,UAASD,OAAO,EAAE;IACnCM,MAAM,CAACN,OAAO,CAACI,IAAI,CAAC,GAAGJ,OAAO,CAACG,IAAI,CAAA;AACrC,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOG,MAAM,CAAA;AACf,CAAC,CAAA;AAEDZ,EAAE,CAACc,cAAc,GAAG,YAAU;AAE5B,EAAA,MAAMZ,SAAS,GAAGC,CAAC,CAACC,IAAI,CAACC,OAAO,CAACC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;AAC3D;AACA;AACA;;AAEA,EAAA,IAAIC,UAAU,GAAGJ,CAAC,CAACK,GAAG,CAACN,SAAS,EAAE,UAASO,IAAI,EAAEC,IAAI,EAAE;IACrD,OAAO;AAAED,MAAAA,IAAI,EAAEA,IAAI;AAAEC,MAAAA,IAAI,EAAEA,IAAAA;KAAM,CAAA;AACnC,GAAC,CAAC,CAAA;EAEFH,UAAU,GAAGJ,CAAC,CAACQ,MAAM,CAACJ,UAAU,EAAE,MAAM,CAAC,CAAA;EACzC,MAAMK,MAAM,GAAG,EAAE,CAAA;AAEjBT,EAAAA,CAAC,CAACU,IAAI,CAACN,UAAU,EAAE,UAASD,OAAO,EAAE;IACnCM,MAAM,CAACN,OAAO,CAACI,IAAI,CAAC,GAAGK,GAAG,CAAC,sBAAsB,EAAE,OAAO,EAAE,CAACT,OAAO,CAACG,IAAI,EAAEH,OAAO,CAACI,IAAI,CAAC,CAAC,CAAA;AAC3F,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOE,MAAM,CAAA;AACf,CAAC,CAAA;AAEDZ,EAAE,CAACgB,wBAAwB,GAAG,UAASC,WAAW,EAAE;EAClD,OAAOC,mBAAmB,CAACD,WAAW,CAAC,CAAA;AACzC,CAAC;;;;"}