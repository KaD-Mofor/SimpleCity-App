{"version":3,"file":"BaseIdpAuthenticator.js","sources":["../../../../../../../src/v2/view-builder/views/idp/BaseIdpAuthenticator.js"],"sourcesContent":["import { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from 'v2/view-builder/components/BaseAuthenticatorView';\n\nexport const BaseIdPAuthenticatorBody =  BaseForm.extend({\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.model.set('useRedirect', true);\n    this.add('<div class=\"okta-waiting-spinner\"></div>');\n  }\n});\n\nexport const BaseIdpAuthenticatorView = BaseAuthenticatorView.extend({\n  postRender() {\n    BaseAuthenticatorView.prototype.postRender.apply(this, arguments);\n    // get the error messages\n    const messages = this.options.appState.get('messages') || {};\n    // In case of failure, don't auto-redirect which will result in infinite redirects.\n    // so catch the error and render to the user.\n    if (this.settings.get('features.skipIdpFactorVerificationBtn') && !Array.isArray(messages.value)) {\n      this.$('.o-form-button-bar').hide();\n      this.$('.okta-waiting-spinner').show();\n      this.form.trigger('save', this.model);\n    } else {\n      this.$('.okta-waiting-spinner').hide();\n      this.$('.o-form-button-bar').show();\n    }\n  }\n});\n"],"names":["BaseIdPAuthenticatorBody","BaseForm","extend","initialize","prototype","apply","arguments","model","set","add","BaseIdpAuthenticatorView","BaseAuthenticatorView","postRender","messages","options","appState","get","settings","Array","isArray","value","$","hide","show","form","trigger"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;MAGaA,wBAAwB,GAAIC,QAAQ,CAACC,MAAM,CAAC;AACvDC,EAAAA,UAAU,EAAG,YAAA;IACXF,QAAQ,CAACG,SAAS,CAACD,UAAU,CAACE,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;IACpD,IAAI,CAACC,KAAK,CAACC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAA;AACnC,IAAA,IAAI,CAACC,GAAG,CAAC,0CAA0C,CAAC,CAAA;AACtD,GAAA;AACF,CAAC,EAAC;MAEWC,wBAAwB,GAAGC,qBAAqB,CAACT,MAAM,CAAC;AACnEU,EAAAA,UAAU,EAAG,YAAA;IACXD,qBAAqB,CAACP,SAAS,CAACQ,UAAU,CAACP,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;AACjE;AACA,IAAA,MAAMO,QAAQ,GAAG,IAAI,CAACC,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,CAAA;AAC5D;AACA;AACA,IAAA,IAAI,IAAI,CAACC,QAAQ,CAACD,GAAG,CAAC,uCAAuC,CAAC,IAAI,CAACE,KAAK,CAACC,OAAO,CAACN,QAAQ,CAACO,KAAK,CAAC,EAAE;AAChG,MAAA,IAAI,CAACC,CAAC,CAAC,oBAAoB,CAAC,CAACC,IAAI,EAAE,CAAA;AACnC,MAAA,IAAI,CAACD,CAAC,CAAC,uBAAuB,CAAC,CAACE,IAAI,EAAE,CAAA;MACtC,IAAI,CAACC,IAAI,CAACC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAClB,KAAK,CAAC,CAAA;AACvC,KAAC,MAAM;AACL,MAAA,IAAI,CAACc,CAAC,CAAC,uBAAuB,CAAC,CAACC,IAAI,EAAE,CAAA;AACtC,MAAA,IAAI,CAACD,CAAC,CAAC,oBAAoB,CAAC,CAACE,IAAI,EAAE,CAAA;AACrC,KAAA;AACF,GAAA;AACF,CAAC;;;;"}