{"version":3,"file":"SSOExtensionView.js","sources":["../../../../../../../src/v2/view-builder/views/device/SSOExtensionView.js"],"sourcesContent":["import { BaseForm, BaseView } from '../../internals';\nimport { loc } from '@okta/courage';\n\n// for BETA,\n// redirect is needed for Apple SSO Extension to intercept the request, because\n// - XHR request is not interceptable\n// - form post is interceptable, but some app (Outlook) closes the app after\n// We may have a different approach/UX for EA\nconst Body = BaseForm.extend({\n  noButtonBar: true,\n\n  className: 'ion-form device-challenge-poll',\n\n  title() {\n    return loc('deviceTrust.sso.redirectText', 'login');\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n\n    this.listenTo(this.model, 'error', () => {\n      this.$('.spinner').hide();\n    });\n    this.add('<div class=\"spinner\"></div>');\n\n    const isGetMethod = this.options.currentViewState?.method?.toLowerCase() === 'get';\n    this.model.set('useRedirect', isGetMethod);\n    this.trigger('save', this.model);\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n});\n"],"names":["Body","BaseForm","extend","noButtonBar","className","title","loc","initialize","prototype","apply","arguments","listenTo","model","$","hide","add","isGetMethod","options","currentViewState","method","toLowerCase","set","trigger","BaseView"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AACA;AACA;AACA;AACA,MAAMA,IAAI,GAAGC,QAAQ,CAACC,MAAM,CAAC;AAC3BC,EAAAA,WAAW,EAAE,IAAI;AAEjBC,EAAAA,SAAS,EAAE,gCAAgC;AAE3CC,EAAAA,KAAK,EAAG,YAAA;AACN,IAAA,OAAOC,GAAG,CAAC,8BAA8B,EAAE,OAAO,CAAC,CAAA;GACpD;AAEDC,EAAAA,UAAU,EAAG,YAAA;AAAA,IAAA,IAAA,qBAAA,EAAA,sBAAA,CAAA;IACXN,QAAQ,CAACO,SAAS,CAACD,UAAU,CAACE,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;IAEpD,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACC,KAAK,EAAE,OAAO,EAAE,MAAM;AACvC,MAAA,IAAI,CAACC,CAAC,CAAC,UAAU,CAAC,CAACC,IAAI,EAAE,CAAA;AAC3B,KAAC,CAAC,CAAA;AACF,IAAA,IAAI,CAACC,GAAG,CAAC,6BAA6B,CAAC,CAAA;AAEvC,IAAA,MAAMC,WAAW,GAAG,CAAI,CAAA,qBAAA,GAAA,IAAA,CAACC,OAAO,CAACC,gBAAgB,MAA7B,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAA,qBAAA,CAA+BC,MAAM,MAArC,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,sBAAA,CAAuCC,WAAW,EAAE,MAAK,KAAK,CAAA;IAClF,IAAI,CAACR,KAAK,CAACS,GAAG,CAAC,aAAa,EAAEL,WAAW,CAAC,CAAA;IAC1C,IAAI,CAACM,OAAO,CAAC,MAAM,EAAE,IAAI,CAACV,KAAK,CAAC,CAAA;AAClC,GAAA;AACF,CAAC,CAAC,CAAA;AAEF,uBAAeW,QAAQ,CAACrB,MAAM,CAAC;AAC7BF,EAAAA,IAAI,EAAJA,IAAAA;AACF,CAAC,CAAC;;;;"}