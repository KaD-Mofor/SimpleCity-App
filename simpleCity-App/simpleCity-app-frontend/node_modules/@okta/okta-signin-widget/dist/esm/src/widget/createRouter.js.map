{"version":3,"file":"createRouter.js","sources":["../../../../src/widget/createRouter.js"],"sourcesContent":["import { $ } from '@okta/courage';\nimport Enums from 'util/Enums';\n\nexport default function createRouter(Router, widgetOptions, renderOptions, authClient, successFn, errorFn, hooks) {\n  let resolve;\n  let reject;\n  const promise = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  const routerOptions = $.extend(true, {}, widgetOptions, renderOptions, {\n    authClient,\n    hooks,\n    globalSuccessFn: (res) => {\n      successFn && successFn(res); // call success function if provided\n      if (res && res.status === Enums.SUCCESS) {\n        resolve(res);\n      }\n    },\n    globalErrorFn: (error) => {\n      errorFn && errorFn(error); // call error function if provided\n      reject(error);\n    }\n  });\n  const router = new Router(routerOptions);\n  router.start();\n  return {\n    router,\n    routerOptions,\n    promise\n  };\n}\n\n"],"names":["createRouter","Router","widgetOptions","renderOptions","authClient","successFn","errorFn","hooks","resolve","reject","promise","Promise","_resolve","_reject","routerOptions","$","extend","globalSuccessFn","res","status","Enums","SUCCESS","globalErrorFn","error","router","start"],"mappings":";;;;;;;;;;;;AAGe,SAASA,YAAY,CAACC,MAAM,EAAEC,aAAa,EAAEC,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,OAAO,EAAEC,KAAK,EAAE;AAChH,EAAA,IAAIC,OAAO,CAAA;AACX,EAAA,IAAIC,MAAM,CAAA;EACV,MAAMC,OAAO,GAAG,IAAIC,OAAO,CAAC,CAACC,QAAQ,EAAEC,OAAO,KAAK;AACjDL,IAAAA,OAAO,GAAGI,QAAQ,CAAA;AAClBH,IAAAA,MAAM,GAAGI,OAAO,CAAA;AAClB,GAAC,CAAC,CAAA;AACF,EAAA,MAAMC,aAAa,GAAGC,gBAAC,CAACC,MAAM,CAAC,IAAI,EAAE,EAAE,EAAEd,aAAa,EAAEC,aAAa,EAAE;AACrEC,IAAAA,UAAU,EAAVA,UAAU;AACVG,IAAAA,KAAK,EAALA,KAAK;IACLU,eAAe,EAAGC,GAAG,IAAK;AACxBb,MAAAA,SAAS,IAAIA,SAAS,CAACa,GAAG,CAAC,CAAC;MAC5B,IAAIA,GAAG,IAAIA,GAAG,CAACC,MAAM,KAAKC,KAAK,CAACC,OAAO,EAAE;QACvCb,OAAO,CAACU,GAAG,CAAC,CAAA;AACd,OAAA;KACD;IACDI,aAAa,EAAGC,KAAK,IAAK;AACxBjB,MAAAA,OAAO,IAAIA,OAAO,CAACiB,KAAK,CAAC,CAAC;MAC1Bd,MAAM,CAACc,KAAK,CAAC,CAAA;AACf,KAAA;AACF,GAAC,CAAC,CAAA;AACF,EAAA,MAAMC,MAAM,GAAG,IAAIvB,MAAM,CAACa,aAAa,CAAC,CAAA;EACxCU,MAAM,CAACC,KAAK,EAAE,CAAA;EACd,OAAO;AACLD,IAAAA,MAAM,EAANA,MAAM;AACNV,IAAAA,aAAa,EAAbA,aAAa;AACbJ,IAAAA,OAAO,EAAPA,OAAAA;GACD,CAAA;AACH;;;;"}