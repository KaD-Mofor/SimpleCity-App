{"version":3,"file":"ColorsUtil.js","sources":["../../../../src/util/ColorsUtil.js"],"sourcesContent":["/*!\n * Copyright (c) 2018-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport Enums from 'util/Enums';\nconst fn = {};\n\nconst template = function(colors) {\n  return `\n#okta-sign-in.auth-container .button-primary,\n#okta-sign-in.auth-container .button-primary:active,\n#okta-sign-in.auth-container .button-primary:focus { background: ${colors.brand}; }\n#okta-sign-in.auth-container .button-primary:hover { background: ${fn.lighten(colors.brand, 0.05)}; }\n#okta-sign-in.auth-container .button.button-primary.link-button-disabled {\n  background: ${colors.brand};\n  opacity: 0.5;\n}\n    `;\n};\n\n// visible for testing\nfn.lighten = function(hex, lum) {\n  lum = lum || 0;\n  hex = hex.substr(1);\n  let newHex = '#';\n\n  for (var i = 0; i < 3; i++) {\n    let c = parseInt(hex.substr(i * 2, 2), 16);\n\n    c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16);\n    newHex += ('00' + c).substr(c.length);\n  }\n  return newHex;\n};\n\nfn.addStyle = function(colors, cspNonce) {\n  const css = template(colors);\n  const main = document.getElementById(Enums.WIDGET_CONTAINER_ID);\n  const style = document.createElement('style');\n\n  style.id = Enums.WIDGET_CONFIG_COLORS_ID;\n  style.type = 'text/css';\n  if (cspNonce) {\n    style.nonce = cspNonce;\n  }\n  style.appendChild(document.createTextNode(css));\n\n  main.appendChild(style);\n};\n\nfn.isLoaded = function() {\n  return !!document.getElementById(Enums.WIDGET_CONFIG_COLORS_ID);\n};\n\nexport default fn;\n"],"names":["fn","template","colors","brand","lighten","hex","lum","substr","newHex","i","c","parseInt","Math","round","min","max","toString","length","addStyle","cspNonce","css","main","document","getElementById","Enums","WIDGET_CONTAINER_ID","style","createElement","id","WIDGET_CONFIG_COLORS_ID","type","nonce","appendChild","createTextNode","isLoaded"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGMA,MAAAA,EAAE,GAAG,GAAE;AAEb,MAAMC,QAAQ,GAAG,UAASC,MAAM,EAAE;EAChC,OAAQ,CAAA;AACV;AACA;AACA,iEAAmEA,EAAAA,MAAM,CAACC,KAAM,CAAA;AAChF,iEAAmEH,EAAAA,EAAE,CAACI,OAAO,CAACF,MAAM,CAACC,KAAK,EAAE,IAAI,CAAE,CAAA;AAClG;AACA,cAAgBD,EAAAA,MAAM,CAACC,KAAM,CAAA;AAC7B;AACA;AACA,IAAK,CAAA,CAAA;AACL,CAAC,CAAA;;AAED;AACAH,EAAE,CAACI,OAAO,GAAG,UAASC,GAAG,EAAEC,GAAG,EAAE;EAC9BA,GAAG,GAAGA,GAAG,IAAI,CAAC,CAAA;AACdD,EAAAA,GAAG,GAAGA,GAAG,CAACE,MAAM,CAAC,CAAC,CAAC,CAAA;EACnB,IAAIC,MAAM,GAAG,GAAG,CAAA;EAEhB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;AAC1B,IAAA,IAAIC,CAAC,GAAGC,QAAQ,CAACN,GAAG,CAACE,MAAM,CAACE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA;AAE1CC,IAAAA,CAAC,GAAGE,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,GAAG,CAACF,IAAI,CAACG,GAAG,CAAC,CAAC,EAAEL,CAAC,GAAGA,CAAC,GAAGJ,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAACU,QAAQ,CAAC,EAAE,CAAC,CAAA;IACpER,MAAM,IAAI,CAAC,IAAI,GAAGE,CAAC,EAAEH,MAAM,CAACG,CAAC,CAACO,MAAM,CAAC,CAAA;AACvC,GAAA;AACA,EAAA,OAAOT,MAAM,CAAA;AACf,CAAC,CAAA;AAEDR,EAAE,CAACkB,QAAQ,GAAG,UAAShB,MAAM,EAAEiB,QAAQ,EAAE;AACvC,EAAA,MAAMC,GAAG,GAAGnB,QAAQ,CAACC,MAAM,CAAC,CAAA;EAC5B,MAAMmB,IAAI,GAAGC,QAAQ,CAACC,cAAc,CAACC,KAAK,CAACC,mBAAmB,CAAC,CAAA;AAC/D,EAAA,MAAMC,KAAK,GAAGJ,QAAQ,CAACK,aAAa,CAAC,OAAO,CAAC,CAAA;AAE7CD,EAAAA,KAAK,CAACE,EAAE,GAAGJ,KAAK,CAACK,uBAAuB,CAAA;EACxCH,KAAK,CAACI,IAAI,GAAG,UAAU,CAAA;AACvB,EAAA,IAAIX,QAAQ,EAAE;IACZO,KAAK,CAACK,KAAK,GAAGZ,QAAQ,CAAA;AACxB,GAAA;EACAO,KAAK,CAACM,WAAW,CAACV,QAAQ,CAACW,cAAc,CAACb,GAAG,CAAC,CAAC,CAAA;AAE/CC,EAAAA,IAAI,CAACW,WAAW,CAACN,KAAK,CAAC,CAAA;AACzB,CAAC,CAAA;AAED1B,EAAE,CAACkC,QAAQ,GAAG,YAAW;EACvB,OAAO,CAAC,CAACZ,QAAQ,CAACC,cAAc,CAACC,KAAK,CAACK,uBAAuB,CAAC,CAAA;AACjE,CAAC;;;;"}