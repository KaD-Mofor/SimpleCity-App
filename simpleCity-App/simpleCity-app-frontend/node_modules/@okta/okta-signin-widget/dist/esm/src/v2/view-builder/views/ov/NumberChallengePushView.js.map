{"version":3,"file":"NumberChallengePushView.js","sources":["../../../../../../../src/v2/view-builder/views/ov/NumberChallengePushView.js"],"sourcesContent":["import { loc } from '@okta/courage';\nimport { BaseFormWithPolling } from '../../internals';\nimport polling from '../shared/polling';\nimport ResendNumberChallengeView from './ResendNumberChallengeView';\nimport NumberChallengePhoneView from './NumberChallengePhoneView';\n\nconst Body = BaseFormWithPolling.extend(Object.assign(\n  {\n    noButtonBar: true,\n\n    className: 'okta-verify-number-challenge',\n\n    events: {\n      'click a.resend-number-challenge': 'handleResendNumberChallenge'\n    },\n\n    handleResendNumberChallenge() {\n      this.options.appState.trigger('invokeAction', 'currentAuthenticator-resend');\n      // hide the warning\n      this.options.appState.trigger('hideNumberChallengeWarning');\n    },\n\n    title() {\n      return loc('oie.okta_verify.push.sent', 'login');\n    },\n\n    initialize() {\n      BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n      this.add(NumberChallengePhoneView);\n    },\n\n    triggerAfterError() {\n      BaseFormWithPolling.prototype.triggerAfterError.apply(this, arguments);\n      this.stopPolling();\n      this.$el.find('.o-form-fieldset-container').empty();\n    },\n\n    postRender() {\n      BaseFormWithPolling.prototype.postRender.apply(this, arguments);\n      this.startPoll();\n    },\n\n    startPoll() {\n      this.startPolling();\n      this.addWarning();\n    },\n\n    stopPoll() {\n      this.stopPolling();\n    },\n\n    addWarning() {\n      this.add(ResendNumberChallengeView, '.o-form-error-container');\n      this.options.appState.trigger('showNumberChallengeWarning');\n    },\n\n    remove() {\n      BaseFormWithPolling.prototype.remove.apply(this, arguments);\n      this.stopPolling();\n    },\n  },\n\n  polling,\n));\n\nexport default Body;\n"],"names":["Body","BaseFormWithPolling","extend","Object","assign","noButtonBar","className","events","handleResendNumberChallenge","options","appState","trigger","title","loc","initialize","prototype","apply","arguments","add","NumberChallengePhoneView","triggerAfterError","stopPolling","$el","find","empty","postRender","startPoll","startPolling","addWarning","stopPoll","ResendNumberChallengeView","remove","polling"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMMA,MAAAA,IAAI,GAAGC,mBAAmB,CAACC,MAAM,CAACC,MAAM,CAACC,MAAM,CACnD;AACEC,EAAAA,WAAW,EAAE,IAAI;AAEjBC,EAAAA,SAAS,EAAE,8BAA8B;AAEzCC,EAAAA,MAAM,EAAE;AACN,IAAA,iCAAiC,EAAE,6BAAA;GACpC;AAEDC,EAAAA,2BAA2B,EAAG,YAAA;IAC5B,IAAI,CAACC,OAAO,CAACC,QAAQ,CAACC,OAAO,CAAC,cAAc,EAAE,6BAA6B,CAAC,CAAA;AAC5E;IACA,IAAI,CAACF,OAAO,CAACC,QAAQ,CAACC,OAAO,CAAC,4BAA4B,CAAC,CAAA;GAC5D;AAEDC,EAAAA,KAAK,EAAG,YAAA;AACN,IAAA,OAAOC,GAAG,CAAC,2BAA2B,EAAE,OAAO,CAAC,CAAA;GACjD;AAEDC,EAAAA,UAAU,EAAG,YAAA;IACXb,mBAAmB,CAACc,SAAS,CAACD,UAAU,CAACE,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;AAC/D,IAAA,IAAI,CAACC,GAAG,CAACC,wBAAwB,CAAC,CAAA;GACnC;AAEDC,EAAAA,iBAAiB,EAAG,YAAA;IAClBnB,mBAAmB,CAACc,SAAS,CAACK,iBAAiB,CAACJ,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;IACtE,IAAI,CAACI,WAAW,EAAE,CAAA;IAClB,IAAI,CAACC,GAAG,CAACC,IAAI,CAAC,4BAA4B,CAAC,CAACC,KAAK,EAAE,CAAA;GACpD;AAEDC,EAAAA,UAAU,EAAG,YAAA;IACXxB,mBAAmB,CAACc,SAAS,CAACU,UAAU,CAACT,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;IAC/D,IAAI,CAACS,SAAS,EAAE,CAAA;GACjB;AAEDA,EAAAA,SAAS,EAAG,YAAA;IACV,IAAI,CAACC,YAAY,EAAE,CAAA;IACnB,IAAI,CAACC,UAAU,EAAE,CAAA;GAClB;AAEDC,EAAAA,QAAQ,EAAG,YAAA;IACT,IAAI,CAACR,WAAW,EAAE,CAAA;GACnB;AAEDO,EAAAA,UAAU,EAAG,YAAA;AACX,IAAA,IAAI,CAACV,GAAG,CAACY,yBAAyB,EAAE,yBAAyB,CAAC,CAAA;IAC9D,IAAI,CAACrB,OAAO,CAACC,QAAQ,CAACC,OAAO,CAAC,4BAA4B,CAAC,CAAA;GAC5D;AAEDoB,EAAAA,MAAM,EAAG,YAAA;IACP9B,mBAAmB,CAACc,SAAS,CAACgB,MAAM,CAACf,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;IAC3D,IAAI,CAACI,WAAW,EAAE,CAAA;AACpB,GAAA;AACF,CAAC,EAEDW,OAAO,CACR;;;;"}