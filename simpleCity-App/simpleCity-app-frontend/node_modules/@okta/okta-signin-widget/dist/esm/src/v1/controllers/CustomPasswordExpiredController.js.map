{"version":3,"file":"CustomPasswordExpiredController.js","sources":["../../../../../src/v1/controllers/CustomPasswordExpiredController.js"],"sourcesContent":["/*!\n * Copyright (c) 2017, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, loc, internal } from '@okta/courage';\nimport FormController from 'v1/util/FormController';\nimport FormType from 'v1/util/FormType';\nimport Footer from 'v1/views/expired-password/Footer';\nconst { Util } = internal.util;\nexport default FormController.extend({\n  className: 'custom-password-expired',\n  Model: {},\n  Form: {\n    noButtonBar: true,\n    title: function() {\n      const expiringSoon = this.options.appState.get('isPwdExpiringSoon');\n      const numDays = this.options.appState.get('passwordExpireDays');\n\n      if (expiringSoon && numDays > 0) {\n        return loc('password.expiring.title', 'login', [numDays]);\n      } else if (expiringSoon && numDays === 0) {\n        return loc('password.expiring.today', 'login');\n      } else if (expiringSoon) {\n        return loc('password.expiring.soon', 'login');\n      } else {\n        return this.settings.get('brandName')\n          ? loc('password.expired.title.specific', 'login', [this.settings.get('brandName')])\n          : loc('password.expired.title.generic', 'login');\n      }\n    },\n    subtitle: function() {\n      if (this.options.appState.get('isPwdExpiringSoon')) {\n        return this.settings.get('brandName')\n          ? loc('password.expiring.soon.subtitle.specific', 'login', [this.settings.get('brandName')])\n          : loc('password.expiring.soon.subtitle.generic', 'login');\n      }\n\n      return loc('password.expired.custom.subtitle', 'login');\n    },\n    formChildren: function() {\n      return [\n        FormType.Button({\n          title: _.partial(loc, 'password.expired.custom.submit', 'login', [\n            this.options.appState.get('passwordExpiredWebsiteName'),\n          ]),\n          className: 'button button-primary button-wide',\n          attributes: { 'data-se': 'custom-button' },\n          click: function() {\n            Util.redirect(this.options.appState.get('passwordExpiredLinkUrl'));\n          },\n        }),\n      ];\n    },\n  },\n  Footer: Footer,\n});\n"],"names":["Util","internal","util","FormController","extend","className","Model","Form","noButtonBar","title","expiringSoon","options","appState","get","numDays","loc","settings","subtitle","formChildren","FormType","Button","_","partial","attributes","click","redirect","Footer"],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA,MAAM;AAAEA,EAAAA,IAAI,EAAJA,IAAAA;AAAK,CAAC,GAAGC,QAAQ,CAACC,IAAI,CAAA;AAC9B,sCAAeC,cAAc,CAACC,MAAM,CAAC;AACnCC,EAAAA,SAAS,EAAE,yBAAyB;EACpCC,KAAK,EAAE,EAAE;AACTC,EAAAA,IAAI,EAAE;AACJC,IAAAA,WAAW,EAAE,IAAI;AACjBC,IAAAA,KAAK,EAAE,YAAW;MAChB,MAAMC,YAAY,GAAG,IAAI,CAACC,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAAA;MACnE,MAAMC,OAAO,GAAG,IAAI,CAACH,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,oBAAoB,CAAC,CAAA;AAE/D,MAAA,IAAIH,YAAY,IAAII,OAAO,GAAG,CAAC,EAAE;QAC/B,OAAOC,GAAG,CAAC,yBAAyB,EAAE,OAAO,EAAE,CAACD,OAAO,CAAC,CAAC,CAAA;AAC3D,OAAC,MAAM,IAAIJ,YAAY,IAAII,OAAO,KAAK,CAAC,EAAE;AACxC,QAAA,OAAOC,GAAG,CAAC,yBAAyB,EAAE,OAAO,CAAC,CAAA;OAC/C,MAAM,IAAIL,YAAY,EAAE;AACvB,QAAA,OAAOK,GAAG,CAAC,wBAAwB,EAAE,OAAO,CAAC,CAAA;AAC/C,OAAC,MAAM;AACL,QAAA,OAAO,IAAI,CAACC,QAAQ,CAACH,GAAG,CAAC,WAAW,CAAC,GACjCE,GAAG,CAAC,iCAAiC,EAAE,OAAO,EAAE,CAAC,IAAI,CAACC,QAAQ,CAACH,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,GACjFE,GAAG,CAAC,gCAAgC,EAAE,OAAO,CAAC,CAAA;AACpD,OAAA;KACD;AACDE,IAAAA,QAAQ,EAAE,YAAW;MACnB,IAAI,IAAI,CAACN,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,mBAAmB,CAAC,EAAE;AAClD,QAAA,OAAO,IAAI,CAACG,QAAQ,CAACH,GAAG,CAAC,WAAW,CAAC,GACjCE,GAAG,CAAC,0CAA0C,EAAE,OAAO,EAAE,CAAC,IAAI,CAACC,QAAQ,CAACH,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,GAC1FE,GAAG,CAAC,yCAAyC,EAAE,OAAO,CAAC,CAAA;AAC7D,OAAA;AAEA,MAAA,OAAOA,GAAG,CAAC,kCAAkC,EAAE,OAAO,CAAC,CAAA;KACxD;AACDG,IAAAA,YAAY,EAAE,YAAW;AACvB,MAAA,OAAO,CACLC,QAAQ,CAACC,MAAM,CAAC;QACdX,KAAK,EAAEY,cAAC,CAACC,OAAO,CAACP,GAAG,EAAE,gCAAgC,EAAE,OAAO,EAAE,CAC/D,IAAI,CAACJ,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,4BAA4B,CAAC,CACxD,CAAC;AACFR,QAAAA,SAAS,EAAE,mCAAmC;AAC9CkB,QAAAA,UAAU,EAAE;AAAE,UAAA,SAAS,EAAE,eAAA;SAAiB;AAC1CC,QAAAA,KAAK,EAAE,YAAW;AAChBxB,UAAAA,IAAI,CAACyB,QAAQ,CAAC,IAAI,CAACd,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,wBAAwB,CAAC,CAAC,CAAA;AACpE,SAAA;AACF,OAAC,CAAC,CACH,CAAA;AACH,KAAA;GACD;AACDa,EAAAA,MAAM,EAAEA,MAAAA;AACV,CAAC,CAAC;;;;"}