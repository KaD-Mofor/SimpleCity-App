{"version":3,"file":"PrimaryAuthForm.js","sources":["../../../../../../src/v1/views/primary-auth/PrimaryAuthForm.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Form, loc } from '@okta/courage';\nimport DeviceFingerprint from 'v1/util/DeviceFingerprint';\nimport TypingUtil from 'v1/util/TypingUtil';\nimport Util from 'util/Util';\nimport TextBox from 'v1/views/shared/TextBox';\nexport default Form.extend({\n  className: 'primary-auth-form',\n  noCancelButton: true,\n  attributes: { novalidate: 'novalidate' },\n  save: function() {\n    if (this.settings.get('features.passwordlessAuth')) {\n      return loc('oform.next', 'login');\n    }\n    return loc('primaryauth.submit', 'login');\n  },\n  saveId: 'okta-signin-submit',\n  layout: 'o-form-theme',\n\n  // If socialAuth is configured, the title moves from the form to\n  // the top of the container (and is rendered in socialAuth).\n  title: function() {\n    let formTitle = loc('primaryauth.title', 'login');\n\n    if (this.settings.get('socialAuthPositionTop')) {\n      formTitle = '';\n    }\n    return formTitle;\n  },\n\n  initialize: function() {\n    const trackTypingPattern = this.settings.get('features.trackTypingPattern');\n\n    this.listenTo(this, 'save', async function() {\n      const { appState } = this.options;\n      if (trackTypingPattern) {\n        const typingPattern = TypingUtil.getTypingPattern();\n        appState.set('typingPattern', typingPattern);\n      }\n      const creds = {\n        username: this.model.get('username'),\n      };\n\n      if (!this.settings.get('features.passwordlessAuth')) {\n        creds.password = this.model.get('password');\n      }\n\n      // show loading spinner and disable submit button before processCreds hook runs\n      appState.trigger('loading', true);\n      this.state.trigger('togglePrimaryAuthButton', true);\n      \n      await this.settings.processCreds(creds);\n\n      if (this.settings.get('features.deviceFingerprinting')) {\n        try {\n          const fingerprint = await DeviceFingerprint.generateDeviceFingerprint(this.settings.get('baseUrl'), this.$el);\n          appState.set('deviceFingerprint', fingerprint);\n        } catch {\n          // Keep going even if device fingerprint fails\n        }\n      }\n\n      this.model.save();\n    });\n\n    this.stateEnableChange();\n    this.stateUsernameChange();\n  },\n\n  stateEnableChange: function() {\n    this.listenTo(this.state, 'change:enabled', function(model, enable) {\n      if (enable) {\n        this.enable();\n      } else {\n        this.disable();\n      }\n    });\n  },\n\n  stateUsernameChange: function() {\n    this.listenTo(this.state, 'change:disableUsername', function(model, disable) {\n      if (disable) {\n        this.$el.find('#okta-signin-username').attr('disabled', true);\n      } else {\n        this.$el.find('#okta-signin-username').removeAttr('disabled');\n      }\n    });\n  },\n\n  inputs: function() {\n    const inputs = [];\n\n    inputs.push(this.getUsernameField());\n    if (!this.settings.get('features.passwordlessAuth')) {\n      inputs.push(this.getPasswordField());\n    }\n    if (this.settings.get('features.rememberMe')) {\n      inputs.push(this.getRemeberMeCheckbox());\n    }\n    return inputs;\n  },\n\n  getUsernameField: function() {\n    const userNameFieldObject = {\n      className: 'margin-btm-5',\n      label: loc('primaryauth.username.placeholder', 'login'),\n      'label-top': true,\n      explain: () => {\n        if (!this.isCustomized('primaryauth.username.tooltip')) {\n          return false;\n        }\n\n        return Util.createInputExplain('primaryauth.username.tooltip', 'primaryauth.username.placeholder', 'login');\n      },\n      'explain-top': true,\n      name: 'username',\n      input: TextBox,\n      inputId: 'okta-signin-username',\n      type: 'text',\n      disabled: this.options.appState.get('disableUsername'),\n      autoComplete: Util.getAutocompleteValue(this.settings, 'username'),\n      // TODO: support a11y attrs in Courage - OKTA-279025\n      render: function() {\n        const that = this;\n        function clearAriaInvalid() {\n          that.$(this)\n            .removeAttr('aria-invalid')\n            .off('focusout', clearAriaInvalid)\n            .off('change', clearAriaInvalid);\n        }\n\n        this.$(`input[name=${this.options.name}]`)\n          // OKTA-430928: to prevent NVDA and JAWS screen readers from\n          // announcing \"required invalid entry\" before the user has a chance to\n          // complete the field, aria-invalid is set to \"false\" initially and\n          // removed on focusout or change using clearAriaInvalid()\n          .attr({\n            'aria-invalid': 'false',\n            'aria-required': 'true',\n          })\n          .prop({\n            required: true,\n          })\n          .focusout(clearAriaInvalid)\n          .change(clearAriaInvalid);\n      },\n    };\n\n    return userNameFieldObject;\n  },\n\n  getPasswordField: function() {\n    const passwordFieldObject = {\n      className: 'margin-btm-30',\n      label: loc('primaryauth.password.placeholder', 'login'),\n      'label-top': true,\n      explain: () => {\n        if (!this.isCustomized('primaryauth.password.tooltip')) {\n          return false;\n        }\n\n        return Util.createInputExplain('primaryauth.password.tooltip', 'primaryauth.password.placeholder', 'login');\n      },\n      'explain-top': true,\n      name: 'password',\n      inputId: 'okta-signin-password',\n      validateOnlyIfDirty: true,\n      type: 'password',\n      autoComplete: Util.getAutocompleteValue(this.settings, 'current-password'),\n      // TODO: support a11y attrs in Courage - OKTA-279025\n      render: function() {\n        const that = this;\n        function clearAriaInvalid() {\n          that.$(this)\n            .removeAttr('aria-invalid')\n            .off('focusout', clearAriaInvalid)\n            .off('change', clearAriaInvalid);\n        }\n        this.$(`input[name=${this.options.name}]`)\n          // OKTA-430928: to prevent NVDA and JAWS screen readers from\n          // announcing \"required invalid entry\" before the user has a chance to\n          // complete the field, aria-invalid is set to \"false\" initially and\n          // removed on focusout or change using clearAriaInvalid()\n          .attr({\n            'aria-invalid': 'false',\n            'aria-required': 'true',\n          })\n          .prop({\n            required: true\n          })\n          .focusout(clearAriaInvalid)\n          .change(clearAriaInvalid);\n      },\n    };\n\n    if (this.settings.get('features.showPasswordToggleOnSignInPage')) {\n      passwordFieldObject.params = {};\n      passwordFieldObject.params.showPasswordToggle = true;\n    }\n    return passwordFieldObject;\n  },\n\n  isCustomized: function(property) {\n    const language = this.settings.get('language');\n    const i18n = this.settings.get('i18n');\n    const customizedProperty = i18n && i18n[language] && i18n[language][property];\n\n    return !!customizedProperty;\n  },\n\n  // TODO fix method name typo\n  getRemeberMeCheckbox: function() {\n    return {\n      label: false,\n      placeholder: loc('remember', 'login'),\n      name: 'remember',\n      type: 'checkbox',\n      'label-top': true,\n      className: 'margin-btm-0',\n      initialize: function() {\n        this.listenTo(this.model, 'change:remember', function(model, val) {\n          // OKTA-98946: We normally re-render on changes to model values,\n          // but in this case we will manually update the checkbox due to\n          // iOS Safari and how it handles autofill - it will autofill the\n          // form anytime the dom elements are re-rendered, which prevents\n          // the user from editing their username.\n          this.$(':checkbox').prop('checked', val).trigger('updateState');\n        });\n      },\n    };\n  },\n\n  focus: function() {\n    if (!this.model.get('username')) {\n      this.getInputs().first().focus();\n    } else if (!this.settings.get('features.passwordlessAuth')) {\n      this.getInputs().toArray()[1].focus();\n    }\n    if (this.settings.get('features.trackTypingPattern')) {\n      TypingUtil.track('okta-signin-username');\n    }\n  },\n});\n"],"names":["Form","extend","className","noCancelButton","attributes","novalidate","save","settings","get","loc","saveId","layout","title","formTitle","initialize","trackTypingPattern","listenTo","appState","options","typingPattern","TypingUtil","getTypingPattern","set","creds","username","model","password","trigger","state","processCreds","fingerprint","DeviceFingerprint","generateDeviceFingerprint","$el","stateEnableChange","stateUsernameChange","enable","disable","find","attr","removeAttr","inputs","push","getUsernameField","getPasswordField","getRemeberMeCheckbox","userNameFieldObject","label","explain","isCustomized","Util","createInputExplain","name","input","TextBox","inputId","type","disabled","autoComplete","getAutocompleteValue","render","that","clearAriaInvalid","$","off","prop","required","focusout","change","passwordFieldObject","validateOnlyIfDirty","params","showPasswordToggle","property","language","i18n","customizedProperty","placeholder","val","focus","getInputs","first","toArray","track"],"mappings":"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"}