{"version":3,"file":"SelectAuthenticatorVerifyView.js","sources":["../../../../../../src/v2/view-builder/views/SelectAuthenticatorVerifyView.js"],"sourcesContent":["import { BaseForm, BaseView } from '../internals';\nimport { createCallout, loc } from '@okta/courage';\nimport BaseFooter from '../internals/BaseFooter';\nimport {getFactorPageCustomLink} from '../utils/LinksUtil';\n\nconst UNLOCK_USER_SUCCESS_MESSAGE = 'oie.selfservice.unlock_user.landing.to.app.success.message';\n\nexport const Body = BaseForm.extend({\n  title: function() {\n    if (this.isPasswordRecoveryFlow())  {\n      return loc('password.reset.title.generic', 'login');\n    }\n    return loc('oie.select.authenticators.verify.title', 'login');\n  },\n  subtitle: function() {\n    if (this.isPasswordRecoveryFlow())  {\n      return loc('oie.password.reset.verification', 'login');\n    }\n    if (this.isUnlockSuccess()) {\n      const container = '.o-form-error-container';\n      const text = loc('oie.select.authenticators.verify.subtitle', 'login');\n      this.add(`<div class=\"ion-messages-container\"><p>${text}</p></div>`, container);\n      return;\n    }\n    return loc('oie.select.authenticators.verify.subtitle', 'login');\n  },\n  isPasswordRecoveryFlow() {\n    return this.options.appState.get('isPasswordRecovery');\n  },\n  noButtonBar: true,\n  showMessages() {\n    if (this.isUnlockSuccess()) {\n      let options = {};\n      options.subtitle = loc('oie.selfservice.unlock_user.landing.to.app.success.message', 'login');\n      options.type = 'success';\n      options = createCallout(options);\n      BaseForm.prototype.showMessages.call(this, options);\n      return;\n    }\n    BaseForm.prototype.showMessages.call(this);\n  },\n  isUnlockSuccess() {\n    return this.options.appState.containsMessageWithI18nKey(UNLOCK_USER_SUCCESS_MESSAGE);\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer: BaseFooter.extend({\n    links() {\n      return getFactorPageCustomLink(this.options.appState, this.options.settings);\n    },\n  }),\n});\n"],"names":["UNLOCK_USER_SUCCESS_MESSAGE","Body","BaseForm","extend","title","isPasswordRecoveryFlow","loc","subtitle","isUnlockSuccess","container","text","add","options","appState","get","noButtonBar","showMessages","type","createCallout","prototype","call","containsMessageWithI18nKey","BaseView","Footer","BaseFooter","links","getFactorPageCustomLink","settings"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,MAAMA,2BAA2B,GAAG,4DAA4D,CAAA;MAEnFC,IAAI,GAAGC,QAAQ,CAACC,MAAM,CAAC;AAClCC,EAAAA,KAAK,EAAE,YAAW;AAChB,IAAA,IAAI,IAAI,CAACC,sBAAsB,EAAE,EAAG;AAClC,MAAA,OAAOC,GAAG,CAAC,8BAA8B,EAAE,OAAO,CAAC,CAAA;AACrD,KAAA;AACA,IAAA,OAAOA,GAAG,CAAC,wCAAwC,EAAE,OAAO,CAAC,CAAA;GAC9D;AACDC,EAAAA,QAAQ,EAAE,YAAW;AACnB,IAAA,IAAI,IAAI,CAACF,sBAAsB,EAAE,EAAG;AAClC,MAAA,OAAOC,GAAG,CAAC,iCAAiC,EAAE,OAAO,CAAC,CAAA;AACxD,KAAA;AACA,IAAA,IAAI,IAAI,CAACE,eAAe,EAAE,EAAE;MAC1B,MAAMC,SAAS,GAAG,yBAAyB,CAAA;AAC3C,MAAA,MAAMC,IAAI,GAAGJ,GAAG,CAAC,2CAA2C,EAAE,OAAO,CAAC,CAAA;MACtE,IAAI,CAACK,GAAG,CAAE,CAAA,uCAAA,EAAyCD,IAAK,CAAW,UAAA,CAAA,EAAED,SAAS,CAAC,CAAA;AAC/E,MAAA,OAAA;AACF,KAAA;AACA,IAAA,OAAOH,GAAG,CAAC,2CAA2C,EAAE,OAAO,CAAC,CAAA;GACjE;AACDD,EAAAA,sBAAsB,EAAG,YAAA;IACvB,OAAO,IAAI,CAACO,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,oBAAoB,CAAC,CAAA;GACvD;AACDC,EAAAA,WAAW,EAAE,IAAI;AACjBC,EAAAA,YAAY,EAAG,YAAA;AACb,IAAA,IAAI,IAAI,CAACR,eAAe,EAAE,EAAE;MAC1B,IAAII,OAAO,GAAG,EAAE,CAAA;MAChBA,OAAO,CAACL,QAAQ,GAAGD,GAAG,CAAC,4DAA4D,EAAE,OAAO,CAAC,CAAA;MAC7FM,OAAO,CAACK,IAAI,GAAG,SAAS,CAAA;AACxBL,MAAAA,OAAO,GAAGM,aAAa,CAACN,OAAO,CAAC,CAAA;MAChCV,QAAQ,CAACiB,SAAS,CAACH,YAAY,CAACI,IAAI,CAAC,IAAI,EAAER,OAAO,CAAC,CAAA;AACnD,MAAA,OAAA;AACF,KAAA;IACAV,QAAQ,CAACiB,SAAS,CAACH,YAAY,CAACI,IAAI,CAAC,IAAI,CAAC,CAAA;GAC3C;AACDZ,EAAAA,eAAe,EAAG,YAAA;IAChB,OAAO,IAAI,CAACI,OAAO,CAACC,QAAQ,CAACQ,0BAA0B,CAACrB,2BAA2B,CAAC,CAAA;AACtF,GAAA;AACF,CAAC,EAAC;AAEF,oCAAesB,QAAQ,CAACnB,MAAM,CAAC;AAC7BF,EAAAA,IAAI,EAAJA,IAAI;AACJsB,EAAAA,MAAM,EAAEC,UAAU,CAACrB,MAAM,CAAC;AACxBsB,IAAAA,KAAK,EAAG,YAAA;AACN,MAAA,OAAOC,uBAAuB,CAAC,IAAI,CAACd,OAAO,CAACC,QAAQ,EAAE,IAAI,CAACD,OAAO,CAACe,QAAQ,CAAC,CAAA;AAC9E,KAAA;GACD,CAAA;AACH,CAAC,CAAC;;;;"}