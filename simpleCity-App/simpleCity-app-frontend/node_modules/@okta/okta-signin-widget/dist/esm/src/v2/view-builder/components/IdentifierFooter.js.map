{"version":3,"file":"IdentifierFooter.js","sources":["../../../../../../src/v2/view-builder/components/IdentifierFooter.js"],"sourcesContent":["import { loc, View } from '@okta/courage';\nimport { BaseFooter } from '../internals';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport { getForgotPasswordLink, getSignUpLink } from '../utils/LinksUtil';\nimport Link from './Link';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default BaseFooter.extend({\n\n  showForgotPasswordLink() { \n    return !this.options.appState.isIdentifierOnlyView();\n  },\n\n  footerInfo() {\n    const signUpLinkData = getSignUpLink(this.options.appState, this.options.settings);\n    let SignUpLinkWithText;\n    //Build sign up link view appended with a text. Link class can only build anchor tags\n    if(signUpLinkData.length) {\n      SignUpLinkWithText = View.extend({\n        className: 'signup-info',\n        template: hbs`\n          <span>{{i18n code=\"registration.signup.label\" bundle=\"login\"}}</span><span class=\"signup-link\"></span>\n          `,\n        initialize() {\n          this.add(Link, '.signup-link', {\n            options: signUpLinkData[0]\n          });\n        }\n      });\n    }\n    return SignUpLinkWithText;\n  },\n\n  links() {\n    const { appState, settings } = this.options;\n\n    let helpLinkHref;\n    if (settings.get('helpLinks.help')) {\n      helpLinkHref = settings.get('helpLinks.help');\n    } else {\n      const baseUrl = settings.get('baseUrl');\n      helpLinkHref = baseUrl + '/help/login';\n    }\n\n    const helpLink = [\n      {\n        'name': 'help',\n        'label': loc('help', 'login'),\n        'href': helpLinkHref,\n      },\n    ];\n\n    let forgotPasswordLink = []; \n    if (this.showForgotPasswordLink()) {\n      forgotPasswordLink = getForgotPasswordLink(appState, settings);\n    }\n\n    const customHelpLinks = [];\n    if (settings.get('helpLinks.custom')) {\n      //add custom helpLinks\n      settings.get('helpLinks.custom').forEach(customHelpLink => {\n        customHelpLink.name = 'custom';\n        customHelpLink.label = customHelpLink.text;\n        customHelpLinks.push(customHelpLink);\n      });\n    }\n\n    const unlockAccountLink = [];\n    if (settings.get('helpLinks.unlock')) {\n      unlockAccountLink.push({\n        'type': 'link',\n        'label': loc('unlockaccount', 'login'),\n        'name' : 'unlock',\n        'href': settings.get('helpLinks.unlock'),\n      });\n    } else if (appState.hasRemediationObject(RemediationForms.UNLOCK_ACCOUNT)) {\n      unlockAccountLink.push({\n        'type': 'link',\n        'label': loc('unlockaccount', 'login'),\n        'name' : 'unlock',\n        'actionPath': RemediationForms.UNLOCK_ACCOUNT,\n      });\n    }\n\n    return forgotPasswordLink\n      .concat(unlockAccountLink)\n      .concat(helpLink)\n      .concat(customHelpLinks);\n  }\n});\n"],"names":["BaseFooter","extend","showForgotPasswordLink","options","appState","isIdentifierOnlyView","footerInfo","signUpLinkData","getSignUpLink","settings","SignUpLinkWithText","length","View","className","template","initialize","add","Link","links","helpLinkHref","get","baseUrl","helpLink","loc","forgotPasswordLink","getForgotPasswordLink","customHelpLinks","forEach","customHelpLink","name","label","text","push","unlockAccountLink","hasRemediationObject","RemediationForms","UNLOCK_ACCOUNT","concat"],"mappings":"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"}