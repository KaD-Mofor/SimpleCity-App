{"version":3,"file":"SelectEnrollmentChannelOktaVerifyView.js","sources":["../../../../../../../src/v2/view-builder/views/ov/SelectEnrollmentChannelOktaVerifyView.js"],"sourcesContent":["import { loc, _ } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport BrowserFeatures from '../../../../util/BrowserFeatures';\n\nconst Body = BaseForm.extend({\n  title() {\n    return (BrowserFeatures.isAndroid() || BrowserFeatures.isIOS())\n      ? loc('oie.enroll.okta_verify.setup.title', 'login')\n      : loc('oie.enroll.okta_verify.select.channel.title', 'login');\n  },\n  getUISchema() {\n    const schemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    // filter selected channel\n    const channelField = _.find(schemas, (schema) => schema.name === 'authenticator.channel');\n    channelField.options = _.filter(channelField?.options, (option) =>\n      option.value !== this.options.appState.get('currentAuthenticator')?.contextualData?.selectedChannel);\n    channelField.value = channelField.options[0]?.value;\n    channelField.sublabel = null;\n    this.model.set('authenticator.channel', channelField.value);\n    const description = {\n      View: loc('oie.enroll.okta_verify.select.channel.description', 'login'),\n      selector: '.o-form-fieldset-container',\n    };\n    return [description, ...schemas];\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n"],"names":["Body","BaseForm","extend","title","BrowserFeatures","isAndroid","isIOS","loc","getUISchema","schemas","prototype","apply","arguments","channelField","_","find","schema","name","options","filter","option","value","appState","get","contextualData","selectedChannel","sublabel","model","set","description","View","selector","BaseAuthenticatorView"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,MAAMA,IAAI,GAAGC,QAAQ,CAACC,MAAM,CAAC;AAC3BC,EAAAA,KAAK,EAAG,YAAA;IACN,OAAQC,EAAe,CAACC,SAAS,EAAE,IAAID,EAAe,CAACE,KAAK,EAAE,GAC1DC,GAAG,CAAC,oCAAoC,EAAE,OAAO,CAAC,GAClDA,GAAG,CAAC,6CAA6C,EAAE,OAAO,CAAC,CAAA;GAChE;AACDC,EAAAA,WAAW,EAAG,YAAA;AAAA,IAAA,IAAA,qBAAA,CAAA;AACZ,IAAA,MAAMC,OAAO,GAAGR,QAAQ,CAACS,SAAS,CAACF,WAAW,CAACG,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;AACrE;AACA,IAAA,MAAMC,YAAY,GAAGC,cAAC,CAACC,IAAI,CAACN,OAAO,EAAGO,MAAM,IAAKA,MAAM,CAACC,IAAI,KAAK,uBAAuB,CAAC,CAAA;AACzFJ,IAAAA,YAAY,CAACK,OAAO,GAAGJ,cAAC,CAACK,MAAM,CAACN,YAAY,KAAA,IAAA,IAAZA,YAAY,KAAZA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,YAAY,CAAEK,OAAO,EAAGE,MAAM,IAAA;AAAA,MAAA,IAAA,qBAAA,EAAA,sBAAA,CAAA;AAAA,MAAA,OAC5DA,MAAM,CAACC,KAAK,+BAAK,IAAI,CAACH,OAAO,CAACI,QAAQ,CAACC,GAAG,CAAC,sBAAsB,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAjD,sBAAmDC,cAAc,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAjE,uBAAmEC,eAAe,CAAA,CAAA;KAAC,CAAA,CAAA;IACtGZ,YAAY,CAACQ,KAAK,GAAA,CAAA,qBAAA,GAAGR,YAAY,CAACK,OAAO,CAAC,CAAC,CAAC,MAAvB,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,qBAAA,CAAyBG,KAAK,CAAA;IACnDR,YAAY,CAACa,QAAQ,GAAG,IAAI,CAAA;IAC5B,IAAI,CAACC,KAAK,CAACC,GAAG,CAAC,uBAAuB,EAAEf,YAAY,CAACQ,KAAK,CAAC,CAAA;AAC3D,IAAA,MAAMQ,WAAW,GAAG;AAClBC,MAAAA,IAAI,EAAEvB,GAAG,CAAC,mDAAmD,EAAE,OAAO,CAAC;AACvEwB,MAAAA,QAAQ,EAAE,4BAAA;KACX,CAAA;AACD,IAAA,OAAO,CAACF,WAAW,EAAE,GAAGpB,OAAO,CAAC,CAAA;AAClC,GAAA;AACF,CAAC,CAAC,CAAA;AAEF,4CAAeuB,qBAAqB,CAAC9B,MAAM,CAAC;AAC1CF,EAAAA,IAAI,EAAJA,IAAAA;AACF,CAAC,CAAC;;;;"}