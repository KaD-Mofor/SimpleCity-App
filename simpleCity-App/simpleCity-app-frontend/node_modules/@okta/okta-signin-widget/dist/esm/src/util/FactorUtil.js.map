{"version":3,"file":"FactorUtil.js","sources":["../../../../src/util/FactorUtil.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint complexity: [2, 38], max-statements: [2, 38] */\nimport _ from 'underscore';\nimport { loc } from './loc';\nimport TimeUtil from 'util/TimeUtil';\nconst fn = {};\nconst factorData = {\n  OKTA_VERIFY: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpSoft.oktaVerify',\n    description: 'factor.totpSoft.description',\n    iconClassName: 'mfa-okta-verify',\n    sortOrder: 1,\n  },\n  OKTA_VERIFY_PUSH: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.oktaVerifyPush',\n    description: 'factor.push.description',\n    iconClassName: 'mfa-okta-verify',\n    sortOrder: 1,\n  },\n  U2F: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.u2f',\n    description: brandName => {\n      return brandName ? 'factor.u2f.description.specific' : 'factor.u2f.description.generic';\n    },\n    iconClassName: 'mfa-u2f',\n    sortOrder: 2,\n  },\n  WEBAUTHN: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.webauthn.biometric',\n    description: 'factor.webauthn.biometric.description',\n    iconClassName: 'mfa-webauthn',\n    sortOrder: 2,\n  },\n  WINDOWS_HELLO: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.windowsHello',\n    description: brandName => {\n      return brandName\n        ? 'factor.windowsHello.signin.description.specific'\n        : 'factor.windowsHello.signin.description.generic';\n    },\n    iconClassName: 'mfa-windows-hello',\n    sortOrder: 3,\n  },\n  YUBIKEY: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.yubikey',\n    description: 'factor.totpHard.yubikey.description',\n    iconClassName: 'mfa-yubikey',\n    sortOrder: 4,\n  },\n  GOOGLE_AUTH: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpSoft.googleAuthenticator',\n    description: 'factor.totpSoft.description',\n    iconClassName: 'mfa-google-auth',\n    sortOrder: 5,\n  },\n  CUSTOM_HOTP: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.hotp.description',\n    iconClassName: 'mfa-hotp',\n    sortOrder: 6,\n  },\n  SMS: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.sms',\n    description: 'factor.sms.description',\n    iconClassName: 'mfa-okta-sms',\n    sortOrder: 7,\n  },\n  CALL: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.call',\n    description: 'factor.call.description',\n    iconClassName: 'mfa-okta-call',\n    sortOrder: 8,\n  },\n  EMAIL: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.email',\n    description: 'factor.email.description',\n    iconClassName: 'mfa-okta-email',\n    sortOrder: 9,\n  },\n  QUESTION: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.securityQuestion',\n    description: 'factor.securityQuestion.description',\n    iconClassName: 'mfa-okta-security-question',\n    sortOrder: 10,\n  },\n  DUO: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.duo',\n    description: 'factor.duo.description',\n    iconClassName: 'mfa-duo',\n    sortOrder: 11,\n  },\n  SYMANTEC_VIP: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.symantecVip',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-symantec',\n    sortOrder: 12,\n  },\n  RSA_SECURID: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.rsaSecurId',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-rsa',\n    sortOrder: 13,\n  },\n  ON_PREM: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-onprem',\n    sortOrder: 14,\n  },\n  PASSWORD: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.password',\n    description: '',\n    iconClassName: 'mfa-okta-password',\n    sortOrder: 15,\n  },\n  CUSTOM_CLAIMS: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.customFactor.description',\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 16,\n  },\n  GENERIC_SAML: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: brandName => {\n      return brandName ? 'factor.customFactor.description.specific' : 'factor.customFactor.description.generic';\n    },\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 17,\n  },\n  GENERIC_OIDC: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: brandName => {\n      return brandName ? 'factor.customFactor.description.specific' : 'factor.customFactor.description.generic';\n    },\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 18,\n  },\n};\n\nconst getPasswordComplexityRequirementsAsArray = function(policy, i18nKeys) {\n  const setExcludeAttributes = function(policyComplexity) {\n    const excludeAttributes = policyComplexity.excludeAttributes;\n\n    policyComplexity.excludeFirstName = _.contains(excludeAttributes, 'firstName');\n    policyComplexity.excludeLastName = _.contains(excludeAttributes, 'lastName');\n    return _.omit(policyComplexity, 'excludeAttributes');\n  };\n\n  if (policy.complexity) {\n    const complexityFields = i18nKeys.complexity;\n\n    const policyComplexity = setExcludeAttributes(policy.complexity);\n    let filteredPolicyComplexity = policyComplexity;\n\n    // If useADComplexityRequirements is true, ignore casing, number, and symbol rules since\n    // AD validator handles those requirements\n    if (policyComplexity.useADComplexityRequirements) {\n      const allowed = ['minLength', 'useADComplexityRequirements', 'excludeUsername', 'excludeFirstName',\n        'excludeLastName', 'excludeAttributes'];\n      filteredPolicyComplexity = _.pick(policyComplexity, allowed);\n    }\n\n    const requirements = _.map(filteredPolicyComplexity, function(complexityValue, complexityType) {\n      if (complexityValue <= 0) {\n        // to skip 0 and -1\n        return;\n      }\n\n      const params = complexityFields[complexityType];\n\n      return params.args ? loc(params.i18n, 'login', [complexityValue]) : loc(params.i18n, 'login');\n    });\n\n    return _.compact(requirements);\n  }\n  return [];\n};\n\nconst getPasswordHistoryRequirementDescription = function(policy, i18nKeys, isUpdatedPasswordRequirementsText) {\n  if (policy.age && policy.age.historyCount > 0) {\n    if (isUpdatedPasswordRequirementsText) {\n      return policy.age.historyCount === 1 ?\n        loc(i18nKeys.history.one.i18n, 'login')\n        : loc(i18nKeys.history.many.i18n, 'login', [policy.age.historyCount]);\n    } else {\n      return loc(i18nKeys.history.i18n, 'login', [policy.age.historyCount]);\n    }\n  }\n  return null;\n};\n\nconst getPasswordAgeRequirementDescription = function(policy, i18nKeys) {\n  const getPasswordAgeRequirement = function(displayableTime) {\n    let propertiesString;\n\n    switch (displayableTime.unit) {\n    case 'DAY':\n      propertiesString = i18nKeys.age.days.i18n;\n      break;\n    case 'HOUR':\n      propertiesString = i18nKeys.age.hours.i18n;\n      break;\n    case 'MINUTE':\n      propertiesString = i18nKeys.age.minutes.i18n;\n    }\n    return loc(propertiesString, 'login', [displayableTime.time]);\n  };\n\n  if (policy.age && policy.age.minAgeMinutes > 0) {\n    const displayableTime = TimeUtil.getTimeInHighestRelevantUnit(policy.age.minAgeMinutes, 'MINUTE');\n\n    return getPasswordAgeRequirement(displayableTime);\n  }\n  return null;\n};\n\nconst getPasswordRequirements = function(policy, i18nKeys, isUpdatedPasswordRequirementsText) {\n  const passwordRequirements = {\n    complexity: [],\n    history: [],\n    age: [],\n  };\n\n  passwordRequirements.complexity = getPasswordComplexityRequirementsAsArray(policy, i18nKeys);\n\n  const historyRequirement =\n    getPasswordHistoryRequirementDescription(policy, i18nKeys, isUpdatedPasswordRequirementsText);\n\n  if (historyRequirement) {\n    passwordRequirements.history.push(historyRequirement);\n  }\n\n  const ageRequirement = getPasswordAgeRequirementDescription(policy, i18nKeys);\n\n  if (ageRequirement) {\n    passwordRequirements.age.push(ageRequirement);\n  }\n\n  return passwordRequirements;\n};\n\nfn.getFactorName = function(provider, factorType) {\n  if (provider === 'OKTA' && factorType === 'token:software:totp') {\n    return 'OKTA_VERIFY';\n  }\n  if (provider === 'OKTA' && factorType === 'push') {\n    return 'OKTA_VERIFY_PUSH';\n  }\n  if (provider === 'GOOGLE') {\n    return 'GOOGLE_AUTH';\n  }\n  if (provider === 'SYMANTEC' && factorType === 'token') {\n    return 'SYMANTEC_VIP';\n  }\n  if (provider === 'RSA' && factorType === 'token') {\n    return 'RSA_SECURID';\n  }\n  if (provider === 'DEL_OATH' && factorType === 'token') {\n    return 'ON_PREM';\n  }\n  if (provider === 'DUO' && factorType === 'web') {\n    return 'DUO';\n  }\n  if (provider === 'YUBICO' && factorType === 'token:hardware') {\n    return 'YUBIKEY';\n  }\n  if (provider === 'OKTA' && factorType === 'sms') {\n    return 'SMS';\n  }\n  if (provider === 'OKTA' && factorType === 'call') {\n    return 'CALL';\n  }\n  if (provider === 'OKTA' && factorType === 'question') {\n    return 'QUESTION';\n  }\n  if (provider === 'OKTA' && factorType === 'email') {\n    return 'EMAIL';\n  }\n  if (provider === 'OKTA' && factorType === 'password') {\n    return 'PASSWORD';\n  }\n  if (provider === 'GENERIC_SAML' && factorType === 'assertion:saml2') {\n    return 'GENERIC_SAML';\n  }\n  if (provider === 'GENERIC_OIDC' && factorType === 'assertion:oidc') {\n    return 'GENERIC_OIDC';\n  }\n  return fn.getFactorNameForFactorType.call(this, factorType);\n};\n\nfn.getFactorNameForFactorType = function(factorType) {\n  if (factorType === 'u2f') {\n    return 'U2F';\n  }\n  if (factorType === 'token:software:totp') {\n    return 'OKTA_VERIFY';\n  }\n  if (factorType === 'webauthn') {\n    if (this.settings.get('features.webauthn')) {\n      return 'WEBAUTHN';\n    } else {\n      return 'WINDOWS_HELLO';\n    }\n  }\n  if (factorType === 'token:hotp') {\n    return 'CUSTOM_HOTP';\n  }\n  if (factorType === 'claims_provider') {\n    return 'CUSTOM_CLAIMS';\n  }\n};\n\nfn.isOktaVerify = function(provider, factorType) {\n  return provider === 'OKTA' && (factorType === 'token:software:totp' || factorType === 'push');\n};\n\nfn.getFactorLabel = function(provider, factorType) {\n  const key = factorData[fn.getFactorName.apply(this, [provider, factorType])].label;\n\n  return loc(key, 'login');\n};\n\nfn.getFactorDescription = function(provider, factorType) {\n  const descriptionKey = factorData[fn.getFactorName.apply(this, [provider, factorType])].description;\n\n  if (_.isFunction(descriptionKey)) {\n    const brandName = this.settings.get('brandName');\n    const key = descriptionKey(brandName);\n\n    return brandName ? loc(key, 'login', [brandName]) : loc(key, 'login');\n  } else {\n    return descriptionKey ? loc(descriptionKey, 'login') : '';\n  }\n};\n\nfn.getFactorIconClassName = function(provider, factorType) {\n  return factorData[fn.getFactorName.apply(this, [provider, factorType])].iconClassName;\n};\n\nfn.getFactorSortOrder = function(provider, factorType) {\n  return factorData[fn.getFactorName.apply(this, [provider, factorType])].sortOrder;\n};\n\nfn.getRememberDeviceValue = function(appState) {\n  return appState && appState.get('rememberDeviceByDefault');\n};\n\nfn.getSecurityQuestionLabel = function(questionObj) {\n  const localizedQuestion = loc('security.' + questionObj.question);\n\n  return localizedQuestion.indexOf('L10N_ERROR') < 0 ? localizedQuestion : questionObj.questionText;\n};\n\nfn.removeRequirementsFromError = function(responseJSON, policy) {\n  const passwordRequirementsAsString = this.getPasswordComplexityDescription(policy);\n\n  if (\n    responseJSON.errorCauses &&\n    responseJSON.errorCauses.length > 0 &&\n    _.isString(responseJSON.errorCauses[0].errorSummary)\n  ) {\n    responseJSON.errorCauses[0].errorSummary = responseJSON.errorCauses[0].errorSummary\n      .replace(passwordRequirementsAsString, '')\n      .trim();\n  }\n  return responseJSON;\n};\n\nfn.getPasswordComplexityDescriptionForHtmlList = function(policy) {\n  const passwordRequirementHtmlI18nKeys = {\n    complexity: {\n      minLength: { i18n: 'password.complexity.length.description', args: true },\n      minLowerCase: { i18n: 'password.complexity.lowercase.description' },\n      minUpperCase: { i18n: 'password.complexity.uppercase.description' },\n      minNumber: { i18n: 'password.complexity.number.description' },\n      minSymbol: { i18n: 'password.complexity.symbol.description' },\n      excludeUsername: { i18n: 'password.complexity.no_username.description' },\n      excludeFirstName: { i18n: 'password.complexity.no_first_name.description' },\n      excludeLastName: { i18n: 'password.complexity.no_last_name.description' },\n      useADComplexityRequirements: { i18n: 'password.complexity.adRequirements.description' },\n    },\n    history: {\n      one: { i18n: 'password.complexity.history.one.description' },\n      many: { i18n: 'password.complexity.history.description' }\n    },\n    age: {\n      minutes: { i18n: 'password.complexity.minAgeMinutes.description' },\n      hours: { i18n: 'password.complexity.minAgeHours.description' },\n      days: { i18n: 'password.complexity.minAgeDays.description' },\n    },\n  };\n  const passwordRequirements = getPasswordRequirements(policy, passwordRequirementHtmlI18nKeys, true);\n\n  return _.union(passwordRequirements.complexity, passwordRequirements.history, passwordRequirements.age);\n};\n\nfn.getPasswordComplexityDescription = function(policy) {\n  const passwordRequirementI18nKeys = {\n    complexity: {\n      minLength: { i18n: 'password.complexity.length', args: true },\n      minLowerCase: { i18n: 'password.complexity.lowercase' },\n      minUpperCase: { i18n: 'password.complexity.uppercase' },\n      minNumber: { i18n: 'password.complexity.number' },\n      minSymbol: { i18n: 'password.complexity.symbol' },\n      excludeUsername: { i18n: 'password.complexity.no_username' },\n      excludeFirstName: { i18n: 'password.complexity.no_first_name' },\n      excludeLastName: { i18n: 'password.complexity.no_last_name' },\n      useADComplexityRequirements: { i18n: 'password.complexity.adRequirements' },\n    },\n    history: { i18n: 'password.complexity.history' },\n    age: {\n      minutes: { i18n: 'password.complexity.minAgeMinutes' },\n      hours: { i18n: 'password.complexity.minAgeHours' },\n      days: { i18n: 'password.complexity.minAgeDays' },\n    },\n  };\n  const result = [];\n  const passwordRequirements = getPasswordRequirements(policy, passwordRequirementI18nKeys, false);\n  let requirements = passwordRequirements.complexity;\n\n  // Generate and add complexity string to result\n  if (requirements.length > 0) {\n    requirements = _.reduce(requirements, function(result, requirement) {\n      return result ? result + loc('password.complexity.list.element', 'login', [requirement]) : requirement;\n    });\n\n    result.push(loc('password.complexity.requirements', 'login', [requirements]));\n  }\n\n  // Only 1 value expected in history and age for now\n  result.push(passwordRequirements.history[0]);\n  result.push(passwordRequirements.age[0]);\n\n  return _.compact(result).join(' ');\n};\n\nfn.getCardinalityText = function(enrolled, required, cardinality) {\n  if (cardinality) {\n    if (enrolled) {\n      return cardinality.enrolled === 1 ? '' : loc('enroll.choices.cardinality.setup', 'login', [cardinality.enrolled]);\n    } else if (required && cardinality.maximum > 1) {\n      return loc('enroll.choices.cardinality.setup.remaining', 'login', [cardinality.enrolled, cardinality.minimum]);\n    }\n  }\n  return '';\n};\n\nfn.findFactorInFactorsArray = function(factors, provider, factorType) {\n  let factor = factors.findWhere({ provider: provider, factorType: factorType });\n\n  if (factor === undefined) {\n    //for factors that support cardinality and only have factorType\n    factor = factors.findWhere({ factorType: factorType });\n  }\n  return factor;\n};\n\nexport default fn;\n"],"names":["fn","factorData","OKTA_VERIFY","label","description","iconClassName","sortOrder","OKTA_VERIFY_PUSH","U2F","brandName","WEBAUTHN","WINDOWS_HELLO","YUBIKEY","GOOGLE_AUTH","CUSTOM_HOTP","SMS","CALL","EMAIL","QUESTION","DUO","SYMANTEC_VIP","RSA_SECURID","ON_PREM","PASSWORD","CUSTOM_CLAIMS","GENERIC_SAML","GENERIC_OIDC","getPasswordComplexityRequirementsAsArray","policy","i18nKeys","setExcludeAttributes","policyComplexity","excludeAttributes","excludeFirstName","_","contains","excludeLastName","omit","complexity","complexityFields","filteredPolicyComplexity","useADComplexityRequirements","allowed","pick","requirements","map","complexityValue","complexityType","params","args","loc","i18n","compact","getPasswordHistoryRequirementDescription","isUpdatedPasswordRequirementsText","age","historyCount","history","one","many","getPasswordAgeRequirementDescription","getPasswordAgeRequirement","displayableTime","propertiesString","unit","days","hours","minutes","time","minAgeMinutes","TimeUtil","getTimeInHighestRelevantUnit","getPasswordRequirements","passwordRequirements","historyRequirement","push","ageRequirement","getFactorName","provider","factorType","getFactorNameForFactorType","call","settings","get","isOktaVerify","getFactorLabel","key","apply","getFactorDescription","descriptionKey","isFunction","getFactorIconClassName","getFactorSortOrder","getRememberDeviceValue","appState","getSecurityQuestionLabel","questionObj","localizedQuestion","question","indexOf","questionText","removeRequirementsFromError","responseJSON","passwordRequirementsAsString","getPasswordComplexityDescription","errorCauses","length","isString","errorSummary","replace","trim","getPasswordComplexityDescriptionForHtmlList","passwordRequirementHtmlI18nKeys","minLength","minLowerCase","minUpperCase","minNumber","minSymbol","excludeUsername","union","passwordRequirementI18nKeys","result","reduce","requirement","join","getCardinalityText","enrolled","required","cardinality","maximum","minimum","findFactorInFactorsArray","factors","factor","findWhere","undefined"],"mappings":"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"}