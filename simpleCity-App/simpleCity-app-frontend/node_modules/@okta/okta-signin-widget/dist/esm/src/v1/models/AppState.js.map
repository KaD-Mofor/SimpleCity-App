{"version":3,"file":"AppState.js","sources":["../../../../../src/v1/models/AppState.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, $, loc, Model } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport Factor from 'v1/models/Factor';\nimport Q from 'q';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport { UnsupportedBrowserError } from 'util/Errors';\nconst DEFAULT_APP_LOGO = '/img/logos/default.png';\n\n// Keep track of stateMachine with this special model. Some reasons to not\n// keep it generic:\n// 1. We know exactly what we're using appState for by requiring props\n// 2. Can have some derived functions to help us translate the lastAuthRes\n\nconst USER_NOT_SEEN_ON_DEVICE = '/img/security/unknown.png';\nconst UNDEFINED_USER = '/img/security/default.png';\nconst NEW_USER = '/img/security/unknown-device.png';\nconst NEW_USER_IMAGE_DESCRIPTION = '';\nconst UNDEFINED_USER_IMAGE_DESCRIPTION = '';\nconst UNKNOWN_IMAGE_DESCRIPTION = '';\nconst securityImageUrlTpl = hbs('{{baseUrl}}/login/getimage?username={{username}}');\n\nfunction getSecurityImage(baseUrl, username, deviceFingerprint) {\n  // When the username is empty, we want to show the default image.\n  if (_.isEmpty(username) || _.isUndefined(username)) {\n    return Q({\n      securityImage: UNDEFINED_USER,\n      securityImageDescription: UNDEFINED_USER_IMAGE_DESCRIPTION,\n    });\n  }\n\n  // Reserved characters in the username must be escaped before the query can be safely executed\n  username = encodeURIComponent(username);\n  const url = securityImageUrlTpl({ baseUrl: baseUrl, username: username });\n  const data = {\n    url: url,\n    dataType: 'json',\n  };\n\n  if (deviceFingerprint) {\n    data['headers'] = { 'X-Device-Fingerprint': deviceFingerprint };\n  }\n  return Q($.ajax(data)).then(function(res) {\n    if (res.pwdImg === USER_NOT_SEEN_ON_DEVICE) {\n      // When we get an unknown.png security image from OKTA,\n      // we want to show the unknown-device security image.\n      // We are mapping the server's img url to a new one because\n      // we still need to support the original login page.\n      return {\n        securityImage: NEW_USER,\n        securityImageDescription: NEW_USER_IMAGE_DESCRIPTION,\n      };\n    }\n    return {\n      securityImage: res.pwdImg,\n      securityImageDescription: res.imageDescription || UNKNOWN_IMAGE_DESCRIPTION,\n    };\n  });\n}\n\nfunction getMinutesString(factorLifetimeInMinutes) {\n  if (factorLifetimeInMinutes > 60 && factorLifetimeInMinutes <= 1440) {\n    const lifetimeInHours = factorLifetimeInMinutes / 60;\n\n    return loc('hours', 'login', [lifetimeInHours]);\n  } else if (factorLifetimeInMinutes > 1440) {\n    const lifetimeInDays = factorLifetimeInMinutes / 1440;\n\n    return loc('days', 'login', [lifetimeInDays]);\n  }\n  //Use minutes as the time unit by default\n  if (factorLifetimeInMinutes === 1) {\n    return loc('minutes.oneMinute', 'login');\n  }\n  return loc('minutes', 'login', [factorLifetimeInMinutes]);\n}\n\nfunction getGracePeriodRemainingDays(gracePeriodEndDate) {\n  const endDate = new Date(gracePeriodEndDate).getTime();\n  const remainingDays = Math.floor((endDate - new Date().getTime()) / (1000 * 3600 * 24));\n\n  return remainingDays;\n}\n\nfunction combineFactorsObjects(factorTypes, factors) {\n  const addedFactorTypes = [];\n  const combinedFactors = [];\n\n  _.each(factors, function(factor) {\n    const factorType = factor.factorType;\n\n    if (!_.contains(addedFactorTypes, factorType)) {\n      const factorTypeObj = _.findWhere(factorTypes, { factorType: factorType });\n\n      if (factorTypeObj) {\n        addedFactorTypes.push(factorType);\n        combinedFactors.push(factorTypeObj);\n      } else {\n        combinedFactors.push(factor);\n      }\n    }\n  });\n  return combinedFactors;\n}\n\nexport default Model.extend({\n  initialize: function() {\n    // Handle this in initialize (as opposed to a derived property) because\n    // the operation is asynchronous\n    if (this.settings.get('features.securityImage')) {\n      const self = this;\n\n      this.listenTo(this, 'change:username', function(model, username) {\n        getSecurityImage(this.get('baseUrl'), username, this.get('deviceFingerprint'))\n          .then(function(image) {\n            model.set('securityImage', image.securityImage);\n            model.set('securityImageDescription', image.securityImageDescription);\n            model.unset('deviceFingerprint'); //Fingerprint can only be used once\n          })\n          .fail(function(jqXhr) {\n            // Only notify the consumer on a CORS error\n            if (BrowserFeatures.corsIsNotEnabled(jqXhr)) {\n              self.settings.callGlobalError(new UnsupportedBrowserError(loc('error.enabled.cors')));\n            } else {\n              throw jqXhr;\n            }\n          })\n          .done();\n      });\n    }\n  },\n\n  local: {\n    baseUrl: 'string',\n    lastAuthResponse: ['object', true, {}],\n    transaction: 'object',\n    transactionError: 'object',\n    username: 'string',\n    factors: 'object',\n    policy: 'object',\n    securityImage: ['string', true, UNDEFINED_USER],\n    securityImageDescription: ['string', true, UNDEFINED_USER_IMAGE_DESCRIPTION],\n    userCountryCode: 'string',\n    userPhoneNumber: 'string',\n    factorActivationType: 'string',\n    flashError: 'object',\n    beaconType: 'string',\n    deviceFingerprint: 'string', // valid only once\n    typingPattern: 'string',\n    // Note: languageCode is special in that it is shared between Settings\n    // and AppState. Settings is the *configured* language, and is static.\n    // AppState is the dynamic language state - it can be changed via a\n    // language picker, etc.\n    // Note: this is conceptial feasible but not yet being implemented.\n    languageCode: ['string', true],\n    disableUsername: ['boolean', false, false],\n    trapMfaRequiredResponse: ['boolean', false, false],\n    lastFailedChallengeFactorData: ['object', false],\n  },\n\n  setAuthResponse: function(res) {\n    // Because of MFA_CHALLENGE (i.e. DUO), we need to remember factors\n    // across auth responses. Not doing this, for example, results in being\n    // unable to switch away from the duo factor dropdown.\n    if (res._embedded && res._embedded.policy) {\n      this.set('policy', res._embedded.policy);\n    }\n\n    if (res._embedded && res._embedded.factors) {\n      let factors = res._embedded.factors;\n\n      if (res._embedded.factorTypes) {\n        factors = combineFactorsObjects(res._embedded.factorTypes, factors);\n      }\n\n      const factorsObject = _.map(factors, factor => {\n        factor.settings = this.settings;\n        factor.appState = this;\n        return factor;\n      });\n\n      this.set('factors', new Factor.Collection(factorsObject, { parse: true }));\n    }\n\n    this.set('lastAuthResponse', res);\n  },\n\n  clearLastAuthResponse: function() {\n    this.set('lastAuthResponse', {});\n  },\n\n  setLastFailedChallengeFactorData: function() {\n    this.set('lastFailedChallengeFactorData', {\n      factor: this.get('factor'),\n      errorMessage: this.get('factorResultErrorMessage'),\n    });\n  },\n\n  clearLastFailedChallengeFactorData: function() {\n    this.unset('lastFailedChallengeFactorData');\n  },\n\n  getUser: function() {\n    return this.get('user');\n  },\n\n  derived: {\n    isSuccessResponse: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'SUCCESS';\n      },\n    },\n    isMfaRequired: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'MFA_REQUIRED' || res.status === 'FACTOR_REQUIRED';\n      },\n    },\n    isProfileRequired: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'PROFILE_REQUIRED';\n      },\n    },\n    isMfaEnroll: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL';\n      },\n    },\n    isMfaChallenge: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'MFA_CHALLENGE' || res.status === 'FACTOR_CHALLENGE';\n      },\n    },\n    isSMSPasswordRecovery: {\n      deps: ['lastAuthResponse'],\n      fn: function({ status, factorType, recoveryType }) {\n        return status === 'RECOVERY_CHALLENGE' &&\n          factorType?.toLowerCase() === 'sms' &&\n          recoveryType?.toLowerCase() === 'password';\n      }\n    },\n    isUnauthenticated: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'UNAUTHENTICATED';\n      },\n    },\n    isMfaRejected: {\n      // MFA failures are usually error responses\n      // except in the case of Okta Push, when a\n      // user clicks 'deny' on his phone or OV app\n      // version is below a required version no.\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.factorResult === 'REJECTED';\n      },\n    },\n    isMfaTimeout: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.factorResult === 'TIMEOUT';\n      },\n    },\n    isMfaEnrollActivate: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'MFA_ENROLL_ACTIVATE' || res.status === 'FACTOR_ENROLL_ACTIVATE';\n      },\n    },\n    isWaitingForActivation: {\n      deps: ['isMfaEnrollActivate', 'lastAuthResponse'],\n      fn: function(isMfaEnrollActivate, res) {\n        return isMfaEnrollActivate && res.factorResult === 'WAITING';\n      },\n    },\n    isWaitingForNumberChallenge: {\n      deps: ['lastAuthResponse', 'isMfaChallenge'],\n      fn: function(res, isMfaChallenge) {\n        if (\n          isMfaChallenge &&\n          res &&\n          res.factorResult === 'WAITING' &&\n          res._embedded &&\n          res._embedded.factor &&\n          res._embedded.factor._embedded &&\n          res._embedded.factor._embedded.challenge\n        ) {\n          return true;\n        }\n        return false;\n      },\n    },\n    hasMultipleFactorsAvailable: {\n      deps: ['factors', 'isMfaRequired', 'isMfaChallenge', 'isUnauthenticated'],\n      fn: function(factors, isMfaRequired, isMfaChallenge, isUnauthenticated) {\n        if (!isMfaRequired && !isMfaChallenge && !isUnauthenticated) {\n          return false;\n        }\n        return factors && factors.length > 1;\n      },\n    },\n    promptForFactorInUnauthenticated: {\n      deps: ['lastAuthResponse', 'factors'],\n      fn: function(res, factors) {\n        if (res.status !== 'UNAUTHENTICATED') {\n          return false;\n        }\n        return factors && factors.length > 0;\n      },\n    },\n    userId: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.user) {\n          return null;\n        }\n        return res._embedded.user.id;\n      },\n    },\n    isIdxStateToken: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res && _.isString(res.stateToken) && res.stateToken.startsWith('01');\n      },\n    },\n    isPwdExpiringSoon: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.status === 'PASSWORD_WARN';\n      },\n    },\n    passwordExpireDays: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.policy || !res._embedded.policy.expiration) {\n          return null;\n        }\n        return res._embedded.policy.expiration.passwordExpireDays;\n      },\n    },\n    isPwdManagedByOkta: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._links || !res._links.next || !res._links.next.title) {\n          return true;\n        }\n        return false;\n      },\n    },\n    passwordExpiredWebsiteName: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._links || !res._links.next || !res._links.next.title) {\n          return null;\n        }\n        return res._links.next.title;\n      },\n    },\n    passwordExpiredLinkUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._links || !res._links.next || !res._links.next.title || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      },\n    },\n    recoveryType: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.recoveryType;\n      },\n    },\n    factorType: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.factorType;\n      },\n    },\n    factor: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.factor) {\n          return null;\n        }\n        return res._embedded.factor;\n      },\n    },\n    activatedFactorId: {\n      deps: ['factor'],\n      fn: function(factor) {\n        return factor ? factor.id : null;\n      },\n    },\n    activatedFactorType: {\n      deps: ['factor'],\n      fn: function(factor) {\n        return factor ? factor.factorType : null;\n      },\n    },\n    activatedFactorProvider: {\n      deps: ['factor'],\n      fn: function(factor) {\n        return factor ? factor.provider : null;\n      },\n    },\n    qrcode: {\n      deps: ['factor'],\n      fn: function(factor) {\n        try {\n          return factor._embedded.activation._links.qrcode.href;\n        } catch (err) {\n          return null;\n        }\n      },\n    },\n    activationSendLinks: {\n      deps: ['factor'],\n      fn: function(factor) {\n        let sendLinks;\n\n        try {\n          sendLinks = factor._embedded.activation._links.send;\n        } catch (err) {\n          sendLinks = [];\n        }\n        return sendLinks;\n      },\n    },\n    textActivationLinkUrl: {\n      deps: ['activationSendLinks'],\n      fn: function(activationSendLinks) {\n        const item = _.findWhere(activationSendLinks, { name: 'sms' });\n\n        return item ? item.href : null;\n      },\n    },\n    emailActivationLinkUrl: {\n      deps: ['activationSendLinks'],\n      fn: function(activationSendLinks) {\n        const item = _.findWhere(activationSendLinks, { name: 'email' });\n\n        return item ? item.href : null;\n      },\n    },\n    sharedSecret: {\n      deps: ['factor'],\n      fn: function(factor) {\n        try {\n          return factor._embedded.activation.sharedSecret;\n        } catch (err) {\n          return null;\n        }\n      },\n    },\n    duoEnrollActivation: {\n      deps: ['factor'],\n      fn: function(factor) {\n        if (!factor || !factor._embedded || !factor._embedded.activation) {\n          return null;\n        }\n        return factor._embedded.activation;\n      },\n    },\n    prevLink: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (res._links && res._links.prev) {\n          return res._links.prev.href;\n        }\n        return null;\n      },\n    },\n    skipLink: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (res._links && res._links.skip) {\n          return res._links.skip.href;\n        }\n        return null;\n      },\n    },\n    gracePeriodRemainingDays: {\n      deps: ['policy'],\n      fn: function(policy) {\n        if (policy && policy.gracePeriod && policy.gracePeriod.endDate) {\n          return getGracePeriodRemainingDays(policy.gracePeriod.endDate);\n        }\n        return null;\n      },\n    },\n    user: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.user) {\n          return null;\n        }\n        return res._embedded.user;\n      },\n    },\n    recoveryQuestion: {\n      deps: ['user'],\n      fn: function(user) {\n        if (!user || !user.recovery_question) {\n          return null;\n        }\n        return user.recovery_question.question;\n      },\n    },\n    userProfile: {\n      deps: ['user'],\n      fn: function(user) {\n        if (!user || !user.profile) {\n          return null;\n        }\n        return user.profile;\n      },\n    },\n    userConsentName: {\n      deps: ['userProfile', 'username'],\n      fn: function(userProfile, username) {\n        if (!userProfile || _.isEmpty(userProfile.firstName)) {\n          return username;\n        }\n        if (_.isEmpty(userProfile.lastName)) {\n          return userProfile.firstName;\n        }\n        return userProfile.firstName + ' ' + userProfile.lastName.charAt(0) + '.';\n      },\n    },\n    userEmail: {\n      deps: ['userProfile'],\n      fn: function(userProfile) {\n        if (!userProfile || !userProfile.login) {\n          return null;\n        }\n        return userProfile.login;\n      },\n    },\n    userFullName: {\n      deps: ['userProfile'],\n      fn: function(userProfile) {\n        if (!userProfile || (!userProfile.firstName && !userProfile.lastName)) {\n          return '';\n        }\n        return userProfile.firstName + ' ' + userProfile.lastName;\n      },\n    },\n    defaultAppLogo: {\n      deps: ['baseUrl'],\n      fn: function(baseUrl) {\n        return baseUrl + DEFAULT_APP_LOGO;\n      },\n    },\n    expiresAt: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.expiresAt;\n      },\n    },\n    target: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.target;\n      },\n    },\n    targetLabel: {\n      deps: ['target'],\n      fn: function(target) {\n        if (!target) {\n          return null;\n        }\n        return target.label;\n      },\n    },\n    targetLogo: {\n      deps: ['target'],\n      fn: function(target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links.logo;\n      },\n    },\n    targetTermsOfService: {\n      deps: ['target'],\n      fn: function(target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['terms-of-service'];\n      },\n    },\n    targetPrivacyPolicy: {\n      deps: ['target'],\n      fn: function(target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['privacy-policy'];\n      },\n    },\n    targetClientURI: {\n      deps: ['target'],\n      fn: function(target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['client-uri'];\n      },\n    },\n    scopes: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.scopes;\n      },\n    },\n    issuer: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res?._embedded?.authentication?.issuer?.uri;\n      }\n    },\n    hasExistingPhones: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.factors) {\n          return false;\n        }\n        const factors = res._embedded.factors;\n\n        const factor = _.findWhere(factors, { factorType: 'sms', provider: 'OKTA' });\n\n        if (!factor || !factor._embedded) {\n          return false;\n        }\n\n        return !!factor._embedded.phones.length;\n      },\n    },\n    hasExistingPhonesForCall: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded || !res._embedded.factors) {\n          return false;\n        }\n        const factors = res._embedded.factors;\n\n        const factor = _.findWhere(factors, { factorType: 'call', provider: 'OKTA' });\n\n        if (!factor || !factor._embedded) {\n          return false;\n        }\n\n        return !!factor._embedded.phones.length;\n      },\n    },\n    isUndefinedUser: {\n      deps: ['securityImage'],\n      fn: function(securityImage) {\n        return securityImage === UNDEFINED_USER;\n      },\n    },\n    isNewUser: {\n      deps: ['securityImage'],\n      fn: function(securityImage) {\n        return securityImage === NEW_USER;\n      },\n    },\n    allowRememberDevice: {\n      deps: ['policy'],\n      fn: function(policy) {\n        return policy && policy.allowRememberDevice;\n      },\n    },\n    rememberDeviceLabel: {\n      deps: ['policy'],\n      fn: function(policy) {\n        if (policy && policy.rememberDeviceLifetimeInMinutes > 0) {\n          const timeString = getMinutesString(policy.rememberDeviceLifetimeInMinutes);\n\n          return loc('rememberDevice.timebased', 'login', [timeString]);\n        } else if (policy && policy.rememberDeviceLifetimeInMinutes === 0) {\n          return loc('rememberDevice.devicebased', 'login');\n        }\n        return loc('rememberDevice', 'login');\n      },\n    },\n    rememberDeviceByDefault: {\n      deps: ['policy'],\n      fn: function(policy) {\n        return policy && policy.rememberDeviceByDefault;\n      },\n    },\n    factorsPolicyInfo: {\n      deps: ['policy'],\n      fn: function(policy) {\n        return policy && policy.factorsPolicyInfo ? policy.factorsPolicyInfo : null;\n      },\n    },\n    verifyCustomFactorRedirectUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._links || !res._links.next || res._links.next.name !== 'redirect' || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      },\n    },\n    enrollCustomFactorRedirectUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._links || !res._links.next || res._links.next.name !== 'activate' || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      },\n    },\n    isFactorResultFailed: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res.factorResult === 'FAILED';\n      },\n    },\n    factorResultErrorMessage: {\n      deps: ['lastAuthResponse', 'isFactorResultFailed'],\n      fn: function(res, isFactorResultFailed) {\n        if (isFactorResultFailed) {\n          return res.factorResultMessage || loc('oform.error.unexpected', 'login');\n        }\n        return null;\n      },\n    },\n    deviceActivationStatus: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.deviceActivationStatus;\n      },\n    },\n    usingDeviceFlow: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return !!(res._embedded && res._embedded.usingDeviceFlow);\n      },\n    },\n    userCode: {\n      deps: ['lastAuthResponse'],\n      fn: function(res) {\n        return res?._embedded?.userCode;\n      },\n    },\n  },\n\n  parse: function(options) {\n    this.settings = options.settings;\n    return _.extend(_.omit(options, 'settings'), {\n      languageCode: this.settings.get('languageCode'),\n      userCountryCode: this.settings.get('countryCode'),\n    });\n  },\n});\n"],"names":["DEFAULT_APP_LOGO","USER_NOT_SEEN_ON_DEVICE","UNDEFINED_USER","NEW_USER","NEW_USER_IMAGE_DESCRIPTION","UNDEFINED_USER_IMAGE_DESCRIPTION","UNKNOWN_IMAGE_DESCRIPTION","securityImageUrlTpl","getSecurityImage","baseUrl","username","deviceFingerprint","_","isEmpty","isUndefined","Q","securityImage","securityImageDescription","encodeURIComponent","url","data","dataType","$","ajax","then","res","pwdImg","imageDescription","getMinutesString","factorLifetimeInMinutes","lifetimeInHours","loc","lifetimeInDays","getGracePeriodRemainingDays","gracePeriodEndDate","endDate","Date","getTime","remainingDays","Math","floor","combineFactorsObjects","factorTypes","factors","addedFactorTypes","combinedFactors","each","factor","factorType","contains","factorTypeObj","findWhere","push","Model","extend","initialize","settings","get","self","listenTo","model","image","set","unset","fail","jqXhr","BrowserFeatures","corsIsNotEnabled","callGlobalError","UnsupportedBrowserError","done","local","lastAuthResponse","transaction","transactionError","policy","userCountryCode","userPhoneNumber","factorActivationType","flashError","beaconType","typingPattern","languageCode","disableUsername","trapMfaRequiredResponse","lastFailedChallengeFactorData","setAuthResponse","_embedded","factorsObject","map","appState","Factor","Collection","parse","clearLastAuthResponse","setLastFailedChallengeFactorData","errorMessage","clearLastFailedChallengeFactorData","getUser","derived","isSuccessResponse","deps","fn","status","isMfaRequired","isProfileRequired","isMfaEnroll","isMfaChallenge","isSMSPasswordRecovery","recoveryType","toLowerCase","isUnauthenticated","isMfaRejected","factorResult","isMfaTimeout","isMfaEnrollActivate","isWaitingForActivation","isWaitingForNumberChallenge","challenge","hasMultipleFactorsAvailable","length","promptForFactorInUnauthenticated","userId","user","id","isIdxStateToken","isString","stateToken","startsWith","isPwdExpiringSoon","passwordExpireDays","expiration","isPwdManagedByOkta","_links","next","title","passwordExpiredWebsiteName","passwordExpiredLinkUrl","href","activatedFactorId","activatedFactorType","activatedFactorProvider","provider","qrcode","activation","err","activationSendLinks","sendLinks","send","textActivationLinkUrl","item","name","emailActivationLinkUrl","sharedSecret","duoEnrollActivation","prevLink","prev","skipLink","skip","gracePeriodRemainingDays","gracePeriod","recoveryQuestion","recovery_question","question","userProfile","profile","userConsentName","firstName","lastName","charAt","userEmail","login","userFullName","defaultAppLogo","expiresAt","target","targetLabel","label","targetLogo","logo","targetTermsOfService","targetPrivacyPolicy","targetClientURI","scopes","issuer","authentication","uri","hasExistingPhones","phones","hasExistingPhonesForCall","isUndefinedUser","isNewUser","allowRememberDevice","rememberDeviceLabel","rememberDeviceLifetimeInMinutes","timeString","rememberDeviceByDefault","factorsPolicyInfo","verifyCustomFactorRedirectUrl","enrollCustomFactorRedirectUrl","isFactorResultFailed","factorResultErrorMessage","factorResultMessage","deviceActivationStatus","usingDeviceFlow","userCode","options","omit"],"mappings":"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"}