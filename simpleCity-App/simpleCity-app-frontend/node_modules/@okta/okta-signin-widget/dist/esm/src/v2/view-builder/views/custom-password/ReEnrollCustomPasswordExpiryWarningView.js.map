{"version":3,"file":"ReEnrollCustomPasswordExpiryWarningView.js","sources":["../../../../../../../src/v2/view-builder/views/custom-password/ReEnrollCustomPasswordExpiryWarningView.js"],"sourcesContent":["import { createButton, loc, _ } from '@okta/courage';\nimport { BaseView, BaseForm, BaseFooter } from '../../internals';\nimport Util from '../../../../util/Util';\n\nconst Body = BaseForm.extend({\n  className: 'password-authenticator',\n  subtitle() {\n    return this.settings.get('brandName') ? loc('password.expiring.soon.subtitle.specific', 'login', \n      [this.settings.get('brandName')]) : loc('password.expiring.soon.subtitle.generic', 'login');\n  },\n  title() {\n    const passwordPolicy = this.options.appState.get('currentAuthenticator')?.settings;\n    const daysToExpiry = passwordPolicy.daysToExpiry;\n\n    if (daysToExpiry > 0) {\n      return loc('password.expiring.title', 'login', [daysToExpiry]);\n    } else if (daysToExpiry === 0) {\n      return loc('password.expiring.today', 'login');\n    } else {\n      return loc('password.expiring.soon', 'login');\n    }\n  },\n  noSubmitButton: true,\n  initialize() {\n    const { customExpiredPasswordName, customExpiredPasswordURL } = this.options.currentViewState;\n    this.add(createButton({\n      className: 'button button-primary button-wide',\n      title: _.partial(loc, 'password.expired.custom.submit', 'login', [customExpiredPasswordName]),\n      click: () => {\n        Util.redirect(customExpiredPasswordURL);\n      },\n    }));\n  },\n});\n\nconst Footer = BaseFooter.extend({\n  links() {\n    const links = [];\n    if (this.options.appState.hasRemediationObject('skip')) {\n      links.push({\n        'type': 'link',\n        'label': loc('password.expiring.later', 'login'),\n        'name': 'skip',\n        'actionPath': 'skip',\n      });\n    }\n    return links;\n  }\n});\n\nexport default BaseView.extend({ Body, Footer });\n"],"names":["Body","BaseForm","extend","className","subtitle","settings","get","loc","title","passwordPolicy","options","appState","daysToExpiry","noSubmitButton","initialize","customExpiredPasswordName","customExpiredPasswordURL","currentViewState","add","createButton","_","partial","click","Util","redirect","Footer","BaseFooter","links","hasRemediationObject","push","BaseView"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,MAAMA,IAAI,GAAGC,QAAQ,CAACC,MAAM,CAAC;AAC3BC,EAAAA,SAAS,EAAE,wBAAwB;AACnCC,EAAAA,QAAQ,EAAG,YAAA;AACT,IAAA,OAAO,IAAI,CAACC,QAAQ,CAACC,GAAG,CAAC,WAAW,CAAC,GAAGC,GAAG,CAAC,0CAA0C,EAAE,OAAO,EAC7F,CAAC,IAAI,CAACF,QAAQ,CAACC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,GAAGC,GAAG,CAAC,yCAAyC,EAAE,OAAO,CAAC,CAAA;GAC9F;AACDC,EAAAA,KAAK,EAAG,YAAA;AAAA,IAAA,IAAA,qBAAA,CAAA;AACN,IAAA,MAAMC,cAAc,GAAA,CAAA,qBAAA,GAAG,IAAI,CAACC,OAAO,CAACC,QAAQ,CAACL,GAAG,CAAC,sBAAsB,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAjD,sBAAmDD,QAAQ,CAAA;AAClF,IAAA,MAAMO,YAAY,GAAGH,cAAc,CAACG,YAAY,CAAA;IAEhD,IAAIA,YAAY,GAAG,CAAC,EAAE;MACpB,OAAOL,GAAG,CAAC,yBAAyB,EAAE,OAAO,EAAE,CAACK,YAAY,CAAC,CAAC,CAAA;AAChE,KAAC,MAAM,IAAIA,YAAY,KAAK,CAAC,EAAE;AAC7B,MAAA,OAAOL,GAAG,CAAC,yBAAyB,EAAE,OAAO,CAAC,CAAA;AAChD,KAAC,MAAM;AACL,MAAA,OAAOA,GAAG,CAAC,wBAAwB,EAAE,OAAO,CAAC,CAAA;AAC/C,KAAA;GACD;AACDM,EAAAA,cAAc,EAAE,IAAI;AACpBC,EAAAA,UAAU,EAAG,YAAA;IACX,MAAM;AAAEC,MAAAA,yBAAyB,EAAzBA,yBAAyB;AAAEC,MAAAA,wBAAwB,EAAxBA,wBAAAA;AAAyB,KAAC,GAAG,IAAI,CAACN,OAAO,CAACO,gBAAgB,CAAA;AAC7F,IAAA,IAAI,CAACC,GAAG,CAACC,YAAY,CAAC;AACpBhB,MAAAA,SAAS,EAAE,mCAAmC;AAC9CK,MAAAA,KAAK,EAAEY,cAAC,CAACC,OAAO,CAACd,GAAG,EAAE,gCAAgC,EAAE,OAAO,EAAE,CAACQ,yBAAyB,CAAC,CAAC;AAC7FO,MAAAA,KAAK,EAAE,MAAM;AACXC,QAAAA,IAAI,CAACC,QAAQ,CAACR,wBAAwB,CAAC,CAAA;AACzC,OAAA;AACF,KAAC,CAAC,CAAC,CAAA;AACL,GAAA;AACF,CAAC,CAAC,CAAA;AAEF,MAAMS,MAAM,GAAGC,UAAU,CAACxB,MAAM,CAAC;AAC/ByB,EAAAA,KAAK,EAAG,YAAA;IACN,MAAMA,KAAK,GAAG,EAAE,CAAA;IAChB,IAAI,IAAI,CAACjB,OAAO,CAACC,QAAQ,CAACiB,oBAAoB,CAAC,MAAM,CAAC,EAAE;MACtDD,KAAK,CAACE,IAAI,CAAC;AACT,QAAA,MAAM,EAAE,MAAM;AACd,QAAA,OAAO,EAAEtB,GAAG,CAAC,yBAAyB,EAAE,OAAO,CAAC;AAChD,QAAA,MAAM,EAAE,MAAM;AACd,QAAA,YAAY,EAAE,MAAA;AAChB,OAAC,CAAC,CAAA;AACJ,KAAA;AACA,IAAA,OAAOoB,KAAK,CAAA;AACd,GAAA;AACF,CAAC,CAAC,CAAA;AAEF,8CAAeG,QAAQ,CAAC5B,MAAM,CAAC;AAAEF,EAAAA,IAAI,EAAJA,IAAI;AAAEyB,EAAAA,MAAM,EAANA,MAAAA;AAAO,CAAC,CAAC;;;;"}