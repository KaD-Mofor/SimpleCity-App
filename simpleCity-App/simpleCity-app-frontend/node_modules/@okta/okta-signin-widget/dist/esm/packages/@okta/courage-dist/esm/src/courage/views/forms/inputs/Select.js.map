{"version":3,"file":"Select.js","sources":["../../../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/Select.js"],"sourcesContent":["import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport Keys from '../../../util/Keys.js';\nimport '../../../vendor/plugins/chosen.jquery.js';\nimport BaseInput from '../BaseInput.js';\nimport Util from '../../../util/Util.js';\nimport StringUtil from '../../../util/StringUtil.js';\n\nconst template = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<select id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"inputId\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 12\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 23\n        }\n      }\n    }) : helper)) + \"\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"name\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 31\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 39\n        }\n      }\n    }) : helper)) + \"\\\"></select>\";\n  },\n  \"useData\": true\n});\n\nconst option = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<option value=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"key\") || (depth0 != null ? lookupProperty(depth0, \"key\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"key\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 15\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 22\n        }\n      }\n    }) : helper)) + \"\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"value\") || (depth0 != null ? lookupProperty(depth0, \"value\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"value\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 24\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 33\n        }\n      }\n    }) : helper)) + \"</option>\";\n  },\n  \"useData\": true\n});\n\nconst CHOSEN_WINDOW_MARGIN = 20;\nconst isSafari = Util.isSafari; // Chosen has known problems when it's at the bottom of a container that has\n// overflow:hidden set. Because it attaches to the parent container, its\n// dropdown will be cut off in the UI. Any modal with a chosen select element\n// at the bottom will manifest this behavior.\n//\n// The fix (aside from replacing Chosen) is to change Chosen's behavior -\n// use the existing styles, but attach it to 'body' and position it correctly\n// so that it is not affected by a parent overflow.\n//\n// More details can be found in OKTA-46489, OKTA-83570\n\nconst CHOSEN_MAX_HEIGHT = 240;\nconst CHOSEN_Z_INDEX = 50000;\n\nfunction defer(fn) {\n  if (this.params.autoWidth) {\n    return fn.call(this);\n  } else {\n    return oktaUnderscore.defer(oktaUnderscore.bind(fn, this));\n  }\n}\n\nfunction findSelectWidth(self) {\n  self.$select.hide();\n  const select = oktaJQueryStatic(self.$select[0]).hide();\n  oktaJQueryStatic('body').append(select);\n  const width = self.params.width = select.width() * 1.2 + 'px';\n  self.$el.append(select.show());\n  return width;\n}\n\nfunction recalculateChosen($chosen, $results, $clone) {\n  const offset = $clone.offset();\n  $chosen.css({\n    left: offset.left,\n    top: offset.top\n  }); // Update the max-height to fit within the constraints of the window. This\n  // is especially important for modals because page scrolling is disabled.\n\n  const $win = oktaJQueryStatic(window);\n  const rHeight = $results.outerHeight();\n  const rBottom = rHeight + $results.offset().top - $win.scrollTop();\n  const wHeight = $win.height() - CHOSEN_WINDOW_MARGIN;\n  const maxHeight = Math.min(rHeight + wHeight - rBottom, CHOSEN_MAX_HEIGHT);\n  $results.css('max-height', maxHeight);\n}\n\nfunction handleKeyUpEvent($select, $chosen, $results) {\n  const $highlightedOption = $results.find('.active-result.highlighted');\n  $chosen.find('#' + $select.attr('id') + '_txt').attr('aria-activedescendant', $highlightedOption.attr('id')); // change the old selected item aria-selected to false\n  // and add add it to new item.\n\n  $results.find('[aria-selected=true]').attr('aria-selected', 'false');\n  $highlightedOption.attr('aria-selected', 'true'); // In case of Safari, add message to aria-live node to be read by screenreader.\n  // We need to do this special handling for Safari due to falkiness with aria-activedescendant\n  // handling. https://bit.ly/3z45IZF\n\n  if (isSafari()) {\n    // message read by screenReader i.e optionValue selected(United States selected)\n    const message = StringUtil.localize('oform.selectInput.country', 'courage', [$highlightedOption.text()]);\n    const elementId = $select.attr('id');\n\n    if (message !== '') {\n      oktaJQueryStatic(`#${elementId}_aria_div_id`).text(message);\n    }\n  }\n\n  const noResult = $results.find('li.no-results');\n\n  if (noResult.length) {\n    noResult.attr('role', 'alert');\n  }\n}\n\nfunction fixChosenModal($select, textPlaceholder) {\n  const $chosen = $select.next('.chzn-container');\n  const $clone = $chosen.clone();\n  const $results = $chosen.find('.chzn-results');\n  const $searchInput = $chosen.find('.chzn-search input[type=text]');\n  $searchInput.on('keyup', () => {\n    handleKeyUpEvent($select, $chosen, $results);\n  });\n  $chosen.addClass('closed'); // Will be used in SIW to fix screen reader focus.\n  // Use a hidden clone to maintain layout and calculate offset. This is\n  // necessary for more complex layouts (like adding a group rule) where\n  // the chosen element is floated.\n\n  $clone.css('visibility', 'hidden');\n  $clone.removeAttr('id');\n  $clone.find('li').removeAttr('id'); // Save the original styles - we'll revert to them when the select closes\n\n  const baseStyles = {\n    left: $chosen.css('left'),\n    top: $chosen.css('top'),\n    position: $chosen.css('position'),\n    float: $chosen.css('float'),\n    'z-index': $chosen.css('z-index')\n  };\n  $results.hide(); // Handler for any resize events that happen when the results list is open\n\n  const resizeHandler = oktaUnderscore.debounce(function () {\n    recalculateChosen($chosen, $results, $clone);\n  }, 10); // When the dropdown opens, attach it to body, with the correct absolute\n  // position coordinates\n\n\n  $select.off('.fixChosen'); // Remove events we could have added before\n\n  $select.on('liszt:showing_dropdown.fixChosen', function () {\n    $chosen.width($chosen.width());\n    $select.after($clone); // .chzn-container can trigger the vertical scrollbar if it causes scrollHeight > window height after append to\n    // the body. Force top -999999 to avoid the scrollbar so $chosen can find the right offset for relocation.\n\n    $chosen.css({\n      position: 'absolute',\n      float: 'none',\n      'z-index': CHOSEN_Z_INDEX,\n      top: -999999\n    });\n    oktaJQueryStatic('body').append($chosen);\n    oktaJQueryStatic('.chzn-search > :text').prop('placeholder', textPlaceholder);\n    $results.show();\n    recalculateChosen($chosen, $results, $clone); // Capture scroll events:\n    // - for forms that use fixed positioning (like editing attributes in\n    //   Profile Editor) - window scroll\n    // - for forms that are too long for the modal - o-form-content scroll\n\n    $select.parents().scroll(resizeHandler);\n    oktaJQueryStatic(window).on('resize scroll', resizeHandler);\n  });\n  $select.on('liszt:showing_dropdown', function () {\n    $chosen.removeClass('closed');\n  }); // When the dropdown closes or the element is removed, revert to the\n  // original styles and reattach it to its original placement in the dom.\n\n  $select.on('liszt:hiding_dropdown.fixChosen remove.fixChosen', function () {\n    $select.parents().off('scroll', resizeHandler);\n    oktaJQueryStatic(window).off('resize scroll', resizeHandler);\n    $chosen.css(baseStyles);\n    $results.hide();\n    $chosen.addClass('closed');\n    $results.css('max-height', CHOSEN_MAX_HEIGHT);\n    $clone.remove();\n    $select.after($chosen);\n  }); // Do not change the order of event listeners. This event must execute after \n  // \"liszt:hiding_dropdown.fixChosen remove.fixChosen\"\n\n  $select.on('liszt:hiding_dropdown.fixChosen', function () {\n    $searchInput.focus(); // set focus back to input only when the dropdown is closed\n  });\n}\n\nvar Select = BaseInput.extend({\n  className: 'o-form-select',\n\n  /**\n   * @Override\n   */\n  events: {\n    'change select': 'update',\n    'keyup .chzn-search > :text': function (e) {\n      if (Keys.isEsc(e)) {\n        this.$('.chzn-search > :text').val('');\n        e.stopPropagation();\n      }\n    }\n  },\n  constructor: function () {\n    this.template = template;\n    this.option = this.option || option;\n    BaseInput.apply(this, arguments);\n    this.params = this.options.params || {};\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function () {\n    /* eslint max-statements: [2, 17] */\n    this.$el.html(template(this.options));\n    this.$select = this.$('select');\n    this.appendOptions(); // Fix a regression in jQuery 1.x on Firefox\n    // jQuery.val(value) prepends an empty option to the dropdown\n    // if value doesnt exist in the dropdown.\n    // http://bugs.jquery.com/ticket/13514\n\n    const value = this.getModelValue();\n\n    if (value) {\n      this.$select.val(value);\n    } else {\n      this.$('option:first-child').prop('selected', true);\n    }\n\n    this.$el.addClass('o-form-control');\n\n    if (this.params.chosen !== false) {\n      this.__applyChosen();\n    }\n\n    return this;\n  },\n  appendOptions: function () {\n    if (!this.getOptions()) {\n      return;\n    }\n\n    const options = this.getOptions();\n    const keys = Object.keys(options);\n    this.applySortByKey(keys);\n    keys.forEach(key => {\n      this.$select.append(this.option({\n        key: key,\n        value: options[key]\n      }));\n    });\n  },\n  applySortByKey: function (keys) {\n    const sortByKey = this.options.sortByKey;\n\n    if (!sortByKey) {\n      return;\n    }\n\n    if (sortByKey instanceof Function) {\n      keys.sort(sortByKey);\n    }\n\n    if (sortByKey === 'asc') {\n      keys.sort();\n    }\n\n    if (sortByKey === 'desc') {\n      keys.sort();\n      keys.reverse();\n    }\n  },\n  __applyChosen: function (update) {\n    let width = this.options.wide ? '100%' : this.params.width || '62%';\n\n    if (this.params.autoWidth) {\n      width = findSelectWidth(this);\n    }\n\n    defer.call(this, function () {\n      const searchThreshold = this.getParam('searchThreshold', 10);\n\n      if (!oktaUnderscore.result(this.options, 'autoRender') && update !== false) {\n        this.update();\n      }\n\n      this.$select.chosen({\n        width: width,\n        disable_search_threshold: searchThreshold,\n        //eslint-disable-line camelcase\n        placeholder_text: this.options['placeholder'],\n        //eslint-disable-line camelcase\n        search_contains: true //eslint-disable-line camelcase\n\n      }); //if options are more than search threshold, consider it as a combobox\n\n      const isComboBox = this.options && this.options.options && Object.keys(this.options.options).length > searchThreshold;\n      this.accessibilityUpdate(isComboBox, this.params);\n      fixChosenModal(this.$select, this.searchPlaceholder);\n\n      if (this.params.autoWidth) {\n        // fix a chosen css bug\n        this.$el.width(0);\n      }\n\n      this.model.trigger('form:resize');\n    });\n  },\n\n  /**\n   * @Override\n   */\n  val: function () {\n    return this.$select && this.$select.val();\n  },\n\n  /**\n   * @Override\n   */\n  focus: function () {\n    if (this.$select) {\n      return this.$select.focus();\n    }\n  },\n\n  /**\n   * @Override\n   */\n  toStringValue: function () {\n    const selectedOption = this.getModelValue();\n    let displayString = selectedOption;\n    const options = this.getOptions();\n\n    if (!oktaUnderscore.isEmpty(options)) {\n      displayString = options[selectedOption];\n    }\n\n    if (oktaUnderscore.isUndefined(displayString)) {\n      displayString = this.defaultValue();\n    }\n\n    return displayString || '';\n  },\n\n  /**\n   * Convert options to an object\n   * support input options that is a\n   * 1. a static object such as {key1: val1, key2: val2...}\n   * 2. a function to be called to return a static object\n   * will return an object with key-value pairs or with empty content\n   * @return {Object} The value\n   */\n  getOptions: function () {\n    let options = this.options.options;\n\n    if (oktaUnderscore.isFunction(options)) {\n      options = options.call(this);\n    }\n\n    return oktaUnderscore.isObject(options) ? options : {};\n  },\n  remove: function () {\n    if (this.$select) {\n      this.$select.trigger('remove');\n    }\n\n    return BaseInput.prototype.remove.apply(this, arguments);\n  },\n\n  /**\n   * @param ariaDivId id for div element\n   * Create a div element and add it to chosen container.\n   */\n  createAriaLiveNode: function (ariaDivId) {\n    const $chosen = this.$select.next('.chzn-container'); // set this to off-screen such that no user will see this and only screenReaders will pick this up.\n    // we should announce to user only on additions and not on removals.\n\n    const $node = oktaJQueryStatic('<div></div>').attr('role', 'log').attr('aria-live', 'polite').attr('id', ariaDivId).attr('aria-relevant', 'additions').attr('aria-atomic', 'false').attr('class', 'off-screen');\n    $node.insertAfter($chosen);\n  },\n\n  /**\n   * Code to make the select/combobox component accessible with screen readers.\n   *\n   * @param {boolean} isComboBox - Is the select a combobox?\n   * @param {object} params - params like aria label\n   */\n  // eslint-disable-next-line max-statements\n  accessibilityUpdate: function (isComboBox, params) {\n    const txtBoxId = this.$select.attr('id') + '_txt';\n    const ariaDivId = this.$select.attr('id') + '_aria_div_id';\n    const ulTagId = this.$select.attr('id') + '_ul'; // this is to fix(OKTA-506711) the accessibility issue due to partial support of aria-activedescendant\n    // by Safari. Make use of aria-live to make screenReader announce the option selected by user as a workaround.\n\n    if (isSafari()) {\n      this.createAriaLiveNode(ariaDivId);\n    }\n\n    this.$('ul[class=chzn-results]').attr('role', 'listbox').attr('id', ulTagId);\n\n    if (isComboBox) {\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-autocomplete', 'list').attr('aria-activedescendant', '').attr('role', 'combobox').attr('aria-expanded', 'true').attr('aria-controls', ulTagId);\n    } else {\n      this.$('input[type=text]').attr('id', txtBoxId).attr('role', 'listbox');\n    }\n\n    if (params && params.aria && params.aria.label) {\n      const ariaLabel = params.aria.label.trim();\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-label', ariaLabel);\n      this.$('ul[class=chzn-results]').attr('aria-label', ariaLabel);\n    } else {\n      const ariaLabel = this.$el.parent().prev('.o-form-label').find('label').text().trim();\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-label', ariaLabel);\n      this.$('ul[class=chzn-results]').attr('aria-label', ariaLabel);\n    }\n\n    this.$('.chzn-results .active-result').attr('role', 'option').attr('aria-selected', 'false');\n  }\n});\n\nexport { Select as default };\n"],"names":["template","_Handlebars2","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","option","CHOSEN_WINDOW_MARGIN","isSafari","Util","CHOSEN_MAX_HEIGHT","CHOSEN_Z_INDEX","defer","fn","params","autoWidth","oktaUnderscore","bind","findSelectWidth","self","$select","hide","select","oktaJQueryStatic","append","width","$el","show","recalculateChosen","$chosen","$results","$clone","offset","css","left","top","$win","window","rHeight","outerHeight","rBottom","scrollTop","wHeight","height","maxHeight","Math","min","handleKeyUpEvent","$highlightedOption","find","attr","message","StringUtil","localize","text","elementId","noResult","length","fixChosenModal","textPlaceholder","next","clone","$searchInput","on","addClass","removeAttr","baseStyles","position","float","resizeHandler","debounce","off","after","prop","parents","scroll","removeClass","remove","focus","Select","BaseInput","extend","className","events","e","Keys","isEsc","$","val","stopPropagation","constructor","apply","arguments","options","editMode","html","appendOptions","value","getModelValue","chosen","__applyChosen","getOptions","keys","applySortByKey","forEach","key","sortByKey","Function","sort","reverse","update","wide","searchThreshold","getParam","result","disable_search_threshold","placeholder_text","search_contains","isComboBox","accessibilityUpdate","searchPlaceholder","model","trigger","toStringValue","selectedOption","displayString","isEmpty","isUndefined","defaultValue","isFunction","isObject","createAriaLiveNode","ariaDivId","$node","insertAfter","txtBoxId","ulTagId","aria","label","ariaLabel","trim","prev"],"mappings":"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"}