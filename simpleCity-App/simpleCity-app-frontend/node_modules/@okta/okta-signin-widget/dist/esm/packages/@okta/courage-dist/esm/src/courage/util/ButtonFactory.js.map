{"version":3,"file":"ButtonFactory.js","sources":["../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/util/ButtonFactory.js"],"sourcesContent":["import oktaUnderscore from './underscore-wrapper.js';\nimport BaseButtonLink from '../views/components/BaseButtonLink.js';\n\n/* eslint '@okta/okta-ui/no-deprecated-methods': [0, [{ name: 'BaseButtonLink.extend', use: 'Okta.createButton'}, ]] */\n/**\n * A factory method wrapper for {@link BaseButtonLink} creation\n * @class module:Okta.internal.util.ButtonFactory\n */\n\nfunction normalizeEvents(options) {\n  const events = oktaUnderscore.extend(options.click ? {\n    click: options.click\n  } : {}, options.events || {});\n\n  const target = {};\n\n  oktaUnderscore.each(events, function (fn, eventName) {\n    target[eventName] = function (e) {\n      if (!options.href) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      if (!(this.disabled && eventName === 'click')) {\n        fn.apply(this, arguments);\n      }\n    };\n  });\n\n  return target;\n}\n\nvar ButtonFactory = /** @lends module:Okta.internal.util.ButtonFactory */\n{\n  /**\n   * Creates a {@link module:Okta.internal.views.components.BaseButtonLink|BaseButtonLink}.\n   * @param  {Object} options Options hash\n   * @param  {String} [options.title] The button text\n   * @param  {String} [options.icon]\n   * CSS class for the icon to display. See [Style guide](http://rain.okta1.com:1802/su/dev/style-guide#icons)\n   * @param {String} [options.href] The button link\n   * @param {Function} [options.click] On click callback\n   * @param {Object} [options.events] a [Backbone events](http://backbonejs.org/#View-delegateEvents) hash\n   * @returns {module:Okta.internal.views.components.BaseButtonLink} BaseButtonLink prototype (\"class\")\n   */\n  create: function (options) {\n    options = oktaUnderscore.clone(options);\n    options.attrs = options.attributes;\n    delete options.attributes;\n    return BaseButtonLink.extend(oktaUnderscore.extend(options, {\n      events: normalizeEvents(options)\n    }));\n  }\n};\n\nexport { ButtonFactory as default };\n"],"names":["normalizeEvents","options","events","oktaUnderscore","extend","click","target","each","fn","eventName","e","href","preventDefault","stopPropagation","disabled","apply","arguments","ButtonFactory","create","clone","attrs","attributes","BaseButtonLink"],"mappings":";;;AAGA;AACA;AACA;AACA;AACA;;AAEA,SAASA,eAAe,CAACC,OAAO,EAAE;EAChC,MAAMC,MAAM,GAAGC,cAAc,CAACC,MAAM,CAACH,OAAO,CAACI,KAAK,GAAG;IACnDA,KAAK,EAAEJ,OAAO,CAACI,KAAAA;GAChB,GAAG,EAAE,EAAEJ,OAAO,CAACC,MAAM,IAAI,EAAE,CAAC,CAAA;EAE7B,MAAMI,MAAM,GAAG,EAAE,CAAA;EAEjBH,cAAc,CAACI,IAAI,CAACL,MAAM,EAAE,UAAUM,EAAE,EAAEC,SAAS,EAAE;AACnDH,IAAAA,MAAM,CAACG,SAAS,CAAC,GAAG,UAAUC,CAAC,EAAE;AAC/B,MAAA,IAAI,CAACT,OAAO,CAACU,IAAI,EAAE;QACjBD,CAAC,CAACE,cAAc,EAAE,CAAA;QAClBF,CAAC,CAACG,eAAe,EAAE,CAAA;AACrB,OAAA;MAEA,IAAI,EAAE,IAAI,CAACC,QAAQ,IAAIL,SAAS,KAAK,OAAO,CAAC,EAAE;AAC7CD,QAAAA,EAAE,CAACO,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;AAC3B,OAAA;KACD,CAAA;AACH,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOV,MAAM,CAAA;AACf,CAAA;AAEA,IAAIW,aAAa;AACjB;AACE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEC,MAAM,EAAE,UAAUjB,OAAO,EAAE;AACzBA,IAAAA,OAAO,GAAGE,cAAc,CAACgB,KAAK,CAAClB,OAAO,CAAC,CAAA;AACvCA,IAAAA,OAAO,CAACmB,KAAK,GAAGnB,OAAO,CAACoB,UAAU,CAAA;IAClC,OAAOpB,OAAO,CAACoB,UAAU,CAAA;IACzB,OAAOC,cAAc,CAAClB,MAAM,CAACD,cAAc,CAACC,MAAM,CAACH,OAAO,EAAE;MAC1DC,MAAM,EAAEF,eAAe,CAACC,OAAO,CAAA;AACjC,KAAC,CAAC,CAAC,CAAA;AACL,GAAA;AACF;;;;"}