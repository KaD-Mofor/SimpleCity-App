{"version":3,"file":"StringUtil.js","sources":["../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/util/StringUtil.js"],"sourcesContent":["import oktaJQueryStatic from './jquery-wrapper.js';\nimport oktaUnderscore from './underscore-wrapper.js';\nimport Bundles from '@okta/okta-i18n-bundles';\n\nconst entityMap = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': '\\'',\n  '&#039;': '\\'',\n  '&#x2F;': '/'\n};\nconst emailValidator = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(?!-)((\\[?[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\]?)|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n/**\n* Converts the locale code identifier from \"${languageCode}-${countryCode}\" to \"${languageCode}_${countryCode}\"\n* Follows the ISO-639-1 language code and 2-letter ISO-3166-1-alpha-2 country code structure.\n* @param {String} locale code identifier\n* @return {String} converted locale code identifier\n*/\n\nconst parseLocale = locale => {\n  if (/-/.test(locale)) {\n    const parts = locale.split('-');\n    parts[1] = parts[1].toUpperCase();\n    return parts.join('_');\n  }\n\n  return locale;\n};\n/* eslint max-len: 0*/\n\n/**\n * Returns the user's locale as defined by window.okta.locale\n */\n\n\nfunction getRawLocale() {\n  return window && window.okta && window.okta.locale || 'en';\n}\n/**\n * Returns the language bundle based on the current locale.\n * - If a locale is not provided, default to English ('en')\n * - Legacy Support: If the named language bundle does not exist, fall back to the default named bundle.\n *\n * @param {*} bundleName\n */\n\n\nfunction getBundle(bundleName) {\n  if (!bundleName) {\n    return Bundles[oktaUnderscore.keys(Bundles)[0]];\n  }\n\n  const locale = parseLocale(getRawLocale());\n  return Bundles[`${bundleName}_${locale}`] || Bundles[bundleName];\n}\n/**\n *\n * CustomEvent polyfill for IE\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#polyfill\n */\n\n\nfunction IECustomEvent(event, params) {\n  params = params || {\n    bubbles: false,\n    cancelable: false,\n    detail: null\n  };\n  var evt = document.createEvent('CustomEvent');\n  evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n  return evt;\n}\n/**\n * Call the window.okta.emitL10nError function if it is defined\n * @param {String} key The i18n key\n * @param {String} bundleName The i18n bundle name\n * @param {String} reason Could be 'bundle' (Bundle not found), 'key' (Key not found) or 'parameters' (Parameters mismatch).\n */\n\n\nfunction emitL10nError(key, bundleName, reason) {\n  // CustomEvent polyfill for IE\n  if (!window.CustomEvent) {\n    window.CustomEvent = IECustomEvent;\n  } // dispatchEvent for sentry\n\n\n  if (typeof window.CustomEvent === 'function') {\n    const event = new CustomEvent('okta-i18n-error', {\n      detail: {\n        type: 'l10n-error',\n        key: key,\n        bundleName: bundleName,\n        reason: reason\n      }\n    });\n    document.dispatchEvent(event);\n  }\n}\n\nconst StringUtil =\n/** @lends module:Okta.internal.util.StringUtil */\n{\n  /** @static */\n  getRawLocale: function () {\n    return getRawLocale();\n  },\n\n  /** @static */\n  getParsedLocale: function () {\n    return parseLocale(getRawLocale());\n  },\n\n  /** @static */\n  isLocaleBundleExist: function (bundleName, locale) {\n    const parsedLocale = parseLocale(locale);\n    return !!Bundles[`${bundleName}_${parsedLocale}`];\n  },\n\n  /** @static */\n  sprintf: function () {\n    const args = Array.prototype.slice.apply(arguments);\n    let value = args.shift();\n    let oldValue = value;\n    /* eslint max-statements: [2, 15] */\n\n    function triggerError() {\n      throw new Error('Mismatch number of variables: ' + arguments[0] + ', ' + JSON.stringify(args));\n    }\n\n    for (var i = 0, l = args.length; i < l; i++) {\n      const entity = args[i];\n      const regex = new RegExp('\\\\{' + i + '\\\\}', 'g');\n      value = value.replace(regex, entity);\n\n      if (entity === undefined || entity === null || value === oldValue) {\n        triggerError();\n      }\n\n      oldValue = value;\n    }\n\n    if (/\\{[\\d+]\\}/.test(value)) {\n      triggerError();\n    }\n\n    return value;\n  },\n\n  /**\n   * Converts a URI encoded query string into a hash map\n   * @param  {String} query The query string\n   * @return {Object} The map\n   * @static\n   * @example\n   * StringUtil.parseQuery('foo=bar&baz=qux') // {foo: 'bar', baz: 'qux'}\n   */\n  parseQuery: function (query) {\n    const params = {};\n    const pairs = decodeURIComponent(query.replace(/\\+/g, ' ')).split('&');\n\n    for (var i = 0; i < pairs.length; i++) {\n      const pair = pairs[i];\n      const data = pair.split('=');\n      params[data.shift()] = data.join('=');\n    }\n\n    return params;\n  },\n\n  /** @static */\n  encodeJSObject: function (jsObj) {\n    return encodeURIComponent(JSON.stringify(jsObj));\n  },\n\n  /** @static */\n  decodeJSObject: function (jsObj) {\n    try {\n      return JSON.parse(decodeURIComponent(jsObj));\n    } catch (e) {\n      return null;\n    }\n  },\n\n  /** @static */\n  unescapeHtml: function (string) {\n    return String(string).replace(/&[\\w#\\d]{2,};/g, function (s) {\n      return entityMap[s] || s;\n    });\n  },\n\n  /**\n   * Get the original i18n template directly without string format with parameters\n   * @param {String} key The key\n   * @param {String} bundle=\"messages\"] The name of the i18n bundle. Defaults to the first bundle in the list.\n   */\n  getTemplate: function (key, bundleName) {\n    const bundle = getBundle(bundleName);\n\n    if (!bundle) {\n      emitL10nError(key, bundleName, 'bundle');\n      return 'L10N_ERROR[' + bundleName + ']';\n    }\n\n    if (bundle[key]) {\n      return bundle[key];\n    } else {\n      emitL10nError(key, bundleName, 'key');\n      return 'L10N_ERROR[' + key + ']';\n    }\n  },\n\n  /**\n   * Translate a key to the localized value\n   * @static\n   * @param  {String} key The key\n   * @param  {String} [bundle=\"messages\"] The name of the i18n bundle. Defaults to the first bundle in the list.\n   * @param  {Array} [params] A list of parameters to apply as tokens to the i18n value\n   * @return {String} The localized value\n   */\n  localize: function (key, bundleName, params) {\n    const bundle = getBundle(bundleName);\n    /* eslint complexity: [2, 6] */\n\n    if (!bundle) {\n      emitL10nError(key, bundleName, 'bundle');\n      return 'L10N_ERROR[' + bundleName + ']';\n    }\n\n    let value = bundle[key];\n\n    try {\n      params = params && params.slice ? params.slice(0) : [];\n      params.unshift(value);\n      value = StringUtil.sprintf.apply(null, params);\n\n      if (value) {\n        return value;\n      } else {\n        emitL10nError(key, bundleName, 'key');\n        return 'L10N_ERROR[' + key + ']';\n      }\n    } catch (e) {\n      emitL10nError(key, bundleName, 'parameters');\n      return 'L10N_ERROR[' + key + ']';\n    }\n  },\n\n  /**\n   * Convert a string to a float if valid, otherwise return the string.\n   * Valid numbers may contain a negative sign and a decimal point.\n   * @static\n   * @param {String} string The string to convert to a number\n   * @return {String|Number} Returns a number if the string can be casted, otherwise returns the original string\n   */\n  parseFloat: function (string) {\n    const number = +string;\n    return typeof string === 'string' && number === parseFloat(string) ? number : string;\n  },\n\n  /**\n   * Convert a string to an integer if valid, otherwise return the string\n   * @static\n   * @param {String} string The string to convert to an integer\n   * @return {String|integer} Returns an integer if the string can be casted, otherwise, returns the original string\n   */\n  parseInt: function (string) {\n    const int = +string;\n    return oktaUnderscore.isString(string) && int === parseInt(string, 10) ? int : string;\n  },\n\n  /**\n   * Convert a string to an object if valid, otherwise return the string\n   * @static\n   * @param {String} string The string to convert to an object\n   * @return {String|object} Returns an object if the string can be casted, otherwise, returns the original string\n   */\n  parseObject: function (string) {\n    if (!oktaUnderscore.isString(string)) {\n      return string;\n    }\n\n    try {\n      const object = JSON.parse(string);\n      return oktaJQueryStatic.isPlainObject(object) ? object : string;\n    } catch (e) {\n      return string;\n    }\n  },\n\n  /**\n   * Returns a random string from [a-z][A-Z][0-9] of a given length\n   * @static\n   * @param {Number} length The length of the random string.\n   * @return {String} Returns a random string from [a-z][A-Z][0-9] of a given length\n   */\n  randomString: function (length) {\n    const characters = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';\n\n    if (length === undefined) {\n      length = oktaUnderscore.random(characters.length);\n    } else if (length === 0) {\n      return '';\n    }\n\n    const stringArray = [];\n\n    while (length--) {\n      stringArray.push(characters[oktaUnderscore.random(characters.length - 1)]);\n    }\n\n    return stringArray.join('');\n  },\n\n  /**\n   * Returns if a str ends with another string\n   * @static\n   * @param {String} str The string to search\n   * @param {String} ends The string it should end with\n   *\n   * @return {Boolean} Returns if the str ends with ends\n   */\n  endsWith: function (str, ends) {\n    str += '';\n    ends += '';\n    return str.length >= ends.length && str.substring(str.length - ends.length) === ends;\n  },\n\n  /** @static */\n  isEmail: function (str) {\n    const target = oktaJQueryStatic.trim(str);\n    return !oktaUnderscore.isEmpty(target) && emailValidator.test(target);\n  }\n};\n\nexport { StringUtil as default };\n"],"names":["entityMap","emailValidator","parseLocale","locale","test","parts","split","toUpperCase","join","getRawLocale","window","okta","getBundle","bundleName","Bundles","oktaUnderscore","keys","IECustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","emitL10nError","key","reason","CustomEvent","type","dispatchEvent","StringUtil","getParsedLocale","isLocaleBundleExist","parsedLocale","sprintf","args","Array","prototype","slice","apply","arguments","value","shift","oldValue","triggerError","Error","JSON","stringify","i","l","length","entity","regex","RegExp","replace","undefined","parseQuery","query","pairs","decodeURIComponent","pair","data","encodeJSObject","jsObj","encodeURIComponent","decodeJSObject","parse","e","unescapeHtml","string","String","s","getTemplate","bundle","localize","unshift","parseFloat","number","parseInt","int","isString","parseObject","object","oktaJQueryStatic","isPlainObject","randomString","characters","random","stringArray","push","endsWith","str","ends","substring","isEmail","target","trim","isEmpty"],"mappings":"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"}