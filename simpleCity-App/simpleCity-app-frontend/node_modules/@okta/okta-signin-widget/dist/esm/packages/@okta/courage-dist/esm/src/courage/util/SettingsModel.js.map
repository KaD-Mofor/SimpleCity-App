{"version":3,"file":"SettingsModel.js","sources":["../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/util/SettingsModel.js"],"sourcesContent":["import oktaUnderscore from './underscore-wrapper.js';\nimport Model from '../models/Model.js';\n\n/**\n * @class SettingsModel\n * @extends {Okta.Model}\n * @private\n */\nconst props = {\n  local: function () {\n    const settings = window.okta && window.okta.settings || {};\n    const theme = window.okta && window.okta.theme || '';\n    return {\n      orgId: ['string', false, settings.orgId],\n      orgName: ['string', false, settings.orgName],\n      serverStatus: ['string', false, settings.serverStatus],\n      persona: ['string', false, settings.persona],\n      isDeveloperConsole: ['boolean', false, settings.isDeveloperConsole],\n      isPreview: ['boolean', false, settings.isPreview],\n      permissions: ['array', true, settings.permissions || []],\n      theme: ['string', false, theme]\n    };\n  },\n  constructor: function () {\n    Model.apply(this, arguments);\n    this.features = window._features || [];\n  },\n\n  /**\n   * Checks if the user have a feature flag enabled (Based of the org level feature flag)\n   * @param  {String}  feature Feature name\n   * @return {Boolean}\n   */\n  hasFeature: function (feature) {\n    return oktaUnderscore.contains(this.features, feature);\n  },\n\n  /**\n   * Checks if any of the given feature flags are enabled (Based of the org level feature flags)\n   * @param  {Array}  featureArray Features names\n   * @return {Boolean} true if any of the give features are enabled. False otherwise\n   */\n  hasAnyFeature: function (featureArray) {\n    return oktaUnderscore.some(featureArray, this.hasFeature, this);\n  },\n\n  /**\n   * Checks if the user have a specific permission (based on data passed from JSP)\n   * @param  {String}  permission Permission name\n   * @return {Boolean}\n   */\n  hasPermission: function (permission) {\n    return oktaUnderscore.contains(this.get('permissions'), permission);\n  },\n\n  /**\n   * Checks if the org has ds theme set\n   * @return {Boolean}\n   */\n  isDsTheme: function () {\n    return this.get('theme') === 'dstheme';\n  }\n};\nvar SettingsModel = Model.extend(props);\n\nexport { SettingsModel as default };\n"],"names":["props","local","settings","window","okta","theme","orgId","orgName","serverStatus","persona","isDeveloperConsole","isPreview","permissions","constructor","Model","apply","arguments","features","_features","hasFeature","feature","oktaUnderscore","contains","hasAnyFeature","featureArray","some","hasPermission","permission","get","isDsTheme","SettingsModel","extend"],"mappings":";;;AAGA;AACA;AACA;AACA;AACA;AACA,MAAMA,KAAK,GAAG;AACZC,EAAAA,KAAK,EAAE,YAAY;AACjB,IAAA,MAAMC,QAAQ,GAAGC,MAAM,CAACC,IAAI,IAAID,MAAM,CAACC,IAAI,CAACF,QAAQ,IAAI,EAAE,CAAA;AAC1D,IAAA,MAAMG,KAAK,GAAGF,MAAM,CAACC,IAAI,IAAID,MAAM,CAACC,IAAI,CAACC,KAAK,IAAI,EAAE,CAAA;IACpD,OAAO;MACLC,KAAK,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAEJ,QAAQ,CAACI,KAAK,CAAC;MACxCC,OAAO,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAEL,QAAQ,CAACK,OAAO,CAAC;MAC5CC,YAAY,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAEN,QAAQ,CAACM,YAAY,CAAC;MACtDC,OAAO,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAEP,QAAQ,CAACO,OAAO,CAAC;MAC5CC,kBAAkB,EAAE,CAAC,SAAS,EAAE,KAAK,EAAER,QAAQ,CAACQ,kBAAkB,CAAC;MACnEC,SAAS,EAAE,CAAC,SAAS,EAAE,KAAK,EAAET,QAAQ,CAACS,SAAS,CAAC;MACjDC,WAAW,EAAE,CAAC,OAAO,EAAE,IAAI,EAAEV,QAAQ,CAACU,WAAW,IAAI,EAAE,CAAC;AACxDP,MAAAA,KAAK,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAEA,KAAK,CAAA;KAC/B,CAAA;GACF;AACDQ,EAAAA,WAAW,EAAE,YAAY;AACvBC,IAAAA,KAAK,CAACC,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;AAC5B,IAAA,IAAI,CAACC,QAAQ,GAAGd,MAAM,CAACe,SAAS,IAAI,EAAE,CAAA;GACvC;AAED;AACF;AACA;AACA;AACA;EACEC,UAAU,EAAE,UAAUC,OAAO,EAAE;IAC7B,OAAOC,cAAc,CAACC,QAAQ,CAAC,IAAI,CAACL,QAAQ,EAAEG,OAAO,CAAC,CAAA;GACvD;AAED;AACF;AACA;AACA;AACA;EACEG,aAAa,EAAE,UAAUC,YAAY,EAAE;IACrC,OAAOH,cAAc,CAACI,IAAI,CAACD,YAAY,EAAE,IAAI,CAACL,UAAU,EAAE,IAAI,CAAC,CAAA;GAChE;AAED;AACF;AACA;AACA;AACA;EACEO,aAAa,EAAE,UAAUC,UAAU,EAAE;AACnC,IAAA,OAAON,cAAc,CAACC,QAAQ,CAAC,IAAI,CAACM,GAAG,CAAC,aAAa,CAAC,EAAED,UAAU,CAAC,CAAA;GACpE;AAED;AACF;AACA;AACA;AACEE,EAAAA,SAAS,EAAE,YAAY;AACrB,IAAA,OAAO,IAAI,CAACD,GAAG,CAAC,OAAO,CAAC,KAAK,SAAS,CAAA;AACxC,GAAA;AACF,CAAC,CAAA;AACD,IAAIE,aAAa,GAAGhB,KAAK,CAACiB,MAAM,CAAC/B,KAAK;;;;"}