{"version":3,"file":"typingdna.js","sources":["../../../../../packages/vendor/TypingDnaRecorder-JavaScript/typingdna.js"],"sourcesContent":["/*\n * Checking in as there is no npm module to consume. \n * Current version is 2.15.\n * Repo - https://github.com/TypingDNA/TypingDnaRecorder-JavaScript\n */\n\n/**\n * TypingDNA - Typing Biometrics JavaScript API\n * https://api.typingdna.com/scripts/typingdna.js\n * https://typingdna.com/scripts/typingdna.js (alternative)\n *\n * @version 2.15\n * @author Raul Popa\n * @copyright SC TypingDNA SRL, http://typingdna.com\n * @license http://www.apache.org/licenses/LICENSE-2.0\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Typical usage:\n * var tdna = new TypingDNA(); // creates a new TypingDNA object and starts recording\n * var typingPattern = tdna.getTypingPattern({type=1, text=\"Hello5g21?*\"});\n * returns a type 1 typing pattern (and continues recording afterwards)\n *\n * Optional:\n * tdna.stop(); // ends recording and clears history stack (returns recording flag: false)\n * tdna.start(); // restarts the recording after a stop (returns recording flag: true)\n * tdna.reset(); // restarts the recording anytime, clears history stack and starts from scratch (returns nothing)\n * var typingPatternQuality = TypingDNA.getQuality(typingPattern); //returns the quality/strength of any typing pattern\n * (there is no need to initialize the class to do pattern quality checking)\n */\n\n/**\n * Creates a single instance (or a reference) of the TypingDNA class\n * @return {Object} Returns the single instance of the TypingDNA class.\n * @example var tdna = new TypingDNA();\n */\nmodule.exports = function TypingDNA() {\n  if (TypingDNA.initialized != true) {\n    TypingDNA.prototype.start = function() {\n      return TypingDNA.start.apply(this, arguments);\n    }\n    TypingDNA.prototype.stop = function() {\n      return TypingDNA.stop.apply(this, arguments);\n    }\n    TypingDNA.prototype.reset = function() {\n      return TypingDNA.reset.apply(this, arguments);\n    }\n    TypingDNA.prototype.addTarget = function() {\n      return TypingDNA.addTarget.apply(this, arguments);\n    }\n    TypingDNA.prototype.removeTarget = function() {\n      return TypingDNA.removeTarget.apply(this, arguments);\n    }\n    TypingDNA.prototype.getTypingPattern = function() {\n      return TypingDNA.getTypingPattern.apply(this, arguments);\n    }\n    TypingDNA.prototype.get = function() {\n      // still works but will be deprecated in favor of getTypignPattern()\n      return TypingDNA.get.apply(this, arguments);\n    }\n    TypingDNA.prototype.startDiagram = function() {\n      // deprecated in favor of start()\n      //return TypingDNA.startDiagram.apply(this, arguments);\n    }\n    TypingDNA.prototype.stopDiagram = function() {\n      // deprecated in favor of stop()\n      //return TypingDNA.stopDiagram.apply(this, arguments);\n    }\n    TypingDNA.prototype.getDiagram = function() {\n      // still works but will be deprecated in favor of getTypignPattern()\n      return TypingDNA.getDiagram.apply(this, arguments);\n    }\n    TypingDNA.prototype.getExtendedDiagram = function() {\n      // still works but will be deprecated in favor of getTypignPattern()\n      return TypingDNA.getExtendedDiagram.apply(this, arguments);\n    }\n    TypingDNA.prototype.getMouseDiagram = function() {\n      return TypingDNA.getMouseDiagram.apply(this, arguments);\n    }\n    TypingDNA.prototype.startMouse = function() {\n      return TypingDNA.startMouse.apply(this, arguments);\n    }\n    TypingDNA.prototype.stopMouse = function() {\n      return TypingDNA.stopMouse.apply(this, arguments);\n    }\n    TypingDNA.prototype.getQuality = function() {\n      return TypingDNA.getQuality.apply(this, arguments);\n    }\n    TypingDNA.prototype.getLength = function() {\n      return TypingDNA.getLength.apply(this, arguments);\n    }\n    TypingDNA.prototype.isMobile = function() {\n      return TypingDNA.isMobile.apply(this, arguments);\n    }\n    TypingDNA.prototype.getTextId = function() {\n      return TypingDNA.getTextId.apply(this, arguments)\n    }\n    TypingDNA.initialized = true;\n    TypingDNA.prototype.maxHistoryLength = TypingDNA.maxHistoryLength;\n    TypingDNA.prototype.defaultHistoryLength = TypingDNA.defaultHistoryLength;\n    TypingDNA.prototype.maxSeekTime = TypingDNA.maxSeekTime;\n    TypingDNA.prototype.maxPressTime = TypingDNA.maxPressTime;\n    TypingDNA.version = 2.15;\n    TypingDNA.flags = 0;\n    TypingDNA.instance = this;\n    TypingDNA.document = document;\n    TypingDNA.maxHistoryLength = 2000;\n    TypingDNA.maxSeekTime = 1500;\n    TypingDNA.maxPressTime = 300;\n    TypingDNA.defaultHistoryLength = 160;\n    TypingDNA.spKeyCodes = [8, 13, 32];\n    TypingDNA.spKeyCodesObj = {\n      8: 1,\n      13: 1,\n      32: 1\n    };\n    TypingDNA.keyCodes = [65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 32, 222, 188, 190, 186, 187, 189, 191, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57];\n    TypingDNA.keyCodesObj = {}\n    for (var i in TypingDNA.keyCodes) {\n      TypingDNA.keyCodesObj[TypingDNA.keyCodes[i]] = 1;\n    }\n    TypingDNA.pt1 = TypingDNA.ut1 = (new Date).getTime();\n    TypingDNA.wfk = [];\n    TypingDNA.sti = [];\n    TypingDNA.skt = [];\n    TypingDNA.recording = true;\n    TypingDNA.mouseRecording = true;\n    TypingDNA.mouseMoveRecording = false;\n    TypingDNA.spKeyRecording = true;\n    TypingDNA.diagramRecording = true;\n    TypingDNA.dwfk = [];\n    TypingDNA.dsti = [];\n    TypingDNA.dskt = [];\n    TypingDNA.drkc = [];\n    TypingDNA.dlastDownKey;\n    TypingDNA.prevKeyCode = 0;\n    TypingDNA.maxMoveDeltaTime = 600;\n    TypingDNA.maxScrollDeltaTime = 800;\n    TypingDNA.maxStopTime = 1500;\n    TypingDNA.maxClickTime = 600;\n    TypingDNA.maxMouseHistoryLength = 500;\n    TypingDNA.lastMouseMoveTime = TypingDNA.lastMouseDownTime = (new Date).getTime();\n    TypingDNA.stopTimes = [];\n    TypingDNA.clickTimes = [];\n    TypingDNA.lastMouseStop = true;\n    TypingDNA.zl = 0.0000001;\n    TypingDNA.isAndroidChrome = false;\n    TypingDNA.ACLastTime = (new Date).getTime();\n    TypingDNA.ACSeekTime = 0;\n    TypingDNA.ACPressTime = 0;\n    TypingDNA.ACLastCharCode = 0;\n    TypingDNA.ACLastKeyCode = 0;\n    TypingDNA.ACInputLengths = {\n      inputs: [],\n      lastLength: [],\n    };\n    TypingDNA.ACPreviousKeyCode = 0;\n    TypingDNA.targetIds = [];\n    TypingDNA.lastTarget = \"\";\n    TypingDNA.lastTargetFound = false;\n    TypingDNA.replaceMissingKeys = true;\n    TypingDNA.replaceMissingKeysPerc = 7;\n\n    TypingDNA.keyDown = function(e) {\n      if (!TypingDNA.recording && !TypingDNA.diagramRecording) {\n        return;\n      }\n      if (!TypingDNA.isTarget(e.target.id)) {\n        return;\n      }\n      var keyCode = e.keyCode;\n      if (TypingDNA.wfk[keyCode] == 1 || TypingDNA.dwfk[keyCode] == 1) {\n        //return;\n      }\n      if (keyCode == 229 && TypingDNA.isMobile() && !TypingDNA.isAndroidChrome) {\n        TypingDNA.isAndroidChrome = true;\n\n        TypingDNA.ACSeekTime = (new Date).getTime() - TypingDNA.ACLastTime;\n        TypingDNA.ACLastTime = (new Date).getTime();\n\n        TypingDNA.document.removeEventListener(\"keydown\", TypingDNA.keyDown);\n        TypingDNA.document.removeEventListener(\"keyup\", TypingDNA.keyUp);\n        TypingDNA.document.removeEventListener(\"keypress\", TypingDNA.keyPress);\n\n        // if android\n        TypingDNA.document.addEventListener(\"keydown\", TypingDNA.ACKeyDown);\n        TypingDNA.document.addEventListener(\"keyup\", TypingDNA.ACKeyUp);\n      } else {\n        var t0 = TypingDNA.pt1;\n        TypingDNA.pt1 = (new Date).getTime();\n        var seekTotal = TypingDNA.pt1 - t0;\n        var startTime = TypingDNA.pt1;\n        if (TypingDNA.recording == true || (TypingDNA.spKeyCodesObj[keyCode] && TypingDNA.spKeyRecording == true)) {\n          if (!e.shiftKey || TypingDNA.isMobile()) {\n            TypingDNA.wfk[keyCode] = 1;\n            TypingDNA.skt[keyCode] = seekTotal;\n            TypingDNA.sti[keyCode] = startTime;\n          }\n        }\n        if (TypingDNA.diagramRecording == true) {\n          TypingDNA.dwfk[keyCode] = 1;\n          TypingDNA.dskt[keyCode] = seekTotal;\n          TypingDNA.dsti[keyCode] = startTime;\n          TypingDNA.dlastDownKey = keyCode;\n        }\n      }\n    }\n\n    TypingDNA.keyPress = function(e) {\n      if (!TypingDNA.recording && !TypingDNA.diagramRecording) {\n        return;\n      }\n      if (!TypingDNA.isTarget(e.target.id)) {\n        return;\n      }\n      if (TypingDNA.diagramRecording == true) {\n        var keyCode = TypingDNA.dlastDownKey;\n        TypingDNA.drkc[keyCode] = e.charCode;\n      }\n    }\n\n    TypingDNA.keyUp = function(e) {\n      if (!TypingDNA.recording && !TypingDNA.diagramRecording) {\n        return;\n      }\n      if (!TypingDNA.isTarget(e.target.id)) {\n        return;\n      }\n      var ut = (new Date).getTime();\n      var keyCode = e.keyCode;\n      if (TypingDNA.recording == true || (TypingDNA.spKeyCodesObj[keyCode] && TypingDNA.spKeyRecording == true)) {\n        if (!e.shiftKey || TypingDNA.isMobile()) {\n          if (TypingDNA.wfk[keyCode] == 1) {\n            var pressTime = ut - TypingDNA.sti[keyCode];\n            var seekTime = TypingDNA.skt[keyCode];\n            var arr = [keyCode, seekTime, pressTime, TypingDNA.prevKeyCode, ut, e.target.id];\n            TypingDNA.history.add(arr);\n            TypingDNA.prevKeyCode = keyCode;\n          }\n        }\n        TypingDNA.wfk[keyCode] = 0;\n      }\n      if (TypingDNA.diagramRecording == true) {\n        if (TypingDNA.drkc[keyCode] != undefined && TypingDNA.drkc[keyCode] != 0) {\n          if (TypingDNA.dwfk[keyCode] == 1) {\n            var pressTime = ut - TypingDNA.dsti[keyCode];\n            var seekTime = TypingDNA.dskt[keyCode];\n            var realKeyCode = TypingDNA.drkc[keyCode];\n            var arrD = [keyCode, seekTime, pressTime, realKeyCode, ut, e.target.id];\n            TypingDNA.history.addDiagram(arrD);\n          }\n        }\n        TypingDNA.dwfk[keyCode] = 0;\n      }\n    }\n\n    TypingDNA.mouseScroll = function(e) {\n      if (TypingDNA.mouseRecording == true) {\n        if (TypingDNA.mouseMoveRecording == true) {\n          if (TypingDNA.mouse.scrollStarted == true) {\n            var currentTime = (new Date).getTime();\n            TypingDNA.mouse.scrollTimes.push(currentTime);\n            TypingDNA.mouse.scrollTopArr.push(TypingDNA.document.body.scrollTop);\n            clearInterval(TypingDNA.scrollInterval);\n            TypingDNA.scrollInterval = setInterval(TypingDNA.mouse.checkScroll, TypingDNA.maxScrollDeltaTime);\n          } else {\n            TypingDNA.mouse.scrollStarted = true\n          }\n        }\n      }\n    }\n\n    TypingDNA.mouseMove = function(e) {\n      if (TypingDNA.mouseRecording == true) {\n        var currentTime = (new Date).getTime();\n        if (TypingDNA.mouseMoveRecording == true) {\n          if (TypingDNA.mouse.started == true) {\n            TypingDNA.mouse.times.push(currentTime);\n            TypingDNA.mouse.xPositions.push(e.screenX);\n            TypingDNA.mouse.yPositions.push(e.screenY);\n            clearInterval(TypingDNA.moveInterval);\n            TypingDNA.moveInterval = setInterval(TypingDNA.mouse.checkMove, TypingDNA.maxMoveDeltaTime);\n          } else {\n            TypingDNA.mouse.started = true;\n          }\n        }\n        TypingDNA.lastMouseMoveTime = currentTime;\n      }\n    }\n\n    TypingDNA.mouseDown = function(e) {\n      if (TypingDNA.mouseRecording == true) {\n        TypingDNA.mouse.checkMove();\n        TypingDNA.mouse.checkScroll();\n        if (e.which == 1) {\n          TypingDNA.lastMouseDownTime = (new Date).getTime();\n          var stopTime = TypingDNA.lastMouseDownTime - TypingDNA.lastMouseMoveTime;\n          if (stopTime < TypingDNA.maxStopTime && TypingDNA.lastMouseStop == false) {\n            TypingDNA.stopTimes.push(stopTime);\n            if (TypingDNA.mouseMoveRecording == true) {\n              var eventType = 3;\n              var arr = [eventType, stopTime];\n              TypingDNA.mouse.history.add(arr);\n              TypingDNA.lastMouseStop = true;\n            }\n          }\n        }\n      }\n    }\n\n    TypingDNA.mouseUp = function(e) {\n      if (TypingDNA.mouseRecording == true) {\n        if (e.which == 1) {\n          var clickTime = (new Date).getTime() - TypingDNA.lastMouseDownTime;\n          if (clickTime < TypingDNA.maxClickTime && TypingDNA.lastMouseDownTime > TypingDNA.lastMouseMoveTime) {\n            TypingDNA.clickTimes.push(clickTime);\n            if (TypingDNA.mouseMoveRecording == true) {\n              var eventType = 4;\n              var arr = [eventType, clickTime];\n              TypingDNA.mouse.history.add(arr);\n            }\n          }\n        }\n      }\n    }\n\n    TypingDNA.ACKeyDown = function(e) {\n      if (!TypingDNA.recording && !TypingDNA.diagramRecording) {\n        return;\n      }\n      TypingDNA.ACSeekTime = (new Date).getTime() - TypingDNA.ACLastTime;\n      TypingDNA.ACLastTime = (new Date).getTime();\n      if (!TypingDNA.isTarget(e.target.id)) {\n        return;\n      }\n      if(TypingDNA.ACInputLengths.inputs.indexOf(e.target) === -1) {\n        TypingDNA.ACInputLengths.inputs.push(e.target);\n        TypingDNA.ACInputLengths.lastLength.push(0);\n      }\n    }\n\n    TypingDNA.ACKeyUp = function(e) {\n      if (!TypingDNA.recording && !TypingDNA.diagramRecording) {\n        return;\n      }\n      TypingDNA.ACPressTime = (new Date).getTime() - TypingDNA.ACLastTime;\n      TypingDNA.ACLastTime = (new Date).getTime();\n      if (!TypingDNA.isTarget(e.target.id)) {\n        return;\n      }\n      var keyCode = e.keyCode;\n      var targetIndex = TypingDNA.ACInputLengths.inputs.indexOf(e.target);\n      if(targetIndex === -1) {\n          TypingDNA.ACInputLengths.inputs.push(e.target);\n          TypingDNA.ACInputLengths.lastLength.push(0);\n          targetIndex = TypingDNA.ACInputLengths.inputs.indexOf(e.target);\n      }\n      if (keyCode == 229 && e.target.value.length >= TypingDNA.ACInputLengths.lastLength[targetIndex]) {\n          var char = e.target.value.substr((e.target.selectionStart - 1) || 0 , 1);\n          keyCode = char.toUpperCase().charCodeAt(0);\n          TypingDNA.ACLastCharCode = char.charCodeAt(0);\n          TypingDNA.ACLastKeyCode = char.toUpperCase().charCodeAt(0);\n      }\n      TypingDNA.ACInputLengths.lastLength[targetIndex] = e.target.value.length;\n      var arr = [keyCode, TypingDNA.ACSeekTime, TypingDNA.ACPressTime, TypingDNA.ACPreviousKeyCode, TypingDNA.ACLastTime];\n      TypingDNA.history.add(arr);\n      TypingDNA.ACPreviousKeyCode = keyCode;\n      if (TypingDNA.diagramRecording == true ) {\n        var arrD = [keyCode, TypingDNA.ACSeekTime, TypingDNA.ACPressTime, TypingDNA.ACLastCharCode];\n        TypingDNA.history.addDiagram(arrD);\n      }\n    }\n\n    TypingDNA.isTarget = function(target) {\n      if (TypingDNA.lastTarget == target && TypingDNA.lastTargetFound) {\n        return true;\n      } else {\n        var targetLength = TypingDNA.targetIds.length;\n        var targetFound = false;\n        if (targetLength > 0) {\n          for (var i = 0; i < targetLength; i++) {\n            if (TypingDNA.targetIds[i] == target) {\n              targetFound = true;\n              break;\n            }\n          }\n          TypingDNA.lastTarget = target;\n          TypingDNA.lastTargetFound = targetFound;\n          return targetFound;\n        } else {\n          TypingDNA.lastTarget = target;\n          TypingDNA.lastTargetFound = true;\n          return true;\n        }\n      }\n    }\n\n    if (TypingDNA.document.addEventListener) {\n      TypingDNA.document.addEventListener(\"keydown\", TypingDNA.keyDown);\n      TypingDNA.document.addEventListener(\"keyup\", TypingDNA.keyUp);\n      TypingDNA.document.addEventListener(\"keypress\", TypingDNA.keyPress);\n      TypingDNA.document.addEventListener(\"mousemove\", TypingDNA.mouseMove);\n      TypingDNA.document.addEventListener(\"mousedown\", TypingDNA.mouseDown);\n      TypingDNA.document.addEventListener(\"mouseup\", TypingDNA.mouseUp);\n      TypingDNA.document.addEventListener(\"scroll\", TypingDNA.mouseScroll);\n    } else if (TypingDNA.document.attachEvent) {\n      TypingDNA.document.attachEvent(\"onkeydown\", TypingDNA.keyDown);\n      TypingDNA.document.attachEvent(\"onkeyup\", TypingDNA.keyUp);\n      TypingDNA.document.attachEvent(\"onkeypress\", TypingDNA.keyPress);\n      TypingDNA.document.attachEvent(\"onmousemove\", TypingDNA.mouseMove);\n      TypingDNA.document.attachEvent(\"onmousedown\", TypingDNA.mouseDown);\n      TypingDNA.document.attachEvent(\"onmouseup\", TypingDNA.mouseUp);\n      TypingDNA.document.attachEvent(\"onscroll\", TypingDNA.mouseScroll);\n    } else {\n      console.log(\"browser not supported\");\n    }\n\n    TypingDNA.mouse = {};\n    TypingDNA.mouse.times = [];\n    TypingDNA.mouse.xPositions = [];\n    TypingDNA.mouse.yPositions = [];\n    TypingDNA.mouse.scrollTimes = [];\n    TypingDNA.mouse.scrollTopArr = [];\n    TypingDNA.mouse.history = {};\n    TypingDNA.mouse.history.stack = [];\n\n    TypingDNA.mouse.getDistance = function(a, b) {\n      return Math.sqrt((a * a) + (b * b));\n    }\n\n    TypingDNA.mouse.getTotalDistance = function(xPositions, yPositions) {\n      var totalDistance = 0;\n      var length = xPositions.length;\n      for (i = 1; i < length - 1; i++) {\n        var a = xPositions[i] - xPositions[i - 1];\n        var b = yPositions[i] - yPositions[i - 1];\n        totalDistance += TypingDNA.mouse.getDistance(a, b);\n      }\n      return totalDistance;\n    }\n\n    TypingDNA.mouse.getAngle = function(xPosDelta, yPosDelta) {\n      var angle = 0;\n      var leftRight = (xPosDelta >= 0); // 1 if left, 0 if right\n      var downUp = (yPosDelta < 0); // 1 if down, 0 if up\n      if (leftRight) {\n        if (downUp) {\n          angle = 180 + (Math.round(Math.atan(Math.abs(xPosDelta) / (Math.abs(yPosDelta) + 0.0000001)) / 0.01745329251)) // 0.01745329251 = pi/180\n        } else {\n          angle = 270 + (90 - Math.round(Math.atan(Math.abs(xPosDelta) / (Math.abs(yPosDelta) + 0.0000001)) / 0.01745329251))\n        }\n      } else {\n        if (downUp) {\n          angle = 90 + (90 - Math.round(Math.atan(Math.abs(xPosDelta) / (Math.abs(yPosDelta) + 0.0000001)) / 0.01745329251))\n        } else {\n          angle = Math.round(Math.atan(Math.abs(xPosDelta) / (Math.abs(yPosDelta) + 0.0000001)) / 0.01745329251)\n        }\n      }\n      return angle;\n    }\n\n    TypingDNA.mouse.recordMoveAction = function() {\n      var length = TypingDNA.mouse.times.length;\n      if (length < 3) {\n        return;\n      }\n      var deltaTime = TypingDNA.mouse.times[length - 1] - TypingDNA.mouse.times[0];\n      var xPosDelta = TypingDNA.mouse.xPositions[length - 1] - TypingDNA.mouse.xPositions[0];\n      var yPosDelta = TypingDNA.mouse.yPositions[length - 1] - TypingDNA.mouse.yPositions[0];\n      var directDistance = Math.round(TypingDNA.mouse.getDistance(xPosDelta, yPosDelta));\n      var totalDistance = Math.round(TypingDNA.mouse.getTotalDistance(TypingDNA.mouse.xPositions, TypingDNA.mouse.yPositions));\n      var ratioDistance = Math.round(totalDistance * 100 / directDistance);\n      var speed = Math.round(directDistance * 100 / deltaTime);\n      var angle = TypingDNA.mouse.getAngle(xPosDelta, yPosDelta);\n      var eventType = 1;\n      var arr = [eventType, deltaTime, directDistance, speed, angle, ratioDistance];\n      for (i in arr) {\n        if (isNaN(arr[i])) {\n          return;\n        }\n      }\n      TypingDNA.mouse.history.add(arr);\n      TypingDNA.lastMouseStop = false;\n    }\n\n    TypingDNA.mouse.recordScrollAction = function() {\n      var length = TypingDNA.mouse.scrollTimes.length;\n      if (length < 2) {\n        return;\n      }\n      var deltaTime = TypingDNA.mouse.scrollTimes[length - 1] - TypingDNA.mouse.scrollTimes[0];\n      var directDistance = TypingDNA.mouse.scrollTopArr[length - 1] - TypingDNA.mouse.scrollTopArr[0];\n      var speed = Math.round(directDistance * 100 / deltaTime);\n      var eventType = 2;\n      var arr = [eventType, deltaTime, directDistance, speed];\n      for (i in arr) {\n        if (isNaN(arr[i]) && !isFinite(arr[i])) {\n          return;\n        }\n      }\n      TypingDNA.mouse.history.add(arr);\n    }\n\n    TypingDNA.mouse.history.add = function(arr) {\n      this.stack.push(arr);\n      if (this.stack.length > TypingDNA.maxMouseHistoryLength) {\n        this.stack.shift();\n      }\n    }\n\n    TypingDNA.mouse.history.getDiagram = function() {\n      var mouseDiagram = this.stack.join(\"|\");\n      return [String(TypingDNA.isMobile()) + \",\" + String(TypingDNA.version), mouseDiagram].join(\"|\");\n    }\n\n    TypingDNA.mouse.clearLastMove = function() {\n      TypingDNA.mouse.times = [];\n      TypingDNA.mouse.xPositions = [];\n      TypingDNA.mouse.yPositions = [];\n    }\n\n    TypingDNA.mouse.checkMove = function() {\n      clearInterval(TypingDNA.moveInterval);\n      if (TypingDNA.mouse.started == true) {\n        TypingDNA.mouse.started = false;\n        TypingDNA.mouse.recordMoveAction();\n        TypingDNA.mouse.clearLastMove();\n      }\n    }\n\n    TypingDNA.mouse.clearLastScroll = function() {\n      TypingDNA.mouse.scrollTimes = [];\n      TypingDNA.mouse.scrollTopArr = [];\n    }\n\n    TypingDNA.mouse.checkScroll = function() {\n      clearInterval(TypingDNA.scrollInterval);\n      if (TypingDNA.mouse.scrollStarted == true) {\n        TypingDNA.mouse.scrollStarted = false;\n        TypingDNA.mouse.recordScrollAction();\n        TypingDNA.mouse.clearLastScroll();\n      }\n    }\n\n    /**\n     * Adds a target to the targetIds array.\n     */\n    TypingDNA.addTarget = function(target) {\n      var targetLength = TypingDNA.targetIds.length;\n      var targetFound = false;\n      if (targetLength > 0) {\n        for (var i = 0; i < targetLength; i++) {\n          if (TypingDNA.targetIds[i] == target) {\n            targetFound = true;\n            break;\n          }\n        }\n        if (!targetFound) {\n          TypingDNA.targetIds.push(target);\n        }\n      } else {\n        TypingDNA.targetIds.push(target);\n      }\n    }\n\n    /**\n     * Adds a target to the targetIds array.\n     */\n    TypingDNA.removeTarget = function(target) {\n      var targetLength = TypingDNA.targetIds.length;\n      if (targetLength > 0) {\n        for (var i = 0; i < targetLength; i++) {\n          if (TypingDNA.targetIds[i] == target) {\n            TypingDNA.targetIds.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n\n    /**\n     * Resets the history stack\n     */\n    TypingDNA.reset = function(all) {\n      TypingDNA.history.stack = [];\n      TypingDNA.history.stackDiagram = [];\n      TypingDNA.clickTimes = [];\n      TypingDNA.stopTimes = [];\n      TypingDNA.ACInputLengths = {\n          inputs: [],\n          lastLength: [],\n      };\n      if (all == true) {\n        TypingDNA.mouse.history.stack = [];\n      }\n    }\n\n    /**\n     * Automatically called at initilization. It starts the recording of keystrokes.\n     */\n    TypingDNA.start = function() {\n      TypingDNA.diagramRecording = true;\n      return TypingDNA.recording = true;\n    }\n\n    /**\n     * Ends the recording of further keystrokes. To restart recording afterwards you can\n     * either call TypingDNA.start() or create a new TypingDNA object again, not recommended.\n     */\n    TypingDNA.stop = function() {\n      TypingDNA.diagramRecording = false;\n      return TypingDNA.recording = false;\n    }\n\n    /**\n     * Starts the recording of mouse activity.\n     */\n    TypingDNA.startMouse = function() {\n      return TypingDNA.mouseRecording = TypingDNA.mouseMoveRecording = true;\n    }\n\n    /**\n     * Stops the recording of mouse activity.\n     */\n    TypingDNA.stopMouse = function() {\n      return TypingDNA.mouseRecording = TypingDNA.mouseMoveRecording = false;\n    }\n\n    /**\n     * This is the main function that outputs the typing pattern as a String\n     * {type:Number, text:String, textId:Number, length: Number, targetId:String, caseSensitive:Boolean}\n     * @param {Object} obj an object with the following properties\n     * * * @param {String} type 0 for anytext pattern, 1 for sametext pattern (also called diagram pattern)\n     * * * and 2 for extended pattern (most versatile, can replace both anytext and sametext patterns)\n     * * * @param {Number} length (Optional) the length of the text in the history for which you want\n     * * * the typing pattern. length is ignored when text or targetId is set (or both).\n     * * * @param {String} text  (Only for type 1 and type 2) a typed string that you want the typing pattern for\n     * * * @param {Number} textId (Optional, only for type 1 and type 2) a personalized id for the typed text\n     * * * @param {String} targetId (Optional) specifies if pattern is obtain only from text typed in a certain target\n     * * * @param {Boolean} caseSensitive (Optional, default: false) Used if you pass a text for type 1 or type 2\n     * * * DEPRECATED * * * in favor of type = 2 * * *\n     * * * @param {Boolean} extended (Only for type 1) specifies if full information about what was typed is produced,\n     * * * including the actual key pressed, if false, only the order of pressed keys is kept (no actual content)\n     * @return {String} A typing pattern in string form\n     * @example var typingPattern = tdna.getTypingPattern({type=0, length=180});\n     * @example var typingPattern = tdna.getTypingPattern({type=1, text=\"Hello5g21?*\"});\n     * @example var typingPattern = tdna.getTypingPattern({type=2, text=\"example@mail.com\"});\n     */\n    TypingDNA.getTypingPattern = function(obj) {\n      if (typeof obj === 'object') {\n        switch (obj.type) {\n          case 0:\n            return TypingDNA.get(obj.length, obj.targetId);\n            break;\n          case 1:\n            var str = (obj.text != undefined) ? obj.text : obj.length;\n            return TypingDNA.history.getDiagram(obj.extended, str, obj.textId, obj.targetId, obj.caseSensitive);\n            break;\n          case 2:\n            var str = (obj.text != undefined) ? obj.text : obj.length;\n            return TypingDNA.history.getDiagram(true, str, obj.textId, obj.targetId, obj.caseSensitive);\n            break;\n          default:\n            return TypingDNA.get(obj.length);\n            break;\n        }\n      } else {\n        return TypingDNA.get();\n      }\n    }\n\n    TypingDNA.getDiagram = function(str, textId) {\n      return TypingDNA.history.getDiagram(false, str, textId, undefined, false);\n    }\n\n    TypingDNA.getExtendedDiagram = function(str, textId) {\n      return TypingDNA.history.getDiagram(true, str, textId, undefined, false);\n    }\n\n    TypingDNA.getMouseDiagram = function() {\n      return TypingDNA.mouse.history.getDiagram();\n    }\n\n    TypingDNA.get = function(length, targetId) {\n      var historyTotalLength = TypingDNA.history.stack.length;\n      if (length == undefined || length == 0) {\n        length = TypingDNA.defaultHistoryLength;\n      }\n      if (length > historyTotalLength) {\n        length = historyTotalLength;\n      }\n      var obj = {};\n      [obj.arr, targetLength] = TypingDNA.history.get(length, \"\", targetId);\n      if (targetId != undefined && targetId != \"\") {\n        length = targetLength;\n      }\n      var zl = TypingDNA.zl;\n      var histRev = length;\n      var histSktF = TypingDNA.math.fo(TypingDNA.history.get(length, \"seek\", targetId));\n      var histPrtF = TypingDNA.math.fo(TypingDNA.history.get(length, \"press\", targetId));\n      var pressHistMean = Math.round(TypingDNA.math.avg(histPrtF));\n      var seekHistMean = Math.round(TypingDNA.math.avg(histSktF));\n      var pressHistSD = Math.round(TypingDNA.math.sd(histPrtF));\n      var seekHistSD = Math.round(TypingDNA.math.sd(histSktF));\n      var charMeanTime = seekHistMean + pressHistMean;\n      var pressRatio = TypingDNA.math.rd((pressHistMean + zl) / (charMeanTime + zl), 4);\n      var seekToPressRatio = TypingDNA.math.rd((1 - pressRatio) / pressRatio, 4);\n      var pressSDToPressRatio = TypingDNA.math.rd((pressHistSD + zl) / (pressHistMean + zl), 4);\n      var seekSDToPressRatio = TypingDNA.math.rd((seekHistSD + zl) / (pressHistMean + zl), 4);\n      var cpm = Math.round(6E4 / (charMeanTime + zl));\n      if (histRev == 0) {\n        cpm = 0;\n      }\n      for (var i in obj.arr) {\n        var rev = obj.arr[i][1].length;\n        var seekMean = 0;\n        var pressMean = 0;\n        var postMean = 0;\n        var seekSD = 0;\n        var pressSD = 0;\n        var postSD = 0;\n        switch (obj.arr[i][0].length) {\n          case 0:\n            break;\n          case 1:\n            var seekMean = TypingDNA.math.rd((obj.arr[i][0][0] + zl) / (seekHistMean + zl), 4);\n            break;\n          default:\n            var arr = TypingDNA.math.fo(obj.arr[i][0]);\n            seekMean = TypingDNA.math.rd((TypingDNA.math.avg(arr) + zl) / (seekHistMean + zl), 4);\n            seekSD = TypingDNA.math.rd((TypingDNA.math.sd(arr) + zl) / (seekHistSD + zl), 4);\n        }\n        switch (obj.arr[i][1].length) {\n          case 0:\n            break;\n          case 1:\n            var pressMean = TypingDNA.math.rd((obj.arr[i][1][0] + zl) / (pressHistMean + zl), 4);\n            break;\n          default:\n            var arr = TypingDNA.math.fo(obj.arr[i][1]);\n            pressMean = TypingDNA.math.rd((TypingDNA.math.avg(arr) + zl) / (pressHistMean + zl), 4);\n            pressSD = TypingDNA.math.rd((TypingDNA.math.sd(arr) + zl) / (pressHistSD + zl), 4);\n        }\n        switch (obj.arr[i][2].length) {\n          case 0:\n            break;\n          case 1:\n            var postMean = TypingDNA.math.rd((obj.arr[i][2][0] + zl) / (seekHistMean + zl), 4);\n            break;\n          default:\n            var arr = TypingDNA.math.fo(obj.arr[i][2]);\n            postMean = TypingDNA.math.rd((TypingDNA.math.avg(arr) + zl) / (seekHistMean + zl), 4);\n            postSD = TypingDNA.math.rd((TypingDNA.math.sd(arr) + zl) / (seekHistSD + zl), 4);\n        }\n        delete obj.arr[i][2];\n        delete obj.arr[i][1];\n        delete obj.arr[i][0];\n        obj.arr[i][0] = rev;\n        obj.arr[i][1] = seekMean;\n        obj.arr[i][2] = pressMean;\n        obj.arr[i][3] = postMean;\n        obj.arr[i][4] = seekSD;\n        obj.arr[i][5] = pressSD;\n        obj.arr[i][6] = postSD;\n      }\n      var arr = [];\n      TypingDNA.apu(arr, histRev);\n      TypingDNA.apu(arr, cpm);\n      TypingDNA.apu(arr, charMeanTime);\n      TypingDNA.apu(arr, pressRatio);\n      TypingDNA.apu(arr, seekToPressRatio);\n      TypingDNA.apu(arr, pressSDToPressRatio);\n      TypingDNA.apu(arr, seekSDToPressRatio);\n      TypingDNA.apu(arr, pressHistMean);\n      TypingDNA.apu(arr, seekHistMean);\n      TypingDNA.apu(arr, pressHistSD);\n      TypingDNA.apu(arr, seekHistSD);\n      for (var c = 0; c <= 6; c++) {\n        for (var i = 0; i < 44; i++) {\n          var keyCode = TypingDNA.keyCodes[i];\n          var val = obj.arr[keyCode][c];\n          if (val == 0 && c > 0) {\n            val = 1;\n          }\n          TypingDNA.apu(arr, val);\n        }\n      }\n      TypingDNA.apu(arr, TypingDNA.isMobile());\n      TypingDNA.apu(arr, TypingDNA.version);\n      TypingDNA.apu(arr, TypingDNA.flags);\n      arr.push(TypingDNA.history.getSpecialKeys());\n      return arr.join(\",\");\n    }\n\n    TypingDNA.apu = function(arr, val) {\n      \"NaN\" == String(val) && (val = 0);\n      arr.push(val);\n    }\n\n    TypingDNA.math = {};\n\n    TypingDNA.math.rd = function(val, dec) {\n      return Number(val.toFixed(dec));\n    }\n\n    TypingDNA.math.avg = function(arr) {\n      var len = arr.length;\n      if (len > 0) {\n        var sum = 0;\n        for (var i = 0; i < len; i++) {\n          sum += arr[i];\n        }\n        return this.rd(sum / len, 4);\n      } else {\n        return 0;\n      }\n    }\n\n    TypingDNA.math.sd = function(arr) {\n      var len = arr.length;\n      if (len < 2) {\n        return 0;\n      } else {\n        var sumVS = 0;\n        var mean = this.avg(arr);\n        for (var i = 0; i < len; i++) {\n          sumVS += (arr[i] - mean) * (arr[i] - mean);\n        }\n        var sd = Math.sqrt(sumVS / len);\n        return sd;\n      }\n    }\n\n    TypingDNA.math.fo = function(arr) {\n      if (arr.length > 1) {\n        var values = arr.concat();\n        var len = arr.length;\n        values.sort(function(a, b) {\n          return a - b;\n        });\n        var asd = this.sd(values);\n        var aMean = values[Math.ceil(arr.length / 2)];\n        var multiplier = 2;\n        var maxVal = aMean + multiplier * asd;\n        var minVal = aMean - multiplier * asd;\n        if (len < 20) {\n          minVal = 0;\n        }\n        var fVal = [];\n        for (var i = 0; i < len; i++) {\n          var tempval = values[i];\n          if (tempval < maxVal && tempval > minVal) {\n            fVal.push(tempval);\n          }\n        }\n        return fVal;\n      } else {\n        return arr;\n      }\n    }\n\n    // Calculate a 32 bit FNV-1a hash\n    TypingDNA.math.fnv1aHash = function(str) {\n      if (str == undefined && typeof str !== 'string') {\n        return 0;\n      }\n      str = str.toLowerCase();\n      var i, l;\n      var hval = 0x721b5ad4;\n      for (i = 0, l = str.length; i < l; i++) {\n        hval ^= str.charCodeAt(i);\n        hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);\n      }\n      return hval >>> 0;\n    }\n\n    TypingDNA.history = {};\n    TypingDNA.history.stack = [];\n    TypingDNA.history.stackDiagram = [];\n\n    TypingDNA.history.add = function(arr) {\n      this.stack.push(arr);\n      if (this.stack.length > TypingDNA.maxHistoryLength) {\n        this.stack.shift();\n      }\n    }\n\n    TypingDNA.history.addDiagram = function(arr) {\n      this.stackDiagram.push(arr);\n    }\n\n    TypingDNA.history.getDiagram = function(extended, str, textId, targetId, caseSensitive) {\n      var caseSensitive = (caseSensitive != undefined) ? caseSensitive : (str == undefined || str == \"\");\n      var returnArr = [];\n      var diagramType = (extended == true) ? 1 : 0;\n      var stackDiagram = this.stackDiagram;\n      if (targetId != undefined && targetId != \"\" && stackDiagram.length > 0) {\n        stackDiagram = TypingDNA.sliceStackByTargetId(stackDiagram, targetId);\n        if (str == undefined || str == \"\") {\n          var element = TypingDNA.document.getElementById(targetId);\n          if (element != null) {\n            str = element.value;\n          }\n        }\n      } else {\n        var targetLength = TypingDNA.targetIds.length;\n        if (str == undefined || str == \"\") {\n          if (targetLength > 0) {\n            str = \"\";\n            for (var i = 0; i < targetLength; i++) {\n              var element = TypingDNA.document.getElementById(TypingDNA.targetIds[i]);\n              if (element != null) {\n                str += element.value;\n              }\n            }\n          } else {\n            if (!extended) {\n              console.log(\"Please use extended pattern OR provide a fixed string param OR use the addTarget method.\");\n            }\n          }\n        }\n      }\n      var missingCount = 0;\n      var diagramHistoryLength = stackDiagram.length;\n      var strLength = diagramHistoryLength;\n      if (typeof str === 'string') {\n        strLength = str.length;\n      } else if (typeof str === 'number' && str < diagramHistoryLength) {\n        strLength = str;\n      }\n      var returnTextId = 0;\n      if (textId != undefined) {\n        if (isNaN(parseInt(textId))) {\n          returnTextId = TypingDNA.math.fnv1aHash(textId);\n        } else {\n          returnTextId = parseInt(textId);\n        }\n      } else {\n        if (typeof str === 'string') {\n          returnTextId = TypingDNA.math.fnv1aHash(str);\n        }\n      }\n      returnArr.push([TypingDNA.isMobile(), TypingDNA.version, TypingDNA.flags, diagramType, strLength, returnTextId, TypingDNA.history.getSpecialKeys()]);\n      if (str != undefined && str.length > 0 && typeof str === 'string') {\n        var strLower = str.toLowerCase();\n        var strUpper = str.toUpperCase();\n        var lastFoundPos = [];\n        var lastPos = 0;\n        var strUpperCharCode;\n        var currentSensitiveCharCode;\n        for (var i = 0; i < str.length; i++) {\n          var currentCharCode = str.charCodeAt(i);\n          if (!caseSensitive) {\n            strUpperCharCode = strUpper.charCodeAt(i);\n            currentSensitiveCharCode = (strUpperCharCode != currentCharCode) ? strUpperCharCode : strLower.charCodeAt(i);\n          }\n          var startPos = lastPos;\n          var finishPos = diagramHistoryLength;\n          var found = false;\n          while (found == false) {\n            for (var j = startPos; j < finishPos; j++) {\n              var arr = stackDiagram[j];\n              var charCode = arr[3];\n              if (charCode == currentCharCode || (!caseSensitive && charCode == currentSensitiveCharCode)) {\n                found = true;\n                if (j == lastPos) {\n                  lastPos++;\n                  lastFoundPos = [];\n                } else {\n                  lastFoundPos.push(j);\n                  var len = lastFoundPos.length;\n                  if (len > 1 && lastFoundPos[len - 1] == lastFoundPos[len - 2] + 1) {\n                    lastPos = j + 1;\n                    lastFoundPos = [];\n                  }\n                }\n                var keyCode = arr[0];\n                var seekTime = arr[1];\n                var pressTime = arr[2];\n                if (extended) {\n                  returnArr.push([charCode, seekTime, pressTime, keyCode]);\n                } else {\n                  returnArr.push([seekTime, pressTime]);\n                }\n                break;\n              }\n            }\n            if (found == false) {\n              if (startPos != 0) {\n                startPos = 0;\n                finishPos = lastPos;\n              } else {\n                found = true;\n                if (TypingDNA.replaceMissingKeys) {\n                  missingCount++;\n                  if (typeof TypingDNA.savedMissingAvgValues !== 'object' || TypingDNA.savedMissingAvgValues.historyLength != diagramHistoryLength) {\n                    var histSktF = TypingDNA.math.fo(TypingDNA.history.get(0, \"seek\"));\n                    var histPrtF = TypingDNA.math.fo(TypingDNA.history.get(0, \"press\"));\n                    var seekTime = Math.round(TypingDNA.math.avg(histSktF));\n                    var pressTime = Math.round(TypingDNA.math.avg(histPrtF));\n                    TypingDNA.savedMissingAvgValues = {\n                      seekTime: seekTime,\n                      pressTime: pressTime,\n                      historyLength: diagramHistoryLength\n                    };\n                  } else {\n                    var seekTime = TypingDNA.savedMissingAvgValues.seekTime;\n                    var pressTime = TypingDNA.savedMissingAvgValues.pressTime;\n                  }\n                  var missing = 1;\n                  if (extended) {\n                    returnArr.push([currentCharCode, seekTime, pressTime, currentCharCode, missing]);\n                  } else {\n                    returnArr.push([seekTime, pressTime, missing]);\n                  }\n                  break;\n                }\n              }\n            }\n          }\n          if (TypingDNA.replaceMissingKeysPerc < missingCount * 100 / strLength) {\n            return null;\n          }\n        }\n      } else {\n        var startCount = 0;\n        if (typeof str === 'number') {\n          startCount = diagramHistoryLength - str;\n        }\n        if (startCount < 0) {\n          startCount = 0;\n        }\n        for (var i = startCount; i < diagramHistoryLength; i++) {\n          var arr = stackDiagram[i];\n          var keyCode = arr[0];\n          var seekTime = arr[1];\n          var pressTime = arr[2];\n          if (extended) {\n            var charCode = arr[3];\n            returnArr.push([charCode, seekTime, pressTime, keyCode]);\n          } else {\n            returnArr.push([seekTime, pressTime]);\n          }\n        }\n      }\n      return returnArr.join(\"|\");\n    }\n\n    TypingDNA.sliceStackByTargetId = function(stack, targetId) {\n      var length = stack.length;\n      var newStack = [];\n      for (i = 0; i < length; i++) {\n        var arr = stack[i];\n        if (arr[5] == targetId) {\n          newStack.push(arr);\n        }\n      }\n      return newStack;\n    }\n\n    TypingDNA.history.get = function(length, type, targetId) {\n      var stack = this.stack;\n      if (targetId != undefined && targetId != \"\" && stack.length > 0) {\n        stack = TypingDNA.sliceStackByTargetId(stack, targetId);\n      }\n      var historyTotalLength = stack.length;\n      if (length == 0 || length == undefined) {\n        length = TypingDNA.defaultHistoryLength;\n      }\n      if (length > historyTotalLength) {\n        length = historyTotalLength;\n      }\n      switch (type) {\n        case \"seek\":\n          var seekArr = [];\n          for (i = 1; i <= length; i++) {\n            var seekTime = stack[historyTotalLength - i][1];\n            if (seekTime <= TypingDNA.maxSeekTime) {\n              seekArr.push(seekTime);\n            }\n          };\n          return seekArr;\n          break;\n        case \"press\":\n          var pressArr = [];\n          for (i = 1; i <= length; i++) {\n            var pressTime = stack[historyTotalLength - i][2];\n            if (pressTime <= TypingDNA.maxPressTime) {\n              pressArr.push(pressTime);\n            }\n          };\n          return pressArr;\n          break;\n        default:\n          var historyStackObj = {};\n          for (var i in TypingDNA.keyCodes) {\n            historyStackObj[TypingDNA.keyCodes[i]] = [\n              [],\n              [],\n              []\n            ];\n          }\n          for (i = 1; i <= length; i++) {\n            var arr = stack[historyTotalLength - i];\n            var keyCode = arr[0];\n            var seekTime = arr[1];\n            var pressTime = arr[2];\n            var prevKeyCode = arr[3];\n            if (TypingDNA.keyCodesObj[keyCode]) {\n              if (seekTime <= TypingDNA.maxSeekTime) {\n                historyStackObj[keyCode][0].push(seekTime);\n                if (prevKeyCode != 0 && TypingDNA.keyCodesObj[prevKeyCode]) {\n                  historyStackObj[prevKeyCode][2].push(seekTime);\n                }\n              }\n              if (pressTime <= TypingDNA.maxPressTime) {\n                historyStackObj[keyCode][1].push(pressTime);\n              }\n            }\n          };\n          return [historyStackObj, length];\n      }\n    }\n\n    TypingDNA.history.getSpecialKeys = function() {\n      var returnArr = [];\n      var length = this.stack.length;\n      var historyStackObj = {};\n      for (var i in TypingDNA.spKeyCodes) {\n        historyStackObj[TypingDNA.spKeyCodes[i]] = [\n          [],\n        ];\n      }\n      for (i = 1; i <= length; i++) {\n        var arr = this.stack[length - i];\n        if (TypingDNA.spKeyCodesObj[arr[0]]) {\n          var keyCode = arr[0];\n          var pressTime = arr[2];\n          if (pressTime <= TypingDNA.maxPressTime) {\n            historyStackObj[keyCode][0].push(pressTime);\n          }\n        }\n      }\n      for (var i in TypingDNA.spKeyCodes) {\n        var arr = TypingDNA.math.fo(historyStackObj[TypingDNA.spKeyCodes[i]][0]);\n        var arrLen = arr.length;\n        returnArr.push(arrLen);\n        if (arrLen > 1) {\n          returnArr.push(Math.round(TypingDNA.math.avg(arr)));\n          returnArr.push(Math.round(TypingDNA.math.sd(arr)));\n        } else if (arrLen == 1) {\n          returnArr.push([arr[0], -1]);\n        } else {\n          returnArr.push([-1, -1]);\n        }\n      }\n      var clicksArrLen = TypingDNA.clickTimes.length;\n      returnArr.push(clicksArrLen);\n      if (clicksArrLen > 1) {\n        returnArr.push(Math.round(TypingDNA.math.avg(TypingDNA.clickTimes)));\n        returnArr.push(Math.round(TypingDNA.math.sd(TypingDNA.clickTimes)));\n      } else if (clicksArrLen == 1) {\n        returnArr.push(TypingDNA.clickTimes[0], -1);\n      } else {\n        returnArr.push([-1, -1]);\n      }\n      var stopArrLen = TypingDNA.stopTimes.length;\n      returnArr.push(stopArrLen);\n      if (stopArrLen > 1) {\n        returnArr.push(Math.round(TypingDNA.math.avg(TypingDNA.stopTimes)));\n        returnArr.push(Math.round(TypingDNA.math.sd(TypingDNA.stopTimes)));\n      } else if (stopArrLen == 1) {\n        returnArr.push(TypingDNA.stopTimes[0], -1);\n      } else {\n        returnArr.push([-1, -1]);\n      }\n      return returnArr;\n    }\n\n    /**\n     * Checks the quality of a typing pattern, how well it is revelated, how useful the\n     * information will be for matching applications. It returns a value between 0 and 1.\n     * Values over 0.3 are acceptable, however a value over 0.7 shows good pattern strength.\n     * @param  {String} typingPattern The typing pattern string returned by the get() function.\n     * @return {Number} A real number between 0 and 1. A close to 1 value means a stronger pattern.\n     * @example var quality = tdna.getQuality(typingPattern);\n     */\n    TypingDNA.getQuality = function(typingPattern) {\n      var obj = typingPattern.split(\",\");\n      for (i = 0; i < obj.length; i++) {\n        obj[i] = Number(obj[i]);\n      }\n      var totalEvents = obj[0];\n      var acc = rec = avgAcc = 0;\n      var avg = TypingDNA.math.avg(obj);\n      var revs = obj.slice(11, 55);\n      for (var i in revs) {\n        rec += Number(revs[i] > 0);\n        acc += Number(revs[i] > 4);\n        avgAcc += Number(revs[i] > avg);\n      }\n      var tReturn = Math.sqrt(rec * acc * avgAcc) / 80;\n      return tReturn > 1 ? 1 : tReturn;\n    }\n\n    /**\n     * Checks the validity of a typing pattern if recorded on mobile.\n     * @param  {String} typingPattern The typing pattern string returned by the get() function.\n     * @return {Number} A real number between 0 and 1. A number larger than 0.7 usually means a valid pattern.\n     * @example var quality = tdna.checkMobileValidity(typingPattern);\n     */\n    TypingDNA.checkMobileValidity = function(typingPattern) {\n      var obj = typingPattern.split(\",\");\n      var totalEvents = obj[0];\n      if (totalEvents == 0) {\n        return 0;\n      }\n      var rec = 0;\n      var revs = obj.slice(11, 55);\n      for (var i in revs) {\n        rec += Number(revs[i]);\n      }\n      return rec / totalEvents;\n    }\n\n    TypingDNA.getLength = function(typingPattern) {\n      return Number(typingPattern.split(\",\")[1]);\n    }\n\n    TypingDNA.isMobile = function() {\n      if (TypingDNA.mobile != undefined) {\n        return TypingDNA.mobile;\n      } else {\n        var check = 0;\n        (function(a) {\n          if (\n            /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i\n            .test(a) ||\n            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i\n            .test(a.substr(0, 4))) {\n            check = 1\n          }\n        })(navigator.userAgent || navigator.vendor || window.opera);\n        TypingDNA.mobile = check;\n        return check;\n      }\n    }\n\n    TypingDNA.getTextId = function(str) {\n      return TypingDNA.math.fnv1aHash(str);\n    }\n  } else {\n    // TypingDNA is a static class, currently doesn't support actual multiple instances (Singleton implementation)\n    return TypingDNA.instance;\n  }\n}\n"],"names":["module","TypingDNA","initialized","prototype","start","apply","arguments","stop","reset","addTarget","removeTarget","getTypingPattern","get","startDiagram","stopDiagram","getDiagram","getExtendedDiagram","getMouseDiagram","startMouse","stopMouse","getQuality","getLength","isMobile","getTextId","maxHistoryLength","defaultHistoryLength","maxSeekTime","maxPressTime","version","flags","instance","document","spKeyCodes","spKeyCodesObj","keyCodes","keyCodesObj","i","pt1","ut1","Date","getTime","wfk","sti","skt","recording","mouseRecording","mouseMoveRecording","spKeyRecording","diagramRecording","dwfk","dsti","dskt","drkc","dlastDownKey","prevKeyCode","maxMoveDeltaTime","maxScrollDeltaTime","maxStopTime","maxClickTime","maxMouseHistoryLength","lastMouseMoveTime","lastMouseDownTime","stopTimes","clickTimes","lastMouseStop","zl","isAndroidChrome","ACLastTime","ACSeekTime","ACPressTime","ACLastCharCode","ACLastKeyCode","ACInputLengths","inputs","lastLength","ACPreviousKeyCode","targetIds","lastTarget","lastTargetFound","replaceMissingKeys","replaceMissingKeysPerc","keyDown","e","isTarget","target","id","keyCode","removeEventListener","keyUp","keyPress","addEventListener","ACKeyDown","ACKeyUp","t0","seekTotal","startTime","shiftKey","charCode","ut","pressTime","seekTime","arr","history","add","undefined","realKeyCode","arrD","addDiagram","mouseScroll","mouse","scrollStarted","currentTime","scrollTimes","push","scrollTopArr","body","scrollTop","clearInterval","scrollInterval","setInterval","checkScroll","mouseMove","started","times","xPositions","screenX","yPositions","screenY","moveInterval","checkMove","mouseDown","which","stopTime","eventType","mouseUp","clickTime","indexOf","targetIndex","value","length","char","substr","selectionStart","toUpperCase","charCodeAt","targetLength","targetFound","attachEvent","stack","getDistance","a","b","Math","sqrt","getTotalDistance","totalDistance","getAngle","xPosDelta","yPosDelta","angle","leftRight","downUp","round","atan","abs","recordMoveAction","deltaTime","directDistance","ratioDistance","speed","isNaN","recordScrollAction","isFinite","shift","mouseDiagram","join","String","clearLastMove","clearLastScroll","splice","all","stackDiagram","obj","type","targetId","str","text","extended","textId","caseSensitive","historyTotalLength","histRev","histSktF","math","fo","histPrtF","pressHistMean","avg","seekHistMean","pressHistSD","sd","seekHistSD","charMeanTime","pressRatio","rd","seekToPressRatio","pressSDToPressRatio","seekSDToPressRatio","cpm","rev","seekMean","pressMean","postMean","seekSD","pressSD","postSD","apu","c","val","getSpecialKeys","dec","Number","toFixed","len","sum","sumVS","mean","values","concat","sort","asd","aMean","ceil","multiplier","maxVal","minVal","fVal","tempval","fnv1aHash","toLowerCase","l","hval","returnArr","diagramType","sliceStackByTargetId","element","getElementById","missingCount","diagramHistoryLength","strLength","returnTextId","parseInt","strLower","strUpper","lastFoundPos","lastPos","strUpperCharCode","currentSensitiveCharCode","currentCharCode","startPos","finishPos","found","j","savedMissingAvgValues","historyLength","missing","startCount","newStack","seekArr","pressArr","historyStackObj","arrLen","clicksArrLen","stopArrLen","typingPattern","split","acc","rec","avgAcc","revs","slice","tReturn","checkMobileValidity","totalEvents","mobile","check","test","navigator","userAgent","vendor","window","opera"],"mappings":"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"}