{"version":3,"file":"View.js","sources":["../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js"],"sourcesContent":["import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Backbone from '../vendor/lib/backbone.js';\n\nvar CHILDREN = '__children__';\nvar RENDERED = '__rendered__';\nvar PARENT = '__parent__';\nvar CHILD_DEFINITIONS = '__children_definitions__';\nvar ADD_TO_CONTAINER = '__add_to_container__';\n\nfunction getIndex(container, view) {\n  for (var i = 0; i < container[CHILDREN].length; i++) {\n    if (view.cid === container[CHILDREN][i].cid) {\n      return i;\n    }\n  }\n}\n\nfunction noop() {}\n\nfunction doRender(view) {\n  view[RENDERED] = true;\n  var html = view.renderTemplate(view.template);\n\n  if (html) {\n    view.$el.html(html);\n  } else if (view.length) {\n    view.$el.empty();\n  }\n\n  view.each(function (view) {\n    view[ADD_TO_CONTAINER]();\n  });\n}\n\nfunction subscribeEvents(view) {\n  var isEventPropertyRe = /^(?!(?:delegate|undelegate|_))([a-zA-Z0-9]+)(?:Events)$/;\n\n  oktaUnderscore.each(oktaUnderscore.allKeys(view), function (key) {\n    var matchKeys = key.match(isEventPropertyRe);\n\n    if (!matchKeys) {\n      return;\n    }\n\n    var bindings = oktaUnderscore.result(view, key);\n\n    var entity = view.options[matchKeys[1]] || view[matchKeys[1]];\n\n    if (!entity || !oktaUnderscore.isObject(bindings) || !oktaUnderscore.isFunction(entity.trigger)) {\n      return;\n    }\n\n    oktaUnderscore.each(bindings, function (callback, event) {\n      var callbacks = oktaUnderscore.isFunction(callback) ? [callback] : oktaUnderscore.reduce(callback.split(/\\s+/), (arr, name) => {\n        if (oktaUnderscore.isFunction(view[name])) {\n          arr.push(view[name]);\n        }\n\n        return arr;\n      }, []);\n\n      oktaUnderscore.each(callbacks, function (cb) {\n        view.listenTo(entity, event, cb);\n      });\n    });\n  });\n}\n/**\n   * A View operates on a string template, an token based template, or a model based template, with a few added hooks.\n   * It provides a collection of child views, when a child view could be a View or another View.\n   * Conceptually, if we were in a file system, the View is a folder, when the concrete child views are files,\n   * and the child Views are sub folders.\n   *\n   * *Technically, when using a View as a container, it could have its own concrete logic,\n   * but conceptually we like to keep it separated so a view is either a concrete view or a collection of child views.*\n   *\n   * In addition to the standard backbone options, we added `settings` and `state` as first class options.\n   * it will automatically assign `options` to `this.options` as an instance member.\n   *\n   * See [Backbone.View](http://backbonejs.org/#View).\n   *\n   * @class src/framework/View\n   * @extends external:Backbone.View\n   * @param {Object} [options] options hash\n   * @example\n   * var DocumentView = Archer.View.extend({\n   *   template: [\n   *     '<header></header>',\n   *     '<article></article>',\n   *     '<footer></footer>'\n   *   ].join(''),\n   *   children: [[HeaderView, 'header'], [ContentView, 'article'], [FooterView, 'footer']]\n   * });\n   */\n\n\nlet View;\nconst proto = {\n  /**\n     * An object listing events and callback bind to this.{entity}\n     * @name *Events\n     * @memberof src/framework/View\n     * @type {(Object|Function)}\n     * @instance\n     * @example\n     * var FooView = View.extend({\n     *   modelEvents: {\n     *     'change:name': 'render'\n     *   }\n     * })\n     * //equivalent to ==>\n     * var FooView = View.extend({\n     *   initialize: function() {\n     *     this.listenTo(this.model, 'change:name', this.render);\n     *   }\n     * });\n     *\n     *\n     * //Multiple callbacks:\n     * var FooView = View.extend({\n     *   modelEvents: {\n     *     'change:name': 'render foo'\n     *   },\n     *   foo: function() {}\n     * });\n     *\n     * //Callbacks As Function:\n     * var FooView = View.extend({\n     *   stateEvents: {\n     *     'change': function() {\n     *   }\n     * });\n     *\n     * //Event Configuration As Function\n     * var FooView = View.extend({\n     *   collectionEvents: function() {\n     *     var events = { 'change:name deleteItem': 'render' };\n     *     events['changeItem'] = 'spin';\n     *     events['addItem'] = function() {};\n     *     return events;\n     *   }\n     * });\n     */\n  preinitialize: function (options) {\n    /* eslint max-statements: [2, 17] */\n    this.options = options || {};\n\n    oktaUnderscore.extend(this, oktaUnderscore.pick(this.options, 'state', 'settings')); // init per-instance children collection\n\n\n    this[CHILDREN] = [];\n    this[RENDERED] = false;\n    this[PARENT] = null;\n    this[CHILD_DEFINITIONS] = this.children; // we want to make sure initialize is triggered *after* we append the views from the `this.views` array\n    // FIXME:\n    // It's actually can be done by override initialize method\n    //  initialize() { run extra login; super.initialize(); }\n    // BUT the problem is child classes would override initialize without invoke super.\n    // hence we have to also looking into (refactoring) ALL child classes.\n\n    this.__original_initialize__ = this.initialize;\n    this.initialize = noop;\n  },\n  constructor: function (options, ...rest) {\n    Backbone.View.call(this, options);\n\n    oktaUnderscore.each(oktaUnderscore.result(this, CHILD_DEFINITIONS), function (childDefinition) {\n      this.add.apply(this, oktaUnderscore.isArray(childDefinition) ? childDefinition : [childDefinition]);\n    }, this);\n\n    delete this[CHILD_DEFINITIONS];\n\n    const autoRender = oktaUnderscore.result(this, 'autoRender');\n\n    if (autoRender && this.model) {\n      var event = oktaUnderscore.isArray(autoRender) ? oktaUnderscore.map(autoRender, function (field) {\n        return 'change:' + field;\n      }).join(' ') : 'change';\n      this.listenTo(this.model, event, function () {\n        this.render();\n      });\n    }\n\n    this.initialize = this.__original_initialize__;\n    this.initialize.call(this, options, ...rest); // initialize in child class may have any number of parameters\n\n    subscribeEvents(this);\n  },\n\n  /**\n     * Unregister view from container\n     * Note: this will not remove the view from the dom\n     * and will not call the `remove` method on the view\n     *\n     * @param {src/framework/View} view the view to unregister\n     * @private\n     */\n  unregister: function (view) {\n    this.stopListening(view);\n    var viewIndex = getIndex(this, view); // viewIndex is undefined when the view is not found (may have been removed)\n    // check if it is undefined to prevent unexpected thing to happen\n    // array.splice(undefined, x) removes the first x element(s) from the array\n    // this protects us against issues when calling `remove` on a child view multiple times\n\n    if (oktaUnderscore.isNumber(viewIndex)) {\n      this[CHILDREN].splice(viewIndex, 1);\n    }\n  },\n\n  /**\n     * Should we auto render the view upon model change. Boolean or array of field names to listen to.\n     * @type {Boolean|Array}\n     * @deprecated Instead, please use modelEvents\n     * @example\n     * modelEvents: {\n     *   change:name: 'render'\n     * }\n     */\n  autoRender: false,\n\n  /**\n     *\n     * When the template is an underscore template, the render method will pass the options has to the template\n     * And the associated model, if exists, when it will prefer the model over the options in case of a conflict.\n     * {@link #render View.render}\n     * @type {(String|Function)}\n     * @example\n     * var View = View.extend({\n     *   template: '<p class=\"name\">{{name}}</p>'\n     * };\n     */\n  template: null,\n\n  /**\n     * A list of child view definitions to be passed to {@link #add this.add()}.\n     * Note: these definitions will be added **before** the {@link #constructor initiliaze} method invokes.\n     * @type {(Array|Function)}\n     * @example\n     * var Container = View.extend({\n     *    template: '<p class=\"content\"></p>',\n     *    children: [\n     *      [ContentView, '.content'],\n     *      [OtherContentView, '.content'],\n     *      OtherView\n     *    ]\n     *  })\n     *\n     * var Container = View.extend({\n     *    template: '<dov class=\"form-wrap\"></div>',\n     *    children: function () {\n     *      return [\n     *        [FormView, '.form-wrap', {options: {model: this.optiosn.otherModel}}]\n     *      ]\n     *    }\n     *  })\n     */\n  children: [],\n\n  /**\n     * Add a child view to the container.\n     * If the container is already rendered, will also render the view  and append it to the DOM.\n     * Otherwise will render and append once the container is rendered.\n     *\n     * *We believe that for the sake of encapsulation, a view should control its own chilren, so we treat this method as\n     * protected and even though technically you can call `view.add` externally we strongly discourage it.*\n     *\n     * @param {(src/framework/View|String)} view A class (or an instance which is discouraged) of a View - or an HTML\n     * string/template\n     * @param {String} [selector] selector in the view's template on which the view will be added to\n     * @param {Object} [options]\n     * @param {Boolean} [options.bubble=false] Bubble (proxy) events from this view up the chain\n     * @param {Boolean} [options.prepend=false] Prepend the view instend of appending\n     * @param {String} [options.selector] Selector in the view's template on which the view will be added to\n     * @param {Object} [options.options] Extra options to pass to the child constructor\n     * @protected\n     * @returns {src/framework/View} - The instance of itself for the sake of chaining\n     * @example\n     * var Container = View.extend({\n     *\n     *   template: [\n     *     '<h1></h1>',\n     *     '<section></section>',\n     *   ].join(''),\n     *\n     *   initalize: function () {\n     *\n     *     this.add(TitleView, 'h1'); // will be added to <h1>\n     *\n     *     this.add(ContentView1, 'section'); // will be added to <section>\n     *\n     *     this.add(ContentView2, 'section', {prepend: true}); // will be add into <section> **before** ContentView1\n     *\n     *     this.add(OtherView, {\n     *       options: {\n     *         model: new Model()\n     *       }\n     *     }); // will be added **after** the <section> element\n     *\n     *     this.add('<p class=\"name\">some html</p>'); //=> \"<p class=\"name\">some html</p>\"\n     *     this.add('<p class=\"name\">{{name}}</p>'); //=> \"<p class=\"name\">John Doe</p>\"\n     *     this.add('{{name}}') //=> \"<div>John Doe</div>\"\n     *     this.add('<span>{{name}}</span> w00t') //=> \"<div><span>John Doe</span> w00t</div>\"\n     *   }\n     *\n     * });\n     *\n     * var container - new View({name: 'John Doe'});\n     */\n  add: function (view, selector, bubble, prepend, extraOptions) {\n    /* eslint max-statements: [2, 30], complexity: [2, 12] */\n    var options = {};\n\n    var args = oktaUnderscore.toArray(arguments); // This will throw if a compiled template function is passed accidentally\n\n\n    if (oktaUnderscore.isFunction(view) && (!view.prototype || !view.prototype.render)) {\n      throw new Error('Type passed to add() is not a View');\n    }\n\n    if (oktaUnderscore.isObject(selector)) {\n      options = selector;\n      selector = options.selector;\n      bubble = options.bubble;\n      prepend = options.prepend;\n      extraOptions = options.options;\n    } else if (oktaUnderscore.isObject(bubble)) {\n      options = bubble;\n      bubble = options.bubble;\n      prepend = options.prepend;\n      extraOptions = options.options;\n    } // TODO: This will be deprecated at some point. Views should use precompiled templates\n\n\n    if (oktaUnderscore.isString(view)) {\n      view = function (template) {\n        return View.extend({\n          constructor: function () {\n            try {\n              var $el = Backbone.$(template);\n\n              if ($el.length !== 1) {\n                throw new Error('invalid Element');\n              }\n\n              var unescapingRexExp = /&(\\w+|#x\\d+);/g;\n              var elementUnescapedOuterHTMLLength = $el.prop('outerHTML').replace(unescapingRexExp, ' ').length;\n              var templateUnescapedLength = template.replace(unescapingRexExp, ' ').length;\n\n              if (elementUnescapedOuterHTMLLength !== templateUnescapedLength) {\n                throw new Error('invalid Element');\n              }\n\n              this.template = $el.html(); // Template string will be compiled by handlebars\n\n              this.el = $el.empty()[0];\n            } catch (e) {\n              // not a valid html tag.\n              this.template = template;\n            }\n\n            View.apply(this, arguments);\n          }\n        });\n      }(view);\n    }\n\n    if (view.prototype && view.prototype instanceof View) {\n      /* eslint new-cap: 0 */\n      var viewOptions = oktaUnderscore.omit(oktaUnderscore.extend({}, this.options, extraOptions), 'el');\n\n      args[0] = new view(viewOptions);\n      return this.add.apply(this, args);\n    } // prevent dups\n\n\n    if (oktaUnderscore.isNumber(getIndex(this, view))) {\n      throw new Error('Duplicate child');\n    }\n\n    view[PARENT] = this; // make the view responsible for adding itself to the parent:\n    // * register the selector in the closure\n    // * register a reference the parent in the closure\n\n    view[ADD_TO_CONTAINER] = function (selector) {\n      return function () {\n        if (selector && view[PARENT].$(selector).length !== 1) {\n          throw new Error('Invalid selector: ' + selector);\n        }\n\n        var $el = selector ? this[PARENT].$(selector) : this[PARENT].$el;\n        this.render(); // we need to delegate events in case\n        // the view was added and removed before\n\n        this.delegateEvents(); // this[PARENT].at(index).$el.before(this.el);\n\n        prepend ? $el.prepend(this.el) : $el.append(this.el);\n      };\n    }.call(view, selector); // if flag to bubble events is set\n    // proxy all child view events\n\n\n    if (bubble) {\n      this.listenTo(view, 'all', function () {\n        this.trigger.apply(this, arguments);\n      });\n    } // add to the dom if `render` has been called\n\n\n    if (this.rendered()) {\n      view[ADD_TO_CONTAINER]();\n    } // add view to child views collection\n\n\n    this[CHILDREN].push(view);\n    return this;\n  },\n\n  /**\n     * Remove all children from container\n     */\n  removeChildren: function () {\n    this.each(function (view) {\n      view.remove();\n    });\n    return this;\n  },\n\n  /**\n     *  Removes a view from the DOM, and calls stopListening to remove any bound events that the view has listenTo'd.\n     *  Also removes all childern of the view if any, and removes itself from its parent view(s)\n     */\n  remove: function () {\n    this.removeChildren();\n\n    if (this[PARENT]) {\n      this[PARENT].unregister(this);\n    }\n\n    return Backbone.View.prototype.remove.apply(this, arguments);\n  },\n\n  /**\n     * Compile the template to function you can apply tokens on on render time.\n     * Uses the underscore tempalting engine by default\n     * @protected\n     * @param  {String} template\n     * @return {Function} a compiled template\n     */\n  // TODO: This will be deprecated at some point. Views should use precompiled templates\n  compileTemplate: function (template) {\n    /* eslint  @okta/okta-ui/no-specific-methods: 0*/\n    return oktaUnderscore.template(template, undefined);\n  },\n\n  /**\n     * Render a template with `this.model` and `this.options` as parameters\n     * preferring the model over the options.\n     *\n     * @param  {(String|Function)} template The template to build\n     * @return {String} An HTML string\n     * @protected\n     */\n  renderTemplate: function (template) {\n    if (oktaUnderscore.isString(template)) {\n      // TODO: This will be deprecated at some point. Views should use precompiled templates\n      template = this.compileTemplate(template);\n    }\n\n    if (oktaUnderscore.isFunction(template)) {\n      return template(this.getTemplateData());\n    }\n  },\n\n  /**\n     * The data hash passed to the compiled template\n     * @return {Object}\n     * @protected\n     */\n  getTemplateData: function () {\n    var modelData = this.model && this.model.toJSON({\n      verbose: true\n    }) || {};\n\n    var options = oktaUnderscore.omit(this.options, ['state', 'settings', 'model', 'collection']);\n\n    return oktaUnderscore.defaults({}, modelData, options);\n  },\n\n  /**\n     * Renders the template to `$el` and append all children in order\n     * {@link #template View.template}\n     */\n  render: function () {\n    this.preRender();\n    doRender(this);\n    this.postRender();\n    return this;\n  },\n\n  /**\n     * Pre render routine. Will be called right *before* the logic in {@link #render} is executed\n     * @method\n     */\n  preRender: noop,\n\n  /**\n     * Post render routine. Will be called right *after* the logic in {@link #render} is executed\n     * @method\n     */\n  postRender: noop,\n\n  /**\n     * Was this instance rendered\n     */\n  rendered: function () {\n    return this[RENDERED];\n  },\n\n  /**\n     * Get all direct child views.\n     * @returns {src/framework/View[]}\n     * @example\n     * var container = View.extend({\n     *   children: [View1, View2]\n     * }).render();\n     * container.getChildren() //=> [view1, view2];\n     */\n  getChildren: function () {\n    return this.toArray();\n  },\n\n  /**\n     * Get a child by index\n     * @param {number} index\n     * @returns {src/framework/View} The child view\n     */\n  at: function (index) {\n    return this.getChildren()[index];\n  },\n\n  /**\n     * Invokes a method on all children down the tree\n     *\n     * @param {String} method The method to invoke\n     */\n  invoke: function (methodName) {\n    var args = oktaUnderscore.toArray(arguments);\n\n    this.each(function (child) {\n      // if child has children, bubble down the tree\n      if (child.size()) {\n        child.invoke.apply(child, args);\n      } // run the function on the child\n\n\n      if (oktaUnderscore.isFunction(child[methodName])) {\n        child[methodName].apply(child, args.slice(1));\n      }\n    });\n    return this;\n  }\n};\nView = Backbone.View.extend(\n/** @lends src/framework/View.prototype */\nproto); // Code borrowed from Backbone.js source\n// Underscore methods that we want to implement on the Container.\n\nvar methods = ['each', 'map', 'reduce', 'reduceRight', 'find', 'filter', 'reject', 'every', 'some', 'contains', 'toArray', 'size', 'first', 'initial', 'rest', 'last', 'without', 'indexOf', 'shuffle', 'lastIndexOf', 'isEmpty', 'chain', 'where', 'findWhere'];\n\noktaUnderscore.each(methods, function (method) {\n  View.prototype[method] = function () {\n    var args = oktaUnderscore.toArray(arguments);\n\n    args.unshift(oktaUnderscore.toArray(this[CHILDREN]));\n    return oktaUnderscore[method].apply(oktaUnderscore, args);\n  };\n});\n/**\n   * See [_.each](http://underscorejs.org/#each)\n   * @name each\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.map](http://underscorejs.org/#map)\n   * @name map\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reduce](http://underscorejs.org/#reduce)\n   * @name reduce\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Mixed} memo\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reduceRight](http://underscorejs.org/#reduceRight)\n   * @name reduceRight\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Mixed} memo\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.find](http://underscorejs.org/#find)\n   * @name find\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.filter](http://underscorejs.org/#filter)\n   * @name filter\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reject](http://underscorejs.org/#reject)\n   * @name reject\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.every](http://underscorejs.org/#every)\n   * @name every\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} [predicate]\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.some](http://underscorejs.org/#some)\n   * @name some\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} [predicate]\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.contains](http://underscorejs.org/#contains)\n   * @name contains\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   */\n\n/**\n   * See [_.toArray](http://underscorejs.org/#toArray)\n   * @name toArray\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.size](http://underscorejs.org/#size)\n   * @name size\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.first](http://underscorejs.org/#first)\n   * @name first\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.initial](http://underscorejs.org/#initial)\n   * @name initial\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.last](http://underscorejs.org/#last)\n   * @name last\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.rest](http://underscorejs.org/#rest)\n   * @name rest\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [index]\n   */\n\n/**\n   * See [_.without](http://underscorejs.org/#without)\n   * @name without\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.indexOf](http://underscorejs.org/#indexOf)\n   * @name indexOf\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   * @param {Boolean} [isSorted]\n   */\n\n/**\n   * See [_.shuffle](http://underscorejs.org/#shuffle)\n   * @name shuffle\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.shuffle](http://underscorejs.org/#lastIndexOf)\n   * @name lastIndexOf\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   * @param {Number} [fromIndex]\n   */\n\n/**\n   * See [_.isEmpty](http://underscorejs.org/#isEmpty)\n   * @name isEmpty\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.chain](http://underscorejs.org/#chain)\n   * @name chain\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.where](http://underscorejs.org/#where)\n   * @name where\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Object} properties\n   */\n\n/**\n   * See [_.findWhere](http://underscorejs.org/#findWhere)\n   * @name findWhere\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Object} properties\n   */\n\n/**\n * It's used for distinguishing the ambiguity from _.isFunction()\n * which returns True for both a JavaScript Class constructor function\n * and normal function. With this flag, we can tell a function is actually\n * a View Class.\n * This flag is added in order to support the type of a parameter can be\n * either a Class or pure function that returns a Class.\n */\n\n\nView.isCourageView = true;\nvar FrameworkView = View;\n\nexport { FrameworkView as default };\n"],"names":["CHILDREN","RENDERED","PARENT","CHILD_DEFINITIONS","ADD_TO_CONTAINER","getIndex","container","view","i","length","cid","noop","doRender","html","renderTemplate","template","$el","empty","each","subscribeEvents","isEventPropertyRe","oktaUnderscore","allKeys","key","matchKeys","match","bindings","result","entity","options","isObject","isFunction","trigger","callback","event","callbacks","reduce","split","arr","name","push","cb","listenTo","View","proto","preinitialize","extend","pick","children","__original_initialize__","initialize","constructor","rest","Backbone","call","childDefinition","add","apply","isArray","autoRender","model","map","field","join","render","unregister","stopListening","viewIndex","isNumber","splice","selector","bubble","prepend","extraOptions","args","toArray","arguments","prototype","Error","isString","$","unescapingRexExp","elementUnescapedOuterHTMLLength","prop","replace","templateUnescapedLength","el","e","viewOptions","omit","delegateEvents","append","rendered","removeChildren","remove","compileTemplate","undefined","getTemplateData","modelData","toJSON","verbose","defaults","preRender","postRender","getChildren","at","index","invoke","methodName","child","size","slice","methods","method","unshift","isCourageView","FrameworkView"],"mappings":"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CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA/B,IAAI,CAACwE,aAAa,GAAG,IAAI,CAAA;AACrBC,IAAAA,aAAa,GAAGzE;;;;"}