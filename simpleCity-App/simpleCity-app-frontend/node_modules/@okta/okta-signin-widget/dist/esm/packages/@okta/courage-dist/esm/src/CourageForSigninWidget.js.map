{"version":3,"file":"CourageForSigninWidget.js","sources":["../../../../../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js"],"sourcesContent":["import BaseCollection from './courage/models/BaseCollection.js';\nexport { default as BaseModel } from './courage/models/BaseModel.js';\nimport BaseSchema from './courage/models/BaseSchema.js';\nexport { default as Model } from './courage/models/Model.js';\nimport SchemaProperty from './courage/models/SchemaProperty.js';\nimport BaseController from './courage/util/BaseController.js';\nimport BaseRouter from './courage/util/BaseRouter.js';\nimport ButtonFactory from './courage/util/ButtonFactory.js';\nimport Class from './courage/util/Class.js';\nimport Cookie from './courage/util/Cookie.js';\nimport Clipboard from './courage/util/Clipboard.js';\nimport Keys from './courage/util/Keys.js';\nimport Logger from './courage/util/Logger.js';\nimport StringUtil from './courage/util/StringUtil.js';\nimport Util from './courage/util/Util.js';\nexport { default as Handlebars } from '../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport './courage/util/handlebars/handle-url.js';\nimport './courage/util/handlebars/helper-i18n.js';\nexport { default as $ } from './courage/util/jquery-wrapper.js';\nexport { default as _ } from './courage/util/underscore-wrapper.js';\nexport { default as ListView } from './courage/views/Backbone.ListView.js';\nimport BaseView from './courage/views/BaseView.js';\nimport BaseDropDown from './courage/views/components/BaseDropDown.js';\nimport Notification from './courage/views/components/Notification.js';\nimport BaseForm from './courage/views/forms/BaseForm.js';\nimport Toolbar from './courage/views/forms/components/Toolbar.js';\nimport FormUtil from './courage/views/forms/helpers/FormUtil.js';\nimport InputRegistry from './courage/views/forms/helpers/InputRegistry.js';\nimport SchemaFormFactory from './courage/views/forms/helpers/SchemaFormFactory.js';\nimport BaseInput from './courage/views/forms/BaseInput.js';\nimport CheckBox from './courage/views/forms/inputs/CheckBox.js';\nimport PasswordBox from './courage/views/forms/inputs/PasswordBox.js';\nimport Radio from './courage/views/forms/inputs/Radio.js';\nimport Select from './courage/views/forms/inputs/Select.js';\nimport InputGroup from './courage/views/forms/inputs/InputGroup.js';\nimport TextBox from './courage/views/forms/inputs/TextBox.js';\nimport Callout from './courage/views/components/Callout.js';\nexport { default as Backbone } from './courage/vendor/lib/backbone.js';\nimport FrameworkView from './courage/framework/View.js';\nexport { default as FrameworkView } from './courage/framework/View.js';\nimport './util/scrollParent.js';\nexport { isModelPropertySchema } from './courage/framework/Model.js';\nimport './courage/util/SettingsModel.js';\n\nconst Controller = BaseController.extend({\n  // The courage BaseController renders asynchronously in current versions of jQuery\n  // https://github.com/okta/okta-ui/blob/master/packages/courage/src/util/BaseController.ts#L117-L119\n  // https://api.jquery.com/jquery/#jQuery-callback\n  // Override so that render is synchronous\n  render: function (...args) {\n    BaseView.prototype.render.apply(this, args);\n    return this;\n  }\n});\n\nSelect.prototype.remove = function () {\n  // Patched to remove unneeded call to\n  // this.$select.trigger('remove');\n  // which causes error on IE11\n  return BaseInput.prototype.remove.apply(this, arguments);\n}; // The string will be returned unchanged. All templates should be precompiled.\n\n\nFrameworkView.prototype.compileTemplate = function (str) {\n  const compiledTmpl = function fakeTemplate() {\n    return str;\n  };\n\n  compiledTmpl.source = ''; // to satisfy TS\n\n  return compiledTmpl;\n}; // Override events to not support `Enter` submitting the form twice - OKTA-321999 and OKTA-317629\n\n\nconst events = {\n  'input input': 'update',\n  'change input': 'update',\n  'keydown input': 'update',\n  'keyup input': function (e) {\n    if (Keys.isEsc(e)) {\n      this.model.trigger('form:cancel');\n    }\n  }\n};\nconst TextBoxForSigninWidget = TextBox.extend({\n  events: events\n});\nconst PasswordBoxForSigninWidget = PasswordBox.extend({\n  events: events\n});\nconst Form = BaseForm.extend({\n  scrollOnError: function () {\n    // scrollOnError is true by default. Override to false if `scrollOnError` has been set to false in widget settings.\n    const {\n      settings: settings\n    } = this.options;\n\n    if (settings.get('features.scrollOnError') === false) {\n      return false;\n    }\n\n    return true;\n  }\n});\nconst loc = StringUtil.localize;\nconst createButton = ButtonFactory.create;\nconst createCallout = Callout.create;\nconst registerInput = InputRegistry.register;\nconst Collection = BaseCollection;\nconst View = BaseView;\nconst Router = BaseRouter;\nconst internal = {\n  util: {\n    Util: Util,\n    Cookie: Cookie,\n    Clipboard: Clipboard,\n    Logger: Logger,\n    Class: Class,\n    Keys: Keys\n  },\n  views: {\n    components: {\n      BaseDropDown: BaseDropDown,\n      Notification: Notification\n    },\n    forms: {\n      helpers: {\n        FormUtil: FormUtil,\n        SchemaFormFactory: SchemaFormFactory\n      },\n      components: {\n        Toolbar: Toolbar\n      },\n      inputs: {\n        TextBox: TextBoxForSigninWidget,\n        PasswordBox: PasswordBoxForSigninWidget,\n        CheckBox: CheckBox,\n        Radio: Radio,\n        Select: Select,\n        InputGroup: InputGroup\n      }\n    }\n  },\n  models: {\n    BaseSchema: BaseSchema,\n    SchemaProperty: SchemaProperty\n  }\n};\nregisterInput('text', TextBoxForSigninWidget);\nregisterInput('password', PasswordBoxForSigninWidget);\nregisterInput('checkbox', CheckBox);\nregisterInput('radio', Radio);\nregisterInput('select', Select);\nregisterInput('group', InputGroup);\n\nexport { Collection, Controller, Form, Router, View, createButton, createCallout, internal, loc, registerInput };\n"],"names":["Controller","BaseController","extend","render","args","BaseView","prototype","apply","Select","remove","BaseInput","arguments","FrameworkView","compileTemplate","str","compiledTmpl","fakeTemplate","source","events","e","Keys","isEsc","model","trigger","TextBoxForSigninWidget","TextBox","PasswordBoxForSigninWidget","PasswordBox","Form","BaseForm","scrollOnError","settings","options","get","loc","StringUtil","localize","createButton","ButtonFactory","create","createCallout","Callout","registerInput","InputRegistry","register","Collection","BaseCollection","View","Router","BaseRouter","internal","util","Util","Cookie","Clipboard","Logger","Class","views","components","BaseDropDown","Notification","forms","helpers","FormUtil","SchemaFormFactory","Toolbar","inputs","CheckBox","Radio","InputGroup","models","BaseSchema","SchemaProperty"],"mappings":"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"}