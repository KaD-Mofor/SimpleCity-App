{"version":3,"file":"Clipboard.js","sources":["../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/util/Clipboard.js"],"sourcesContent":["import clipboard from 'clipboard';\nimport oktaJQueryStatic from './jquery-wrapper.js';\nimport oktaUnderscore from './underscore-wrapper.js';\nimport FrameworkView from '../framework/View.js';\nimport Class from './Class.js';\n\nconst Clipboard = clipboard;\nconst OPTIONS = ['success', 'error', 'target', 'text'];\nconst ClipboardClipboardWrapper = Class.extend({\n  initialize: function (el, options) {\n    /* eslint complexity:0, max-statements: [2, 24] */\n    options = oktaUnderscore.pick(options || {}, OPTIONS);\n    let trigger;\n    let target;\n    let text;\n\n    if (oktaUnderscore.isString(el)) {\n      trigger = el;\n    }\n\n    if (oktaUnderscore.isElement(el)) {\n      trigger = el;\n    }\n\n    if (el instanceof oktaJQueryStatic) {\n      trigger = el.selector; // TODO: use stronger type\n    }\n\n    if (el instanceof FrameworkView) {\n      trigger = el.el;\n    }\n\n    if (oktaUnderscore.isFunction(options.target)) {\n      target = options.target;\n    }\n\n    if (oktaUnderscore.isElement(options.target)) {\n      target = oktaUnderscore.constant(options.target);\n    }\n\n    if (oktaUnderscore.isString(options.text)) {\n      text = oktaUnderscore.constant(options.text);\n    } else if (oktaUnderscore.isFunction(options.text)) {\n      text = options.text;\n    }\n\n    this.__instance = new Clipboard(trigger, {\n      target: target,\n      text: text\n    });\n    this.done = oktaUnderscore.partial(this.__setCallback, 'success');\n    this.error = oktaUnderscore.partial(this.__setCallback, 'error');\n    this.done(options.success);\n    this.error(options.error);\n  },\n  __setCallback: function (event, callback) {\n    if (!oktaUnderscore.isFunction(callback)) {\n      return;\n    }\n\n    this.__instance.on(event, callback);\n\n    return this.__instance;\n  }\n});\n/**\n * @class Clipboard\n * @abstract\n *\n * Abstract class that initializes a Clipboard\n *   https://clipboardjs.com/\n *\n * ### Example:\n *\n *  ```javascript\n *  //attach a selector\n *  Clipboard.attach('.copy-button');\n *\n *  //attach a node, and set a constant string\n *  Clipboard.attach(buttonView.el, {\n *    text: 'this is the content'\n *  });\n *\n *  //attach a view, set text dynamically, and set callback\n *  Clipboard.attach(buttonView, {\n *    text: function (triggerNode) {\n *      return $(triggerNode).attr('foo') + model.get('userName');\n *    }\n *  }).done(function (targetNode) {\n *    var msg = ['\"', targetNode.text, '\" is copied'].join('');\n *    view.notify('success', msg);\n *  });\n *\n *  //attach a jquery object, set the target node, and set callback\n *  Clipboard.attach($('.customizeTarget'), {\n *    target: function (triggerNode) {\n *      return triggerNode;\n *    },\n *    success: function (targetNode) {\n *      view.notify('success', 'copied!');\n *    }\n *  });\n *\n * ```\n */\n\nvar Clipboard$1 = {\n  /**\n   * @param {String|Node|View|jQuery} [el] el could be a selector (recommended),\n   *           a dom node, a view or a jquery object\n   * @param {Object} [options] Options hash\n   * @param  {Node|Function} [options.target] a static dom node\n   *           or a function that takes trigger node and returns a target node\n   * @param {String|Function} [options.text] a static string or a function that returns a string dynamically\n   * @param {Function} [options.success] success callback\n   * @param {Function} [options.error] error callback\n   * @return {Object} The clipboard object\n   */\n  attach: function (el, options) {\n    return new ClipboardClipboardWrapper(el, options);\n  }\n};\n\nexport { Clipboard$1 as default };\n"],"names":["Clipboard","clipboard","OPTIONS","ClipboardClipboardWrapper","Class","extend","initialize","el","options","oktaUnderscore","pick","trigger","target","text","isString","isElement","oktaJQueryStatic","selector","FrameworkView","isFunction","constant","__instance","done","partial","__setCallback","error","success","event","callback","on","Clipboard$1","attach"],"mappings":";;;;;;AAMA,MAAMA,SAAS,GAAGC,SAAS,CAAA;AAC3B,MAAMC,OAAO,GAAG,CAAC,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAA;AACtD,MAAMC,yBAAyB,GAAGC,KAAK,CAACC,MAAM,CAAC;AAC7CC,EAAAA,UAAU,EAAE,UAAUC,EAAE,EAAEC,OAAO,EAAE;AACjC;IACAA,OAAO,GAAGC,cAAc,CAACC,IAAI,CAACF,OAAO,IAAI,EAAE,EAAEN,OAAO,CAAC,CAAA;AACrD,IAAA,IAAIS,OAAO,CAAA;AACX,IAAA,IAAIC,MAAM,CAAA;AACV,IAAA,IAAIC,IAAI,CAAA;AAER,IAAA,IAAIJ,cAAc,CAACK,QAAQ,CAACP,EAAE,CAAC,EAAE;AAC/BI,MAAAA,OAAO,GAAGJ,EAAE,CAAA;AACd,KAAA;AAEA,IAAA,IAAIE,cAAc,CAACM,SAAS,CAACR,EAAE,CAAC,EAAE;AAChCI,MAAAA,OAAO,GAAGJ,EAAE,CAAA;AACd,KAAA;IAEA,IAAIA,EAAE,YAAYS,gBAAgB,EAAE;AAClCL,MAAAA,OAAO,GAAGJ,EAAE,CAACU,QAAQ,CAAC;AACxB,KAAA;;IAEA,IAAIV,EAAE,YAAYW,aAAa,EAAE;MAC/BP,OAAO,GAAGJ,EAAE,CAACA,EAAE,CAAA;AACjB,KAAA;IAEA,IAAIE,cAAc,CAACU,UAAU,CAACX,OAAO,CAACI,MAAM,CAAC,EAAE;MAC7CA,MAAM,GAAGJ,OAAO,CAACI,MAAM,CAAA;AACzB,KAAA;IAEA,IAAIH,cAAc,CAACM,SAAS,CAACP,OAAO,CAACI,MAAM,CAAC,EAAE;MAC5CA,MAAM,GAAGH,cAAc,CAACW,QAAQ,CAACZ,OAAO,CAACI,MAAM,CAAC,CAAA;AAClD,KAAA;IAEA,IAAIH,cAAc,CAACK,QAAQ,CAACN,OAAO,CAACK,IAAI,CAAC,EAAE;MACzCA,IAAI,GAAGJ,cAAc,CAACW,QAAQ,CAACZ,OAAO,CAACK,IAAI,CAAC,CAAA;KAC7C,MAAM,IAAIJ,cAAc,CAACU,UAAU,CAACX,OAAO,CAACK,IAAI,CAAC,EAAE;MAClDA,IAAI,GAAGL,OAAO,CAACK,IAAI,CAAA;AACrB,KAAA;AAEA,IAAA,IAAI,CAACQ,UAAU,GAAG,IAAIrB,SAAS,CAACW,OAAO,EAAE;AACvCC,MAAAA,MAAM,EAAEA,MAAM;AACdC,MAAAA,IAAI,EAAEA,IAAAA;AACR,KAAC,CAAC,CAAA;AACF,IAAA,IAAI,CAACS,IAAI,GAAGb,cAAc,CAACc,OAAO,CAAC,IAAI,CAACC,aAAa,EAAE,SAAS,CAAC,CAAA;AACjE,IAAA,IAAI,CAACC,KAAK,GAAGhB,cAAc,CAACc,OAAO,CAAC,IAAI,CAACC,aAAa,EAAE,OAAO,CAAC,CAAA;AAChE,IAAA,IAAI,CAACF,IAAI,CAACd,OAAO,CAACkB,OAAO,CAAC,CAAA;AAC1B,IAAA,IAAI,CAACD,KAAK,CAACjB,OAAO,CAACiB,KAAK,CAAC,CAAA;GAC1B;AACDD,EAAAA,aAAa,EAAE,UAAUG,KAAK,EAAEC,QAAQ,EAAE;AACxC,IAAA,IAAI,CAACnB,cAAc,CAACU,UAAU,CAACS,QAAQ,CAAC,EAAE;AACxC,MAAA,OAAA;AACF,KAAA;IAEA,IAAI,CAACP,UAAU,CAACQ,EAAE,CAACF,KAAK,EAAEC,QAAQ,CAAC,CAAA;IAEnC,OAAO,IAAI,CAACP,UAAU,CAAA;AACxB,GAAA;AACF,CAAC,CAAC,CAAA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIS,WAAW,GAAG;AAChB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,EAAAA,MAAM,EAAE,UAAUxB,EAAE,EAAEC,OAAO,EAAE;AAC7B,IAAA,OAAO,IAAIL,yBAAyB,CAACI,EAAE,EAAEC,OAAO,CAAC,CAAA;AACnD,GAAA;AACF;;;;"}