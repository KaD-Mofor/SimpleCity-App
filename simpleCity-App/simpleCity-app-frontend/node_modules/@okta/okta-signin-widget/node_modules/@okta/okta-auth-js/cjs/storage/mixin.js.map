{"version":3,"file":"mixin.js","names":["mixinStorage","Base","StorageManager","OktaAuthStorage","constructor","args","storageManager","cookies","storageUtil","options","clearStorage"],"sources":["../../../lib/storage/mixin.ts"],"sourcesContent":["import { OktaAuthBaseInterface, OktaAuthConstructor } from '../base/types';\nimport {\n  OktaAuthStorageInterface,\n  OktaAuthStorageOptions,\n  StorageManagerConstructor,\n  StorageManagerInterface,\n} from './types';\n\nexport function mixinStorage\n<\n  S extends StorageManagerInterface = StorageManagerInterface,\n  O extends OktaAuthStorageOptions = OktaAuthStorageOptions,\n  TBase extends OktaAuthConstructor<OktaAuthBaseInterface<O>> = OktaAuthConstructor<OktaAuthBaseInterface<O>>\n>\n(\n  Base: TBase, StorageManager: StorageManagerConstructor<S>\n): TBase & OktaAuthConstructor<OktaAuthStorageInterface<S, O>>\n{\n  return class OktaAuthStorage extends Base implements OktaAuthStorageInterface<S, O>\n  {\n    storageManager: S;\n    constructor(...args: any[]) {\n      super(...args);\n      const { storageManager, cookies, storageUtil } = this.options;\n      this.storageManager = new StorageManager(storageManager!, cookies!, storageUtil!);\n    }\n    clearStorage(): void {\n      // override in subclass\n    }\n  };\n}\n"],"mappings":";;;;AAQO,SAASA,YAAT,CAOLC,IAPK,EAOQC,cAPR,EASP;EACE,OAAO,MAAMC,eAAN,SAA8BF,IAA9B,CACP;IAEEG,WAAW,CAAC,GAAGC,IAAJ,EAAiB;MAC1B,MAAM,GAAGA,IAAT;MACA,MAAM;QAAEC,cAAF;QAAkBC,OAAlB;QAA2BC;MAA3B,IAA2C,KAAKC,OAAtD;MACA,KAAKH,cAAL,GAAsB,IAAIJ,cAAJ,CAAmBI,cAAnB,EAAoCC,OAApC,EAA8CC,WAA9C,CAAtB;IACD;;IACDE,YAAY,GAAS,CACnB;IACD;;EATH,CADA;AAYD"}