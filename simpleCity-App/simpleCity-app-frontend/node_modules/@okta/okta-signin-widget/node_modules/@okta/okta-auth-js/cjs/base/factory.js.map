{"version":3,"file":"factory.js","names":["createOktaAuthBase","OptionsConstructor","OktaAuthBase","constructor","args","options","length","removeNils","emitter","Emitter","features","constants","prototype","Object","assign"],"sources":["../../../lib/base/factory.ts"],"sourcesContent":["\n\n// Do not use this type in code, so it won't be emitted in the declaration output\nimport { removeNils } from '../util';\n\nimport * as features from '../features';\nimport * as constants from '../constants';\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore \n// Do not use this type in code, so it won't be emitted in the declaration output\nimport Emitter from 'tiny-emitter';\n\nimport {\n  EventEmitter,\n  OktaAuthConstructor,\n  OktaAuthBaseInterface,\n  OktaAuthBaseOptions,\n  OktaAuthOptionsConstructor, \n  FeaturesAPI,\n} from './types';\n\nexport function createOktaAuthBase\n<\n  O extends OktaAuthBaseOptions = OktaAuthBaseOptions,\n>\n(\n  OptionsConstructor: OktaAuthOptionsConstructor<O>\n): OktaAuthConstructor<OktaAuthBaseInterface<O>>\n{\n  class OktaAuthBase implements OktaAuthBaseInterface<O>\n  {\n    options: O;\n    emitter: EventEmitter;\n    features: FeaturesAPI;\n    static features: FeaturesAPI = features;\n    static constants = constants;\n    \n    constructor(...args: any[]) {\n      const options = new OptionsConstructor(args.length ? args[0] || {} : {});\n      this.options = removeNils(options) as O; // clear out undefined values\n      this.emitter = new Emitter();\n      this.features = features;\n    }\n  }\n\n  // Hoist feature detection functions to prototype & static type\n  OktaAuthBase.features = OktaAuthBase.prototype.features = features;\n\n  // Also hoist constants for CommonJS users\n  Object.assign(OktaAuthBase, {\n    constants\n  });\n\n  return OktaAuthBase;\n}\n"],"mappings":";;;;;;;;AAGA;;AAEA;;AACA;;AAKA;;;;;;AATA;AAMA;AACA;AACA;AAYO,SAASA,kBAAT,CAKLC,kBALK,EAOP;EACE,MAAMC,YAAN,CACA;IAOEC,WAAW,CAAC,GAAGC,IAAJ,EAAiB;MAC1B,MAAMC,OAAO,GAAG,IAAIJ,kBAAJ,CAAuBG,IAAI,CAACE,MAAL,GAAcF,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAzB,GAA8B,EAArD,CAAhB;MACA,KAAKC,OAAL,GAAe,IAAAE,gBAAA,EAAWF,OAAX,CAAf,CAF0B,CAEe;;MACzC,KAAKG,OAAL,GAAe,IAAIC,oBAAJ,EAAf;MACA,KAAKC,QAAL,GAAgBA,QAAhB;IACD;;EAZH,CAFF,CAiBE;;;EAjBF,8BACQR,YADR,cAMmCQ,QANnC;EAAA,8BACQR,YADR,eAOuBS,SAPvB;EAkBET,YAAY,CAACQ,QAAb,GAAwBR,YAAY,CAACU,SAAb,CAAuBF,QAAvB,GAAkCA,QAA1D,CAlBF,CAoBE;;EACAG,MAAM,CAACC,MAAP,CAAcZ,YAAd,EAA4B;IAC1BS;EAD0B,CAA5B;EAIA,OAAOT,YAAP;AACD"}