{"version":3,"file":"emailApi.js","names":["getEmails","oktaAuth","options","transaction","sendRequest","url","method","accessToken","transactionClassName","getEmail","id","addEmail","payload","deleteEmail","sendEmailChallenge","getEmailChallenge","emailId","challengeId","verifyEmailChallenge"],"sources":["../../../lib/myaccount/emailApi.ts"],"sourcesContent":["import { sendRequest } from './request';\nimport { \n  IAPIFunction, \n  BaseTransaction, \n  EmailTransaction, \n  EmailChallengeTransaction \n} from './types';\n\n/**\n * @scope: okta.myaccount.email.read\n */\nexport const getEmails: IAPIFunction<EmailTransaction[]> = async (\n  oktaAuth,\n  options?\n) => {\n  const transaction = await sendRequest(oktaAuth, {\n    url: '/idp/myaccount/emails',\n    method: 'GET',\n    accessToken: options?.accessToken,\n    transactionClassName: 'EmailTransaction'\n  }) as EmailTransaction[];\n  return transaction;\n};\n\n/**\n * @scope: okta.myaccount.email.read\n */\nexport const getEmail: IAPIFunction<EmailTransaction> = async (\n  oktaAuth, \n  options\n) => {\n  const { id, accessToken } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/emails/${id}`,\n    method: 'GET',\n    accessToken,\n    transactionClassName: 'EmailTransaction'\n  }) as EmailTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myaccount.email.manage\n */\nexport const addEmail: IAPIFunction<EmailTransaction> = async (\n  oktaAuth, \n  options\n): Promise<EmailTransaction> => {\n  const { accessToken, payload } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: '/idp/myaccount/emails',\n    method: 'POST',\n    payload,\n    accessToken,\n    transactionClassName: 'EmailTransaction'\n  }) as EmailTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myaccount.email.manage\n */\nexport const deleteEmail: IAPIFunction<BaseTransaction> = async (\n  oktaAuth, \n  options\n) => {\n  const { id, accessToken } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/emails/${id}`,\n    method: 'DELETE',\n    accessToken\n  }) as BaseTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myaccount.email.read\n */\nexport const sendEmailChallenge: IAPIFunction<EmailChallengeTransaction> = async (\n  oktaAuth, \n  options\n) => {\n  const { id, accessToken } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/emails/${id}/challenge`,\n    method: 'POST',\n    accessToken,\n    transactionClassName: 'EmailChallengeTransaction'\n  }) as EmailChallengeTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myaccount.email.read\n */\nexport const getEmailChallenge: IAPIFunction<EmailChallengeTransaction> = async (\n  oktaAuth, \n  options\n) => {\n  const { emailId, challengeId, accessToken } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/emails/${emailId}/challenge/${challengeId}`,\n    method: 'POST',\n    accessToken,\n    transactionClassName: 'EmailChallengeTransaction'\n  }) as EmailChallengeTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myaccount.email.manage\n */\nexport const verifyEmailChallenge: IAPIFunction<BaseTransaction> = async (\n  oktaAuth,\n  options\n) => {\n  const { emailId, challengeId, payload, accessToken } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/emails/${emailId}/challenge/${challengeId}/verify`,\n    method: 'POST',\n    payload,\n    accessToken\n  }) as BaseTransaction;\n  return transaction;\n};\n"],"mappings":"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"}